
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2ab1392c-5037-5acf-9955-ed0271439091")}catch(e){}}();
(()=>{function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var t=globalThis,r={},n={},i=t.parcelRequirece9f;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return r[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequirece9f=i);var o=i.register;o("inGbX",function(e,t){var r,n=i("5j54e"),o=i("7CrpG"),s=i("junNA"),a=(i("h6bGx"),i("1dgsE")),u=i("I9hij"),o=i("7CrpG"),l={},c=!1,f=[],d=null;async function h(){let e=await chrome.storage.local.get("amplitude_user_id");if(e.amplitude_user_id)return e.amplitude_user_id;let t=crypto.randomUUID();return chrome.storage.local.set({amplitude_user_id:t}),t}function p(e){return(0,n.default)(e,"data.bookmark_timeline_v2")||(0,n.default)(e,"data.bookmark_collection_timeline")}async function g(){let e={script_ver:1,wait_interval_ms:1e3};try{let t=new u.StatsigClient("client-gi22XqdLuYUpec1tfztfm3LZ4VITuE7F8y23oNlqEZU");await t.initializeAsync();let r=t.getDynamicConfig("core_bkg");return{...e,...r.value||{}}}catch(t){return console.error("Failed to load Statsig config:",t),a.logEvent("Config Load Error",{error:t.toString()}),e}}h().then(e=>{a.setUserId(e)}),chrome.runtime.setUninstallURL("https://bookmarks.toolboxforweb.xyz/uninstall.html"),a.init("9473ca5fa2decef7fa0ff2b7661bee5f",{appVersion:chrome.runtime.getManifest().version,defaultTracking:!1,identityStorage:"localStorage"}),chrome.runtime.onMessage.addListener(async function(e,t,r){if("start_download"===e.action)t.tab&&t.tab.url.includes("i/bookmarks")&&(a.logEvent("Trigger from Already Opened"),d=t.tab),v();else if("fetch_page"===e.action){var i;let t=(i=e.page,(0,n.default)(p(i),"timeline.instructions[0].entries",[]).filter(e=>!e.entryId.startsWith("cursor-")));f=f.concat(t),a.logEvent("Receive Page",{total_now:f.length}),chrome.action.setBadgeText({text:f.length.toString()})}else if("finish_download"===e.action){c=!1,chrome.action.setBadgeText({text:""});let e=new Date;(0,o.storage)().set({bookmarks:JSON.stringify(f),sync_at:new Date().getTime()}).then(()=>{a.logEvent("Value Set",{duration:new Date-e}),chrome.tabs.remove(d.id),d=null,chrome.tabs.create({url:"https://bookmarks.toolboxforweb.xyz/index.html#download-v2"})})}else if("abort"===e.action)c=!1,chrome.action.setBadgeText({text:""}),a.logEvent("Abort Success"),chrome.tabs.remove(d.id),d=null;else if("fetch_error"===e.action){let t=e.errors.filter(e=>e&&e.message).map(e=>e.message).join(", ");a.logEvent("Fetch Error V2",{error_msgs:t,errors:JSON.stringify(e.errors)})}else if("partial_fetch_error"===e.action){let t=e.payload.errors.filter(e=>e&&e.message).map(e=>e.message).join(", ");a.logEvent("Partial Fetch Error",{error_msgs:t,data_length:p(e.payload).timeline.instructions[0].entries.length})}else"sync_newly"===e.action?v(null,e.stopSortIndex):"fetch_network_error"===e.action&&a.logEvent("Fetch Network Error",{error:e.error?e.error.toString():"Unknown error"});return!0}),chrome.action.setBadgeBackgroundColor({color:"#1CA8FE"});let v=async(e,t)=>{a.logEvent("Icon Clicked");let n=await g();if(a.logEvent("Config Fetched",{config:n}),c){a.logEvent("Icon Click Do Nothing"),chrome.tabs.sendMessage(d.id,{action:"abortConfirm",script_ver:n.script_ver});return}2===Object.keys(l).length&&r&&d?(c=!0,f=[],chrome.tabs.sendMessage(d.id,{action:"iconClicked",creds:l,bookmarksURL:r,stopSortIndex:t,otherConfig:n,script_ver:n.script_ver})):chrome.tabs.create({url:"https://x.com/i/bookmarks"},e=>{d=e;let i=setInterval(()=>{2===Object.keys(l).length&&r&&(c=!0,f=[],chrome.tabs.sendMessage(d.id,{action:"iconClicked",creds:l,bookmarksURL:r,stopSortIndex:t,otherConfig:n,script_ver:n.script_ver}),clearInterval(i))},500)})};chrome.action.onClicked.addListener(v),chrome.webRequest.onBeforeSendHeaders.addListener(function(e){for(var t=0;t<e.requestHeaders.length;++t)"x-csrf-token"===e.requestHeaders[t].name?l["x-csrf-token"]=e.requestHeaders[t].value:"authorization"===e.requestHeaders[t].name&&(l.authorization=e.requestHeaders[t].value);return{requestHeaders:e.requestHeaders}},{urls:["*://x.com/*"]},["requestHeaders"]),chrome.webRequest.onBeforeRequest.addListener(e=>{e.url.includes("Bookmarks")?r=e.url:e.url.includes("BookmarkFoldersSlice")&&d&&(a.logEvent("Premium User Detected"),chrome.tabs.sendMessage(d.id,{action:"selectAllBookmarks"}))},{urls:["*://x.com/*"]}),chrome.runtime.onInstalled.addListener(e=>{chrome.runtime.getManifest().version,e.previousVersion,"install"===e.reason&&(a.logEvent("App Install"),chrome.tabs.create({url:"https://bookmarks.toolboxforweb.xyz/index.html#tutorial"}))}),chrome.runtime.onConnectExternal.addListener(e=>{Promise.all([h(),(0,o.getSecKey)()]).then(([t,r])=>{e.postMessage({command:"init",user_id:t,enc_key:r})}),e.onMessage.addListener(t=>{"ping"===t.command?chrome.tabs.create({url:"https://example.com"}):"start_download"===t.command?(v(null,t.stopCondition),setTimeout(()=>{e.postMessage({command:"download_started"})},1e3)):"storage_get"===t.command&&(0,o.storage)().get(t.keys).then(e=>(0,s.compressJSON)(e)).then(r=>{e.postMessage({command:"storage_response",sessionId:t.sessionId,data:r})})}),e.onDisconnect.addListener(()=>{})})}),o("5j54e",function(t,r){e(t.exports,"default",()=>o);var n=i("8Bgkc"),o=function(e,t,r){var i=null==e?void 0:(0,n.default)(e,t);return void 0===i?r:i}}),o("8Bgkc",function(t,r){e(t.exports,"default",()=>s);var n=i("dN3cv"),o=i("1EjgE"),s=function(e,t){t=(0,n.default)(t,e);for(var r=0,i=t.length;null!=e&&r<i;)e=e[(0,o.default)(t[r++])];return r&&r==i?e:void 0}}),o("dN3cv",function(t,r){e(t.exports,"default",()=>u);var n=i("fSAuz"),o=i("jAPBf"),s=i("hWTDO"),a=i("ieJ0o"),u=function(e,t){return(0,n.default)(e)?e:(0,o.default)(e,t)?[e]:(0,s.default)((0,a.default)(e))}}),o("fSAuz",function(t,r){e(t.exports,"default",()=>n);var n=Array.isArray}),o("jAPBf",function(t,r){e(t.exports,"default",()=>u);var n=i("fSAuz"),o=i("l5lET"),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,u=function(e,t){if((0,n.default)(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||(0,o.default)(e))||a.test(e)||!s.test(e)||null!=t&&e in Object(t)}}),o("l5lET",function(t,r){e(t.exports,"default",()=>s);var n=i("8NekV"),o=i("71D8U"),s=function(e){return"symbol"==typeof e||(0,o.default)(e)&&"[object Symbol]"==(0,n.default)(e)}}),o("8NekV",function(t,r){e(t.exports,"default",()=>u);var n=i("acRBw"),o=i("1ybla"),s=i("cb6Wx"),a=n.default?n.default.toStringTag:void 0,u=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?(0,o.default)(e):(0,s.default)(e)}}),o("acRBw",function(t,r){e(t.exports,"default",()=>n);var n=i("7LZkA").default.Symbol}),o("7LZkA",function(t,r){e(t.exports,"default",()=>s);var n=i("hcdLU"),o="object"==typeof self&&self&&self.Object===Object&&self,s=n.default||o||Function("return this")()}),o("hcdLU",function(r,n){e(r.exports,"default",()=>i);var i="object"==typeof t&&t&&t.Object===Object&&t}),o("1ybla",function(t,r){e(t.exports,"default",()=>l);var n=i("acRBw"),o=Object.prototype,s=o.hasOwnProperty,a=o.toString,u=n.default?n.default.toStringTag:void 0,l=function(e){var t=s.call(e,u),r=e[u];try{e[u]=void 0;var n=!0}catch(e){}var i=a.call(e);return n&&(t?e[u]=r:delete e[u]),i}}),o("cb6Wx",function(t,r){e(t.exports,"default",()=>i);var n=Object.prototype.toString,i=function(e){return n.call(e)}}),o("71D8U",function(t,r){e(t.exports,"default",()=>n);var n=function(e){return null!=e&&"object"==typeof e}}),o("hWTDO",function(t,r){e(t.exports,"default",()=>a);var n=i("l3ETV"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,a=(0,n.default)(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,r,n,i){t.push(n?i.replace(s,"$1"):r||e)}),t})}),o("l3ETV",function(t,r){e(t.exports,"default",()=>o);var n=i("fs2OD"),o=function(e){var t=(0,n.default)(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}}),o("fs2OD",function(t,r){e(t.exports,"default",()=>s);var n=i("3wrqO");function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(o.Cache||n.default),r}o.Cache=n.default;var s=o}),o("3wrqO",function(t,r){e(t.exports,"default",()=>c);var n=i("l8s8H"),o=i("dDH4B"),s=i("h2bPM"),a=i("7OlhX"),u=i("dgxmw");function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n.default,l.prototype.delete=o.default,l.prototype.get=s.default,l.prototype.has=a.default,l.prototype.set=u.default;var c=l}),o("l8s8H",function(t,r){e(t.exports,"default",()=>a);var n=i("dAcBy"),o=i("5o8NK"),s=i("1Ctg8"),a=function(){this.size=0,this.__data__={hash:new n.default,map:new(s.default||o.default),string:new n.default}}}),o("dAcBy",function(t,r){e(t.exports,"default",()=>c);var n=i("lzYiF"),o=i("6CXTu"),s=i("4AEBS"),a=i("7APn4"),u=i("aajCB");function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n.default,l.prototype.delete=o.default,l.prototype.get=s.default,l.prototype.has=a.default,l.prototype.set=u.default;var c=l}),o("lzYiF",function(t,r){e(t.exports,"default",()=>o);var n=i("2ZmJl"),o=function(){this.__data__=n.default?(0,n.default)(null):{},this.size=0}}),o("2ZmJl",function(t,r){e(t.exports,"default",()=>n);var n=(0,i("gtOZz").default)(Object,"create")}),o("gtOZz",function(t,r){e(t.exports,"default",()=>s);var n=i("k0yAe"),o=i("cyXXu"),s=function(e,t){var r=(0,o.default)(e,t);return(0,n.default)(r)?r:void 0}}),o("k0yAe",function(t,r){e(t.exports,"default",()=>h);var n=i("ckT7g"),o=i("hKM4t"),s=i("6WGZ7"),a=i("8LFzg"),u=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,f=l.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),h=function(e){return!(!(0,s.default)(e)||(0,o.default)(e))&&((0,n.default)(e)?d:u).test((0,a.default)(e))}}),o("ckT7g",function(t,r){e(t.exports,"default",()=>s);var n=i("8NekV"),o=i("6WGZ7"),s=function(e){if(!(0,o.default)(e))return!1;var t=(0,n.default)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}}),o("6WGZ7",function(t,r){e(t.exports,"default",()=>n);var n=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}),o("hKM4t",function(t,r){e(t.exports,"default",()=>a);var n,o=i("4W2dx"),s=(n=/[^.]+$/.exec(o.default&&o.default.keys&&o.default.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",a=function(e){return!!s&&s in e}}),o("4W2dx",function(t,r){e(t.exports,"default",()=>n);var n=i("7LZkA").default["__core-js_shared__"]}),o("8LFzg",function(t,r){e(t.exports,"default",()=>i);var n=Function.prototype.toString,i=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}}),o("cyXXu",function(t,r){e(t.exports,"default",()=>n);var n=function(e,t){return null==e?void 0:e[t]}}),o("6CXTu",function(t,r){e(t.exports,"default",()=>n);var n=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}}),o("4AEBS",function(t,r){e(t.exports,"default",()=>s);var n=i("2ZmJl"),o=Object.prototype.hasOwnProperty,s=function(e){var t=this.__data__;if(n.default){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0}}),o("7APn4",function(t,r){e(t.exports,"default",()=>s);var n=i("2ZmJl"),o=Object.prototype.hasOwnProperty,s=function(e){var t=this.__data__;return n.default?void 0!==t[e]:o.call(t,e)}}),o("aajCB",function(t,r){e(t.exports,"default",()=>o);var n=i("2ZmJl"),o=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n.default&&void 0===t?"__lodash_hash_undefined__":t,this}}),o("5o8NK",function(t,r){e(t.exports,"default",()=>c);var n=i("lxyOF"),o=i("463gz"),s=i("7qrkb"),a=i("l386v"),u=i("fob0H");function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n.default,l.prototype.delete=o.default,l.prototype.get=s.default,l.prototype.has=a.default,l.prototype.set=u.default;var c=l}),o("lxyOF",function(t,r){e(t.exports,"default",()=>n);var n=function(){this.__data__=[],this.size=0}}),o("463gz",function(t,r){e(t.exports,"default",()=>s);var n=i("1O6Ca"),o=Array.prototype.splice,s=function(e){var t=this.__data__,r=(0,n.default)(t,e);return!(r<0)&&(r==t.length-1?t.pop():o.call(t,r,1),--this.size,!0)}}),o("1O6Ca",function(t,r){e(t.exports,"default",()=>o);var n=i("eGNYh"),o=function(e,t){for(var r=e.length;r--;)if((0,n.default)(e[r][0],t))return r;return -1}}),o("eGNYh",function(t,r){e(t.exports,"default",()=>n);var n=function(e,t){return e===t||e!=e&&t!=t}}),o("7qrkb",function(t,r){e(t.exports,"default",()=>o);var n=i("1O6Ca"),o=function(e){var t=this.__data__,r=(0,n.default)(t,e);return r<0?void 0:t[r][1]}}),o("l386v",function(t,r){e(t.exports,"default",()=>o);var n=i("1O6Ca"),o=function(e){return(0,n.default)(this.__data__,e)>-1}}),o("fob0H",function(t,r){e(t.exports,"default",()=>o);var n=i("1O6Ca"),o=function(e,t){var r=this.__data__,i=(0,n.default)(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}}),o("1Ctg8",function(t,r){e(t.exports,"default",()=>s);var n=i("gtOZz"),o=i("7LZkA"),s=(0,n.default)(o.default,"Map")}),o("dDH4B",function(t,r){e(t.exports,"default",()=>o);var n=i("1qlUf"),o=function(e){var t=(0,n.default)(this,e).delete(e);return this.size-=t?1:0,t}}),o("1qlUf",function(t,r){e(t.exports,"default",()=>o);var n=i("laUXQ"),o=function(e,t){var r=e.__data__;return(0,n.default)(t)?r["string"==typeof t?"string":"hash"]:r.map}}),o("laUXQ",function(t,r){e(t.exports,"default",()=>n);var n=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}}),o("h2bPM",function(t,r){e(t.exports,"default",()=>o);var n=i("1qlUf"),o=function(e){return(0,n.default)(this,e).get(e)}}),o("7OlhX",function(t,r){e(t.exports,"default",()=>o);var n=i("1qlUf"),o=function(e){return(0,n.default)(this,e).has(e)}}),o("dgxmw",function(t,r){e(t.exports,"default",()=>o);var n=i("1qlUf"),o=function(e,t){var r=(0,n.default)(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}}),o("ieJ0o",function(t,r){e(t.exports,"default",()=>o);var n=i("jWmHA"),o=function(e){return null==e?"":(0,n.default)(e)}}),o("jWmHA",function(t,r){e(t.exports,"default",()=>f);var n=i("acRBw"),o=i("eKb2j"),s=i("fSAuz"),a=i("l5lET"),u=1/0,l=n.default?n.default.prototype:void 0,c=l?l.toString:void 0,f=function e(t){if("string"==typeof t)return t;if((0,s.default)(t))return(0,o.default)(t,e)+"";if((0,a.default)(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-u?"-0":r}}),o("eKb2j",function(t,r){e(t.exports,"default",()=>n);var n=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}}),o("1EjgE",function(t,r){e(t.exports,"default",()=>s);var n=i("l5lET"),o=1/0,s=function(e){if("string"==typeof e||(0,n.default)(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}}),o("7CrpG",function(t,r){let n;function o(){return n||(n=chrome.storage.local),n}e(t.exports,"storage",()=>o),e(t.exports,"getSecKey",()=>a),i("3H0nt"),i("hGCVr"),i("6b3zd");var s=i("k7A83");async function a(){let e=await o().get("hr_state");if(e.hr_state)return e.hr_state.enc_key;{var t;let e=(t=function(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="";for(let r=0;r<20;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}(),s.encrypt(t,"Cgf4zaeuypDZBhD8GqtgRrxqgaZkchx").toString());return await o().set({hr_state:{enc_key:e}}),e}}}),o("3H0nt",function(t,r){e(t.exports,"default",()=>s);var n=i("lWbEj"),o=i("8r46m"),s=(0,n.default)(function(e,t){return(0,o.default)([e],t)[0]})}),o("lWbEj",function(t,r){e(t.exports,"default",()=>s);var n=i("5EEEM"),o=i("45mix");function s(e){return function t(r,i){switch(arguments.length){case 0:return t;case 1:return(0,o.default)(r)?t:(0,n.default)(function(t){return e(r,t)});default:return(0,o.default)(r)&&(0,o.default)(i)?t:(0,o.default)(r)?(0,n.default)(function(t){return e(t,i)}):(0,o.default)(i)?(0,n.default)(function(t){return e(r,t)}):e(r,i)}}}}),o("5EEEM",function(t,r){e(t.exports,"default",()=>o);var n=i("45mix");function o(e){return function t(r){return 0==arguments.length||(0,n.default)(r)?t:e.apply(this,arguments)}}}),o("45mix",function(t,r){e(t.exports,"default",()=>n);function n(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}}),o("8r46m",function(t,r){e(t.exports,"default",()=>a);var n=i("lWbEj"),o=i("hc8dG"),s=i("lvimg"),a=(0,n.default)(function(e,t){return e.map(function(e){for(var r,n=t,i=0;i<e.length;){if(null==n)return;r=e[i],n=(0,o.default)(r)?(0,s.default)(r,n):n[r],i+=1}return n})})}),o("hc8dG",function(t,r){e(t.exports,"default",()=>n);var n=Number.isInteger||function(e){return e<<0===e}}),o("lvimg",function(t,r){e(t.exports,"default",()=>s);var n=i("lWbEj"),o=i("5tT41"),s=(0,n.default)(function(e,t){var r=e<0?t.length+e:e;return(0,o.default)(t)?t.charAt(r):t[r]})}),o("5tT41",function(t,r){e(t.exports,"default",()=>n);function n(e){return"[object String]"===Object.prototype.toString.call(e)}}),o("hGCVr",function(t,r){e(t.exports,"default",()=>a);var n=i("lWbEj"),o=i("4wdnU"),s=i("7GnJP"),a=(0,n.default)(function(e,t){for(var r=new o.default,n=0;n<e.length;n+=1)r.add(e[n]);return(0,s.default)(r.has.bind(r),t)})}),o("4wdnU",function(t,r){e(t.exports,"default",()=>s);var n=i("iffpF");function o(e,t,r){var i,o=typeof e;switch(o){case"string":case"number":if(0===e&&1/e==-1/0){if(r._items["-0"])return!0;return t&&(r._items["-0"]=!0),!1}if(null!==r._nativeSet){if(t)return i=r._nativeSet.size,r._nativeSet.add(e),r._nativeSet.size===i;return r._nativeSet.has(e)}if(!(o in r._items))return t&&(r._items[o]={},r._items[o][e]=!0),!1;if(e in r._items[o])return!0;return t&&(r._items[o][e]=!0),!1;case"boolean":if(!(o in r._items))return t&&(r._items[o]=e?[!1,!0]:[!0,!1]),!1;var s=e?1:0;if(r._items[o][s])return!0;return t&&(r._items[o][s]=!0),!1;case"function":if(null!==r._nativeSet){if(t)return i=r._nativeSet.size,r._nativeSet.add(e),r._nativeSet.size===i;return r._nativeSet.has(e)}if(!(o in r._items))return t&&(r._items[o]=[e]),!1;if(!(0,n.default)(e,r._items[o]))return t&&r._items[o].push(e),!1;return!0;case"undefined":if(r._items[o])return!0;return t&&(r._items[o]=!0),!1;case"object":if(null===e){if(!r._items.null)return t&&(r._items.null=!0),!1;return!0}default:if(!((o=Object.prototype.toString.call(e))in r._items))return t&&(r._items[o]=[e]),!1;if(!(0,n.default)(e,r._items[o]))return t&&r._items[o].push(e),!1;return!0}}var s=function(){function e(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!o(e,!0,this)},e.prototype.has=function(e){return o(e,!1,this)},e}()}),o("iffpF",function(t,r){e(t.exports,"default",()=>o);var n=i("ijmqq");function o(e,t){return(0,n.default)(t,e,0)>=0}}),o("ijmqq",function(t,r){e(t.exports,"default",()=>o);var n=i("hjixb");function o(e,t,r){var i,o;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(i=1/t;r<e.length;){if(0===(o=e[r])&&1/o===i)return r;r+=1}return -1}if(t!=t){for(;r<e.length;){if("number"==typeof(o=e[r])&&o!=o)return r;r+=1}return -1}return e.indexOf(t,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,r);case"object":if(null===t)return e.indexOf(t,r)}for(;r<e.length;){if((0,n.default)(e[r],t))return r;r+=1}return -1}}),o("hjixb",function(t,r){e(t.exports,"default",()=>s);var n=i("lWbEj"),o=i("EOiKO"),s=(0,n.default)(function(e,t){return(0,o.default)(e,t,[],[])})}),o("EOiKO",function(t,r){e(t.exports,"default",()=>d);var n=i("aOVOe"),o=i("jwN3Z"),s=i("4tSyT"),a=i("7sFaU"),u=i("dKabt"),l=i("03GHR"),c=i("dGnQi");function f(e,t,r,i){var s=(0,n.default)(e),a=(0,n.default)(t);function u(e,t){return d(e,t,r.slice(),i.slice())}return!(0,o.default)(function(e,t){return!(0,o.default)(u,t,e)},a,s)}function d(e,t,r,n){if((0,u.default)(e,t))return!0;var i=(0,c.default)(e);if(i!==(0,c.default)(t))return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(0,s.default)(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&(0,u.default)(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!(0,u.default)(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1}for(var o=r.length-1;o>=0;){if(r[o]===e)return n[o]===t;o-=1}switch(i){case"Map":if(e.size!==t.size)return!1;return f(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":if(e.size!==t.size)return!1;return f(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var h=(0,l.default)(e);if(h.length!==(0,l.default)(t).length)return!1;var p=r.concat([e]),g=n.concat([t]);for(o=h.length-1;o>=0;){var v=h[o];if(!((0,a.default)(v,t)&&d(t[v],e[v],p,g)))return!1;o-=1}return!0}}),o("aOVOe",function(t,r){e(t.exports,"default",()=>n);function n(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}}),o("jwN3Z",function(t,r){e(t.exports,"default",()=>n);function n(e,t,r){for(var n=0,i=r.length;n<i;){if(e(t,r[n]))return!0;n+=1}return!1}}),o("4tSyT",function(t,r){e(t.exports,"default",()=>n);function n(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}}),o("7sFaU",function(t,r){e(t.exports,"default",()=>n);function n(e,t){return Object.prototype.hasOwnProperty.call(t,e)}}),o("dKabt",function(t,r){e(t.exports,"default",()=>n);var n="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}}),o("03GHR",function(t,r){e(t.exports,"default",()=>f);var n=i("5EEEM"),o=i("7sFaU"),s=i("8YTcF"),a=!({toString:null}).propertyIsEnumerable("toString"),u=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],l=function(){return arguments.propertyIsEnumerable("length")}(),c=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1},f="function"!=typeof Object.keys||l?(0,n.default)(function(e){if(Object(e)!==e)return[];var t,r,n=[],i=l&&(0,s.default)(e);for(t in e)(0,o.default)(t,e)&&(!i||"length"!==t)&&(n[n.length]=t);if(a)for(r=u.length-1;r>=0;)t=u[r],(0,o.default)(t,e)&&!c(n,t)&&(n[n.length]=t),r-=1;return n}):(0,n.default)(function(e){return Object(e)!==e?[]:Object.keys(e)})}),o("8YTcF",function(t,r){e(t.exports,"default",()=>s);var n=i("7sFaU"),o=Object.prototype.toString,s=function(){return"[object Arguments]"===o.call(arguments)?function(e){return"[object Arguments]"===o.call(e)}:function(e){return(0,n.default)("callee",e)}}()}),o("dGnQi",function(t,r){e(t.exports,"default",()=>n);var n=(0,i("5EEEM").default)(function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)})}),o("7GnJP",function(t,r){e(t.exports,"default",()=>a);var n=i("Gt5ZR"),o=i("lWbEj"),s=i("a66RA"),a=(0,o.default)(function(e,t){return(0,s.default)((0,n.default)(e),t)})}),o("Gt5ZR",function(t,r){e(t.exports,"default",()=>n);function n(e){return function(){return!e.apply(this,arguments)}}}),o("a66RA",function(t,r){e(t.exports,"default",()=>f);var n=i("aCfqd"),o=i("lWbEj"),s=i("8KJLu"),a=i("9jShP"),u=i("HnV9V"),l=i("5annm"),c=i("03GHR"),f=(0,o.default)((0,s.default)(["fantasy-land/filter","filter"],l.default,function(e,t){return(0,u.default)(t)?(0,n.default)(function(r,n){return e(t[n])&&(r[n]=t[n]),r},{},(0,c.default)(t)):(0,a.default)(e,t)}))}),o("aCfqd",function(t,r){e(t.exports,"default",()=>n);function n(e,t,r){for(var n=0,i=r.length;n<i;)t=e(t,r[n]),n+=1;return t}}),o("8KJLu",function(t,r){e(t.exports,"default",()=>s);var n=i("7Zn9x"),o=i("6YIQi");function s(e,t,r){return function(){if(0==arguments.length)return r();var i=arguments[arguments.length-1];if(!(0,n.default)(i)){for(var s=0;s<e.length;){if("function"==typeof i[e[s]])return i[e[s]].apply(i,Array.prototype.slice.call(arguments,0,-1));s+=1}if((0,o.default)(i)){var a=t.apply(null,Array.prototype.slice.call(arguments,0,-1));return a(i)}}return r.apply(this,arguments)}}}),o("7Zn9x",function(t,r){e(t.exports,"default",()=>n);var n=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)}}),o("6YIQi",function(t,r){e(t.exports,"default",()=>n);function n(e){return null!=e&&"function"==typeof e["@@transducer/step"]}}),o("9jShP",function(t,r){e(t.exports,"default",()=>n);function n(e,t){for(var r=0,n=t.length,i=[];r<n;)e(t[r])&&(i[i.length]=t[r]),r+=1;return i}}),o("HnV9V",function(t,r){e(t.exports,"default",()=>n);function n(e){return"[object Object]"===Object.prototype.toString.call(e)}}),o("5annm",function(t,r){e(t.exports,"default",()=>s);var n=i("bT1Sa"),o=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=n.default.init,e.prototype["@@transducer/result"]=n.default.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}();function s(e){return function(t){return new o(e,t)}}}),o("bT1Sa",function(t,r){e(t.exports,"default",()=>n);var n={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}}}),o("6b3zd",function(t,r){e(t.exports,"default",()=>n);var n=(0,i("lWbEj").default)(function(e,t){for(var r=0,n=Math.min(e.length,t.length),i={};r<n;)i[e[r]]=t[r],r+=1;return i})}),o("k7A83",function(e,t){var r;r=function(e){var t,r,n,i,o,s,a,u,l,c,f,d,h,p;return t=e.lib.BlockCipher,r=e.algo,n=[],i=[],o=[],s=[],a=[],u=[],l=[],c=[],f=[],d=[],function(){for(var e=[],t=0;t<256;t++)t<128?e[t]=t<<1:e[t]=t<<1^283;for(var r=0,h=0,t=0;t<256;t++){var p=h^h<<1^h<<2^h<<3^h<<4;p=p>>>8^255&p^99,n[r]=p,i[p]=r;var g=e[r],v=e[g],_=e[v],y=257*e[p]^16843008*p;o[r]=y<<24|y>>>8,s[r]=y<<16|y>>>16,a[r]=y<<8|y>>>24,u[r]=y;var y=16843009*_^65537*v^257*g^16843008*r;l[p]=y<<24|y>>>8,c[p]=y<<16|y>>>16,f[p]=y<<8|y>>>24,d[p]=y,r?(r=g^e[e[e[_^g]]],h^=e[e[h]]):r=h=1}}(),h=[0,1,2,4,8,16,32,64,128,27,54],p=r.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e,t=this._keyPriorReset=this._key,r=t.words,i=t.sigBytes/4,o=((this._nRounds=i+6)+1)*4,s=this._keySchedule=[],a=0;a<o;a++)a<i?s[a]=r[a]:(e=s[a-1],a%i?i>6&&a%i==4&&(e=n[e>>>24]<<24|n[e>>>16&255]<<16|n[e>>>8&255]<<8|n[255&e]):e=(n[(e=e<<8|e>>>24)>>>24]<<24|n[e>>>16&255]<<16|n[e>>>8&255]<<8|n[255&e])^h[a/i|0]<<24,s[a]=s[a-i]^e);for(var u=this._invKeySchedule=[],p=0;p<o;p++){var a=o-p;if(p%4)var e=s[a];else var e=s[a-4];p<4||a<=4?u[p]=e:u[p]=l[n[e>>>24]]^c[n[e>>>16&255]]^f[n[e>>>8&255]]^d[n[255&e]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,a,u,n)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,l,c,f,d,i);var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,o,s,a){for(var u=this._nRounds,l=e[t]^r[0],c=e[t+1]^r[1],f=e[t+2]^r[2],d=e[t+3]^r[3],h=4,p=1;p<u;p++){var g=n[l>>>24]^i[c>>>16&255]^o[f>>>8&255]^s[255&d]^r[h++],v=n[c>>>24]^i[f>>>16&255]^o[d>>>8&255]^s[255&l]^r[h++],_=n[f>>>24]^i[d>>>16&255]^o[l>>>8&255]^s[255&c]^r[h++],y=n[d>>>24]^i[l>>>16&255]^o[c>>>8&255]^s[255&f]^r[h++];l=g,c=v,f=_,d=y}var g=(a[l>>>24]<<24|a[c>>>16&255]<<16|a[f>>>8&255]<<8|a[255&d])^r[h++],v=(a[c>>>24]<<24|a[f>>>16&255]<<16|a[d>>>8&255]<<8|a[255&l])^r[h++],_=(a[f>>>24]<<24|a[d>>>16&255]<<16|a[l>>>8&255]<<8|a[255&c])^r[h++],y=(a[d>>>24]<<24|a[l>>>16&255]<<16|a[c>>>8&255]<<8|a[255&f])^r[h++];e[t]=g,e[t+1]=v,e[t+2]=_,e[t+3]=y},keySize:8}),e.AES=t._createHelper(p),e.AES},e.exports=r(i("kI3y3"),i("dGuMm"),i("jcQ2f"),i("4EwRz"),i("8ifFC"))}),o("kI3y3",function(e,r){var n;n=function(){var e=e||function(e,r){if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==t&&t.crypto&&(n=t.crypto),!n)try{n=i("bQ1Hk")}catch(e){}var n,o=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),a={},u=a.lib={},l=u.Base={extend:function(e){var t=s(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=u.WordArray=l.extend({init:function(e,t){e=this.words=e||[],t!=r?this.sigBytes=t:this.sigBytes=4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=s<<24-(n+o)%4*8}else for(var a=0;a<i;a+=4)t[n+a>>>2]=r[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(o());return new c.init(t,e)}}),f=a.enc={},d=f.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(r,t/2)}},h=f.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(r,t)}},p=f.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},g=u.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,i=n.words,o=n.sigBytes,s=this.blockSize,a=o/(4*s),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,l=e.min(4*u,o);if(u){for(var f=0;f<u;f+=s)this._doProcessBlock(i,f);r=i.splice(0,u),n.sigBytes-=l}return new c.init(r,l)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});u.Hasher=g.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new v.HMAC.init(e,r).finalize(t)}}});var v=a.algo={};return a}(Math);return e},e.exports=n()}),o("bQ1Hk",function(e,t){}),o("dGuMm",function(e,t){var r;r=function(e){var t;return t=e.lib.WordArray,e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<r;a++)i.push(n.charAt(s>>>6*(3-a)&63));var u=n.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var r=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(r=a)}return function(e,r,n){for(var i=[],o=0,s=0;s<r;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return t.create(i,o)}(e,r,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},e.exports=r(i("kI3y3"))}),o("jcQ2f",function(e,t){var r;r=function(e){return function(t){var r=e.lib,n=r.WordArray,i=r.Hasher,o=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var a=o.MD5=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360}var o=this._hash.words,a=e[t+0],d=e[t+1],h=e[t+2],p=e[t+3],g=e[t+4],v=e[t+5],_=e[t+6],y=e[t+7],m=e[t+8],b=e[t+9],w=e[t+10],x=e[t+11],E=e[t+12],k=e[t+13],S=e[t+14],I=e[t+15],A=o[0],O=o[1],T=o[2],C=o[3];A=u(A,O,T,C,a,7,s[0]),C=u(C,A,O,T,d,12,s[1]),T=u(T,C,A,O,h,17,s[2]),O=u(O,T,C,A,p,22,s[3]),A=u(A,O,T,C,g,7,s[4]),C=u(C,A,O,T,v,12,s[5]),T=u(T,C,A,O,_,17,s[6]),O=u(O,T,C,A,y,22,s[7]),A=u(A,O,T,C,m,7,s[8]),C=u(C,A,O,T,b,12,s[9]),T=u(T,C,A,O,w,17,s[10]),O=u(O,T,C,A,x,22,s[11]),A=u(A,O,T,C,E,7,s[12]),C=u(C,A,O,T,k,12,s[13]),T=u(T,C,A,O,S,17,s[14]),O=u(O,T,C,A,I,22,s[15]),A=l(A,O,T,C,d,5,s[16]),C=l(C,A,O,T,_,9,s[17]),T=l(T,C,A,O,x,14,s[18]),O=l(O,T,C,A,a,20,s[19]),A=l(A,O,T,C,v,5,s[20]),C=l(C,A,O,T,w,9,s[21]),T=l(T,C,A,O,I,14,s[22]),O=l(O,T,C,A,g,20,s[23]),A=l(A,O,T,C,b,5,s[24]),C=l(C,A,O,T,S,9,s[25]),T=l(T,C,A,O,p,14,s[26]),O=l(O,T,C,A,m,20,s[27]),A=l(A,O,T,C,k,5,s[28]),C=l(C,A,O,T,h,9,s[29]),T=l(T,C,A,O,y,14,s[30]),O=l(O,T,C,A,E,20,s[31]),A=c(A,O,T,C,v,4,s[32]),C=c(C,A,O,T,m,11,s[33]),T=c(T,C,A,O,x,16,s[34]),O=c(O,T,C,A,S,23,s[35]),A=c(A,O,T,C,d,4,s[36]),C=c(C,A,O,T,g,11,s[37]),T=c(T,C,A,O,y,16,s[38]),O=c(O,T,C,A,w,23,s[39]),A=c(A,O,T,C,k,4,s[40]),C=c(C,A,O,T,a,11,s[41]),T=c(T,C,A,O,p,16,s[42]),O=c(O,T,C,A,_,23,s[43]),A=c(A,O,T,C,b,4,s[44]),C=c(C,A,O,T,E,11,s[45]),T=c(T,C,A,O,I,16,s[46]),O=c(O,T,C,A,h,23,s[47]),A=f(A,O,T,C,a,6,s[48]),C=f(C,A,O,T,y,10,s[49]),T=f(T,C,A,O,S,15,s[50]),O=f(O,T,C,A,v,21,s[51]),A=f(A,O,T,C,E,6,s[52]),C=f(C,A,O,T,p,10,s[53]),T=f(T,C,A,O,w,15,s[54]),O=f(O,T,C,A,d,21,s[55]),A=f(A,O,T,C,m,6,s[56]),C=f(C,A,O,T,I,10,s[57]),T=f(T,C,A,O,_,15,s[58]),O=f(O,T,C,A,k,21,s[59]),A=f(A,O,T,C,g,6,s[60]),C=f(C,A,O,T,x,10,s[61]),T=f(T,C,A,O,h,15,s[62]),O=f(O,T,C,A,b,21,s[63]),o[0]=o[0]+A|0,o[1]=o[1]+O|0,o[2]=o[2]+T|0,o[3]=o[3]+C|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(n/4294967296);r[(i+64>>>9<<4)+15]=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360,r[(i+64>>>9<<4)+14]=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360,e.sigBytes=(r.length+1)*4,this._process();for(var s=this._hash,a=s.words,u=0;u<4;u++){var l=a[u];a[u]=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360}return s},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,n,i,o,s){var a=e+(t&r|~t&n)+i+s;return(a<<o|a>>>32-o)+t}function l(e,t,r,n,i,o,s){var a=e+(t&n|r&~n)+i+s;return(a<<o|a>>>32-o)+t}function c(e,t,r,n,i,o,s){var a=e+(t^r^n)+i+s;return(a<<o|a>>>32-o)+t}function f(e,t,r,n,i,o,s){var a=e+(r^(t|~n))+i+s;return(a<<o|a>>>32-o)+t}e.MD5=i._createHelper(a),e.HmacMD5=i._createHmacHelper(a)}(Math),e.MD5},e.exports=r(i("kI3y3"))}),o("4EwRz",function(e,t){var r;r=function(e){var t,r,n,i,o,s;return r=(t=e.lib).Base,n=t.WordArray,o=(i=e.algo).MD5,s=i.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,i=this.cfg,o=i.hasher.create(),s=n.create(),a=s.words,u=i.keySize,l=i.iterations;a.length<u;){r&&o.update(r),r=o.update(e).finalize(t),o.reset();for(var c=1;c<l;c++)r=o.finalize(r),o.reset();s.concat(r)}return s.sigBytes=4*u,s}}),e.EvpKDF=function(e,t,r){return s.create(r).compute(e,t)},e.EvpKDF},e.exports=r(i("kI3y3"),i("3N6ub"),i("4iBrD"))}),o("3N6ub",function(e,t){var r;r=function(e){var t,r,n,i,o,s;return r=(t=e.lib).WordArray,n=t.Hasher,i=e.algo,o=[],s=i.SHA1=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],a=r[3],u=r[4],l=0;l<80;l++){if(l<16)o[l]=0|e[t+l];else{var c=o[l-3]^o[l-8]^o[l-14]^o[l-16];o[l]=c<<1|c>>>31}var f=(n<<5|n>>>27)+u+o[l];l<20?f+=(i&s|~i&a)+1518500249:l<40?f+=(i^s^a)+1859775393:l<60?f+=(i&s|i&a|s&a)-1894007588:f+=(i^s^a)-899497514,u=a,a=s,s=i<<30|i>>>2,i=n,n=f}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+a|0,r[4]=r[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[(n+64>>>9<<4)+14]=Math.floor(r/4294967296),t[(n+64>>>9<<4)+15]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA1=n._createHelper(s),e.HmacSHA1=n._createHmacHelper(s),e.SHA1},e.exports=r(i("kI3y3"))}),o("4iBrD",function(e,t){var r;r=function(e){var t,r;t=e.lib.Base,r=e.enc.Utf8,e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,u=s.words,l=0;l<n;l++)a[l]^=1549556828,u[l]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})},e.exports=r(i("kI3y3"))}),o("8ifFC",function(e,t){var r;r=function(e){var t,r,n,i,o,s,a,u,l,c,f,d,h,p,g,v,_;e.lib.Cipher||(r=(t=e.lib).Base,n=t.WordArray,i=t.BufferedBlockAlgorithm,(o=e.enc).Utf8,s=o.Base64,a=e.algo.EvpKDF,u=t.Cipher=i.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?_:g}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()}),t.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),l=e.mode={},c=t.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),f=l.CBC=function(){var e=c.extend();function t(e,t,r){var n,i=this._iv;i?(n=i,this._iv=void 0):n=this._prevBlock;for(var o=0;o<r;o++)e[t+o]^=n[o]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i),n.encryptBlock(e,r),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,o=e.slice(r,r+i);n.decryptBlock(e,r),t.call(this,e,r,i),this._prevBlock=o}}),e}(),d=(e.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,i=r-e.sigBytes%r,o=i<<24|i<<16|i<<8|i,s=[],a=0;a<i;a+=4)s.push(o);var u=n.create(s,i);e.concat(u)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},t.BlockCipher=u.extend({cfg:u.cfg.extend({mode:f,padding:d}),reset:function(){u.reset.call(this);var e,t=this.cfg,r=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,r&&r.words):(this._mode=e.call(n,this,r&&r.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),h=t.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),p=(e.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;return(r?n.create([1398893684,1701076831]).concat(r).concat(t):t).toString(s)},parse:function(e){var t,r=s.parse(e),i=r.words;return 1398893684==i[0]&&1701076831==i[1]&&(t=n.create(i.slice(2,4)),i.splice(0,4),r.sigBytes-=16),h.create({ciphertext:r,salt:t})}},g=t.SerializableCipher=r.extend({cfg:r.extend({format:p}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),o=i.finalize(t),s=i.cfg;return h.create({ciphertext:o,key:r,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),v=(e.kdf={}).OpenSSL={execute:function(e,t,r,i,o){if(i||(i=n.random(8)),o)var s=a.create({keySize:t+r,hasher:o}).compute(e,i);else var s=a.create({keySize:t+r}).compute(e,i);var u=n.create(s.words.slice(t),4*r);return s.sigBytes=4*t,h.create({key:s,iv:u,salt:i})}},_=t.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:v}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize,n.salt,n.hasher);n.iv=i.iv;var o=g.encrypt.call(this,e,t,i.key,n);return o.mixIn(i),o},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt,n.hasher);return n.iv=i.iv,g.decrypt.call(this,e,t,i.key,n)}}))},e.exports=r(i("kI3y3"),i("4EwRz"))}),o("junNA",function(t,r){e(t.exports,"compressJSON",()=>s);var n=i("hVS1j"),o=i("8LMVf");async function s(e){return performance.now(),performance.now(),o.deflate(n.encode(e))}}),o("hVS1j",function(t,r){var n,o;e(t.exports,"encode",()=>n,e=>n=e),e(t.exports,"decode",()=>o,e=>o=e),n=i("it9Qg").encode,o=i("45tTb").decode,i("j0gDy").Encoder,i("3yPWX").Decoder,i("cdNrd").createCodec,i("gOHjX").codec}),o("it9Qg",function(t,r){e(t.exports,"encode",()=>n,e=>n=e),n=function(e,t){var r=new o(t);return r.write(e),r.read()};var n,o=i("avWnX").EncodeBuffer}),o("avWnX",function(t,r){e(t.exports,"EncodeBuffer",()=>n,e=>n=e),n=s;var n,o=i("cVSFE").preset;function s(e){if(!(this instanceof s))return new s(e);if(e&&(this.options=e,e.codec)){var t=this.codec=e.codec;t.bufferish&&(this.bufferish=t.bufferish)}}i("1qcGI").FlexEncoder.mixin(s.prototype),s.prototype.codec=o,s.prototype.write=function(e){this.codec.encode(this,e)}}),o("cVSFE",function(t,r){e(t.exports,"preset",()=>n,e=>n=e);var n,o=i("fuF3i").ExtBuffer,s=i("dNuds"),a=i("j9psI"),u=i("3pxG7");function l(){var e,t=this.options;return this.encode=(e=a.getWriteType(t),function(t,r){var n=e[typeof r];if(!n)throw Error('Unsupported type "'+typeof r+'": '+r);n(t,r)}),t&&t.preset&&s.setExtPackers(this),this}u.install({addExtPacker:function(e,t,r){r=u.filter(r);var n=t.name;function i(t){return r&&(t=r(t)),new o(t,e)}n&&"Object"!==n?(this.extPackers||(this.extPackers={}))[n]=i:(this.extEncoderList||(this.extEncoderList=[])).unshift([t,i])},getExtPacker:function(e){var t=this.extPackers||(this.extPackers={}),r=e.constructor,n=r&&r.name&&t[r.name];if(n)return n;for(var i=this.extEncoderList||(this.extEncoderList=[]),o=i.length,s=0;s<o;s++){var a=i[s];if(r===a[0])return a[1]}},init:l}),n=l.call(u.preset)}),o("fuF3i",function(t,r){e(t.exports,"ExtBuffer",()=>n,e=>n=e),n=function e(t,r){if(!(this instanceof e))return new e(t,r);this.buffer=o.from(t),this.type=r};var n,o=i("1Jw72")}),o("1Jw72",function(e,t){var r=e.exports.global=i("51hre"),n=e.exports.hasBuffer=r&&!!r.isBuffer,o=e.exports.hasArrayBuffer="undefined"!=typeof ArrayBuffer,s=e.exports.isArray=i("gEqjh");e.exports.isArrayBuffer=o?function(e){return e instanceof ArrayBuffer||p(e)}:_;var a=e.exports.isBuffer=n?r.isBuffer:_,u=e.exports.isView=o?ArrayBuffer.isView||y("ArrayBuffer","buffer"):_;e.exports.alloc=h,e.exports.concat=function(t,r){r||(r=0,Array.prototype.forEach.call(t,function(e){r+=e.length}));var n=this!==e.exports&&this||t[0],i=h.call(n,r),o=0;return Array.prototype.forEach.call(t,function(e){o+=d.copy.call(e,i,o)}),i},e.exports.from=function(e){return"string"==typeof e?g.call(this,e):v(this).from(e)};var l=e.exports.Array=i("xALgL"),c=e.exports.Buffer=i("2eLGx"),f=e.exports.Uint8Array=i("e5uNp"),d=e.exports.prototype=i("fC2rw");function h(e){return v(this).alloc(e)}var p=y("ArrayBuffer");function g(e){var t=3*e.length,r=h.call(this,t),n=d.write.call(r,e);return t!==n&&(r=d.slice.call(r,0,n)),r}function v(e){return a(e)?c:u(e)?f:s(e)?l:n?c:o?f:l}function _(){return!1}function y(e,t){return e="[object "+e+"]",function(r){return null!=r&&({}).toString.call(t?r[t]:r)===e}}}),o("51hre",function(e,t){var r=i("837dV").Buffer;function n(e){return e&&e.isBuffer&&e}e.exports=n(void 0!==r&&r)||n(e.exports.Buffer)||n("undefined"!=typeof window&&window.Buffer)||e.exports.Buffer}),o("837dV",function(t,r){e(t.exports,"Buffer",()=>n,e=>n=e),e(t.exports,"INSPECT_MAX_BYTES",()=>o,e=>o=e);var n,o,s=i("6m1So"),a=i("99mNC");let u="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function l(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return h(e)}return f(e,t,r)}function f(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!c.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|_(e,t),n=l(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(F(e,Uint8Array)){let t=new Uint8Array(e);return g(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(F(e,SharedArrayBuffer)||e&&F(e.buffer,SharedArrayBuffer)))return g(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);let i=function(e){var t;if(c.isBuffer(e)){let t=0|v(e.length),r=l(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?l(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return d(e),l(e<0?0:0|v(e))}function p(e){let t=e.length<0?0:0|v(e.length),r=l(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function g(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),c.prototype),n}function v(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function _(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return N(e).length;default:if(i)return n?-1:j(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=z[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return x(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var i,o;return i=t,o=r,0===i&&o===this.length?s.fromByteArray(this):s.fromByteArray(this.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(o=r=+r)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,r/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(l(e,o)===l(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else -1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(l(e,o+n)!==l(t,n)){r=!1;break}if(r)return o}return -1}function x(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:(192&(r=e[i+1]))==128&&(u=(31&t)<<6|63&r)>127&&(o=u);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(u=(15&t)<<12|(63&r)<<6|63&n)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],(192&r)==128&&(192&n)==128&&(192&a)==128&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function E(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function k(e,t,r,n,i,o){if(!c.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function S(e,t,r,n,i){D(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function I(e,t,r,n,i){D(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function A(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function O(e,t,r,n,i){return t=+t,r>>>=0,i||A(e,t,r,4,34028234663852886e22,-34028234663852886e22),a.write(e,t,r,n,23,4),r+4}function T(e,t,r,n,i){return t=+t,r>>>=0,i||A(e,t,r,8,17976931348623157e292,-17976931348623157e292),a.write(e,t,r,n,52,8),r+8}n=c,o=50,c.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return f(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return(d(e),e<=0)?l(e):void 0!==t?"string"==typeof r?l(e).fill(t,r):l(e).fill(t):l(e)},c.allocUnsafe=function(e){return h(e)},c.allocUnsafeSlow=function(e){return h(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(F(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),F(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(F(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(c.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},c.byteLength=_,c.prototype._isBuffer=!0,c.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?x(this,0,e):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="",t=o;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},u&&(c.prototype[u]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(F(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let o=i-n,s=r-t,a=Math.min(o,s),u=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<a;++e)if(u[e]!==l[e]){o=u[e],s=l[e];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){var i,o,s,a,u,l,c,f;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let h=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;let s=t.length;for(n>s/2&&(n=s/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(n!=n)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,M(j(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=t,a=r,M(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,s,a);case"base64":return u=t,l=r,M(N(e),this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,f=r,M(function(e,t){let r,n;let i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,f);default:if(h)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),h=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},c.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=K(function(e){P(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&L(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+16777216*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),c.prototype.readBigUInt64BE=K(function(e){P(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&L(e,this.length-8);let n=16777216*t+65536*this[++e]+256*this[++e]+this[++e],i=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return(e>>>=0,t||E(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||E(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||E(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=K(function(e){P(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&L(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),c.prototype.readBigInt64BE=K(function(e){P(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&L(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)}),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||E(e,4,this.length),a.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||E(e,4,this.length),a.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||E(e,8,this.length),a.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||E(e,8,this.length),a.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;k(this,e,t,r,n,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;k(this,e,t,r,n,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=K(function(e,t=0){return S(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=K(function(e,t=0){return I(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);k(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);k(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=K(function(e,t=0){return S(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=K(function(e,t=0){return I(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(e,t,r){return O(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return O(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return T(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return T(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let o=c.isBuffer(e)?e:c.from(e,n),s=o.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};let C={};function U(e,t,r){C[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function R(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function D(e,t,r,n,i,o){if(e>r||e<t){let n;let i="bigint"==typeof t?"n":"";throw n=o>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new C.ERR_OUT_OF_RANGE("value",n,e)}P(i,"offset"),(void 0===n[i]||void 0===n[i+o])&&L(i,n.length-(o+1))}function P(e,t){if("number"!=typeof e)throw new C.ERR_INVALID_ARG_TYPE(t,"number",e)}function L(e,t,r){if(Math.floor(e)!==e)throw P(e,r),new C.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new C.ERR_BUFFER_OUT_OF_BOUNDS;throw new C.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),U("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=R(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=R(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let B=/[^+/0-9A-Za-z-_]/g;function j(e,t){let r;t=t||1/0;let n=e.length,i=null,o=[];for(let s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function N(e){return s.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function M(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let z=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function K(e){return"undefined"==typeof BigInt?V:e}function V(){throw Error("BigInt not supported")}}),o("6m1So",function(t,r){e(t.exports,"toByteArray",()=>n,e=>n=e),e(t.exports,"fromByteArray",()=>i,e=>i=e),n=function(e){var t,r,n=function(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}(e),i=n[0],o=n[1],u=new a((i+o)*3/4-o),l=0,c=o>0?i-4:i;for(r=0;r<c;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===o&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===o&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},i=function(e){for(var t,r=e.length,n=r%3,i=[],s=0,a=r-n;s<a;s+=16383)i.push(function(e,t,r){for(var n,i=[],s=t;s<r;s+=3)i.push(o[(n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+o[n>>12&63]+o[n>>6&63]+o[63&n]);return i.join("")}(e,s,s+16383>a?a:s+16383));return 1===n?i.push(o[(t=e[r-1])>>2]+o[t<<4&63]+"=="):2===n&&i.push(o[(t=(e[r-2]<<8)+e[r-1])>>10]+o[t>>4&63]+o[t<<2&63]+"="),i.join("")};for(var n,i,o=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,c=u.length;l<c;++l)o[l]=u[l],s[u.charCodeAt(l)]=l;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63}),o("99mNC",function(t,r){var n,i;e(t.exports,"read",()=>n,e=>n=e),e(t.exports,"write",()=>i,e=>i=e),n=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,l=u>>1,c=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-c)-1,h>>=-c,c+=a;c>0;o=256*o+e[t+f],f+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+e[t+f],f+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=l}return(h?-1:1)*s*Math.pow(2,o-n)},i=function(e,t,r,n,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,d=23===i?5960464477539062e-23:0,h=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+f>=1?t+=d/u:t+=d*Math.pow(2,1-f),t*u>=2&&(s++,u/=2),s+f>=c?(a=0,s=c):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;e[r+h]=255&s,h+=p,s/=256,l-=8);e[r+h-p]|=128*g}}),o("gEqjh",function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}}),o("xALgL",function(e,t){var r=i("1Jw72"),n=e.exports=o(0);function o(e){return Array(e)}n.alloc=o,n.concat=r.concat,n.from=function(e){if(!r.isBuffer(e)&&r.isView(e))e=r.Uint8Array.from(e);else if(r.isArrayBuffer(e))e=new Uint8Array(e);else if("string"==typeof e)return r.from.call(n,e);else if("number"==typeof e)throw TypeError('"value" argument must not be a number');return Array.prototype.slice.call(e)}}),o("2eLGx",function(e,t){var r=i("1Jw72"),n=r.global,o=e.exports=r.hasBuffer?s(0):[];function s(e){return new n(e)}o.alloc=r.hasBuffer&&n.alloc||s,o.concat=r.concat,o.from=function(e){if(!r.isBuffer(e)&&r.isView(e))e=r.Uint8Array.from(e);else if(r.isArrayBuffer(e))e=new Uint8Array(e);else if("string"==typeof e)return r.from.call(o,e);else if("number"==typeof e)throw TypeError('"value" argument must not be a number');return n.from&&1!==n.from.length?n.from(e):new n(e)}}),o("e5uNp",function(e,t){var r=i("1Jw72"),n=e.exports=r.hasArrayBuffer?o(0):[];function o(e){return new Uint8Array(e)}n.alloc=o,n.concat=r.concat,n.from=function(e){if(r.isView(e)){var t=e.byteOffset,i=e.byteLength;(e=e.buffer).byteLength!==i&&(e.slice?e=e.slice(t,t+i):(e=new Uint8Array(e)).byteLength!==i&&(e=Array.prototype.slice.call(e,t,t+i)))}else if("string"==typeof e)return r.from.call(n,e);else if("number"==typeof e)throw TypeError('"value" argument must not be a number');return new Uint8Array(e)}}),o("fC2rw",function(e,t){var r,n=i("5NW2j");t.copy=l,t.slice=c,t.toString=function(e,t,r){return(!a&&o.isBuffer(this)?this.toString:n.toString).apply(this,arguments)},t.write=(r="write",function(){return(this[r]||n[r]).apply(this,arguments)});var o=i("1Jw72"),s=o.global,a=o.hasBuffer&&"TYPED_ARRAY_SUPPORT"in s,u=a&&!s.TYPED_ARRAY_SUPPORT;function l(e,t,r,i){var s=o.isBuffer(this),a=o.isBuffer(e);if(s&&a)return this.copy(e,t,r,i);if(!(!u&&!s&&!a&&o.isView(this)&&o.isView(e)))return n.copy.call(this,e,t,r,i);var l=r||null!=i?c.call(this,r,i):this;return e.set(l,t),l.length}function c(e,t){var r=this.slice||!u&&this.subarray;if(r)return r.call(this,e,t);var n=o.alloc.call(this,t-e);return l.call(this,n,0,e,t),n}}),o("5NW2j",function(t,r){var n,i,o;e(t.exports,"copy",()=>n,e=>n=e),e(t.exports,"toString",()=>i,e=>i=e),e(t.exports,"write",()=>o,e=>o=e),n=function(e,t,r,n){r||(r=0),n||0===n||(n=this.length),t||(t=0);var i,o=n-r;if(e===this&&r<t&&t<n)for(i=o-1;i>=0;i--)e[i+t]=this[i+r];else for(i=0;i<o;i++)e[i+t]=this[i+r];return o},i=function(e,t,r){var n=0|t;r||(r=this.length);for(var i="",o=0;n<r;){if((o=this[n++])<128){i+=String.fromCharCode(o);continue}(224&o)==192?o=(31&o)<<6|63&this[n++]:(240&o)==224?o=(15&o)<<12|(63&this[n++])<<6|63&this[n++]:(248&o)==240&&(o=(7&o)<<18|(63&this[n++])<<12|(63&this[n++])<<6|63&this[n++]),o>=65536?(o-=65536,i+=String.fromCharCode((o>>>10)+55296,(1023&o)+56320)):i+=String.fromCharCode(o)}return i},o=function(e,t){for(var r=t||(t|=0),n=e.length,i=0,o=0;o<n;)(i=e.charCodeAt(o++))<128?this[r++]=i:(i<2048?this[r++]=192|i>>>6:(i<55296||i>57343?this[r++]=224|i>>>12:(i=(i-55296<<10|e.charCodeAt(o++)-56320)+65536,this[r++]=240|i>>>18,this[r++]=128|i>>>12&63),this[r++]=128|i>>>6&63),this[r++]=128|63&i);return r-t}}),o("dNuds",function(t,r){e(t.exports,"setExtPackers",()=>n,e=>n=e),n=function(e){e.addExtPacker(14,Error,[h,c]),e.addExtPacker(1,EvalError,[h,c]),e.addExtPacker(2,RangeError,[h,c]),e.addExtPacker(3,ReferenceError,[h,c]),e.addExtPacker(4,SyntaxError,[h,c]),e.addExtPacker(5,TypeError,[h,c]),e.addExtPacker(6,URIError,[h,c]),e.addExtPacker(10,RegExp,[d,c]),e.addExtPacker(11,Boolean,[f,c]),e.addExtPacker(12,String,[f,c]),e.addExtPacker(13,Date,[Number,c]),e.addExtPacker(15,Number,[f,c]),"undefined"!=typeof Uint8Array&&(e.addExtPacker(17,Int8Array,u),e.addExtPacker(18,Uint8Array,u),e.addExtPacker(19,Int16Array,u),e.addExtPacker(20,Uint16Array,u),e.addExtPacker(21,Int32Array,u),e.addExtPacker(22,Uint32Array,u),e.addExtPacker(23,Float32Array,u),"undefined"!=typeof Float64Array&&e.addExtPacker(24,Float64Array,u),"undefined"!=typeof Uint8ClampedArray&&e.addExtPacker(25,Uint8ClampedArray,u),e.addExtPacker(26,ArrayBuffer,u),e.addExtPacker(29,DataView,u)),s.hasBuffer&&e.addExtPacker(27,a,s.from)};var n,o,s=i("1Jw72"),a=s.global,u=s.Uint8Array.from,l={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function c(e){return o||(o=i("it9Qg").encode),o(e)}function f(e){return e.valueOf()}function d(e){(e=RegExp.prototype.toString.call(e).split("/")).shift();var t=[e.pop()];return t.unshift(e.join("/")),t}function h(e){var t={};for(var r in l)t[r]=e[r];return t}}),o("j9psI",function(t,r){e(t.exports,"getWriteType",()=>n,e=>n=e);var n,o=i("gEqjh"),s=i("dKttk"),a=s.Uint64BE,u=s.Int64BE,l=i("1Jw72"),c=i("fC2rw"),f=i("1RchT"),d=i("5EEfU").uint8,h=i("fuF3i").ExtBuffer,p="undefined"!=typeof Uint8Array,g="undefined"!=typeof Map,v=[];v[1]=212,v[2]=213,v[4]=214,v[8]=215,v[16]=216,n=function(e){var t,r=f.getWriteToken(e),n=e&&e.useraw,i=p&&e&&e.binarraybuffer,s=i?l.isArrayBuffer:l.isBuffer,_=i?function(e,t){w(e,new Uint8Array(t))}:w,y=g&&e&&e.usemap?function(e,t){if(!(t instanceof Map))return x(e,t);var n=t.size;r[n<16?128+n:n<=65535?222:223](e,n);var i=e.codec.encode;t.forEach(function(t,r,n){i(e,r),i(e,t)})}:x;return{boolean:function(e,t){r[t?195:194](e,t)},function:b,number:function(e,t){var n,i=0|t;if(t!==i){r[203](e,t);return}r[-32<=i&&i<=127?255&i:0<=i?i<=255?204:i<=65535?205:206:-128<=i?208:-32768<=i?209:210](e,i)},object:n?function(e,t){if(s(t)){var n;return void(r[(n=t.length)<32?160+n:n<=65535?218:219](e,n),e.send(t))}m(e,t)}:m,string:(t=n?function(e){return e<32?1:e<=65535?3:5}:function(e){return e<32?1:e<=255?2:e<=65535?3:5},function(e,n){var i=n.length,o=5+3*i;e.offset=e.reserve(o);var s=e.buffer,a=t(i),u=e.offset+a,l=t(i=c.write.call(s,n,u));if(a!==l){var f=u+l-a,d=u+i;c.copy.call(s,s,f,u,d)}r[1===l?160+i:l<=3?215+l:219](e,i),e.offset+=i}),symbol:b,undefined:b};function m(e,t){if(null===t)return b(e,t);if(s(t))return _(e,t);if(o(t))return function(e,t){var n=t.length;r[n<16?144+n:n<=65535?220:221](e,n);for(var i=e.codec.encode,o=0;o<n;o++)i(e,t[o])}(e,t);if(a.isUint64BE(t))return c=t,void r[207](e,c.toArray());if(u.isInt64BE(t))return f=t,void r[211](e,f.toArray());var n,i,l,c,f,p=e.codec.getExtPacker(t);if(p&&(t=p(t)),t instanceof h)return void(r[v[l=(i=(n=t).buffer).length]||(l<255?199:l<=65535?200:201)](e,l),d[n.type](e),e.send(i));y(e,t)}function b(e,t){r[192](e,t)}function w(e,t){var n=t.length;r[n<255?196:n<=65535?197:198](e,n),e.send(t)}function x(e,t){var n=Object.keys(t),i=n.length;r[i<16?128+i:i<=65535?222:223](e,i);var o=e.codec.encode;n.forEach(function(r){o(e,r),o(e,t[r])})}}}),o("dKttk",function(e,t){var r=i("837dV").Buffer;!function(e){var t,n="undefined",i=n!==typeof r&&r,o=n!==typeof Uint8Array&&Uint8Array,s=n!==typeof ArrayBuffer&&ArrayBuffer,a=[0,0,0,0,0,0,0,0],u=Array.isArray||function(e){return!!e&&"[object Array]"==Object.prototype.toString.call(e)};function l(r,u,l){var b=u?0:4,w=u?4:0,x=u?0:3,E=u?1:2,k=u?2:1,S=u?3:0,I=u?v:y,A=u?_:m,O=U.prototype,T="is"+r,C="_"+T;return O.buffer=void 0,O.offset=0,O[C]=!0,O.toNumber=R,O.toString=function(e){var t=this.buffer,r=this.offset,n=P(t,r+b),i=P(t,r+w),o="",s=!l&&2147483648&n;for(s&&(n=~n,i=4294967296-i),e=e||10;;){var a=n%e*4294967296+i;if(n=Math.floor(n/e),i=Math.floor(a/e),o=(a%e).toString(e)+o,!n&&!i)break}return s&&(o="-"+o),o},O.toJSON=R,O.toArray=c,i&&(O.toBuffer=f),o&&(O.toArrayBuffer=d),U[T]=function(e){return!!(e&&e[C])},e[r]=U,U;function U(e,r,i,u){return this instanceof U?function(e,r,i,u,l){if(o&&s&&(r instanceof s&&(r=new o(r)),u instanceof s&&(u=new o(u))),!r&&!i&&!u&&!t){e.buffer=g(a,0);return}if(!h(r,i)){var c=t||Array;l=i,u=r,i=0,r=new c(8)}e.buffer=r,e.offset=i|=0,n!==typeof u&&("string"==typeof u?function(e,t,r,n){var i=0,o=r.length,s=0,a=0;"-"===r[0]&&i++;for(var u=i;i<o;){var l=parseInt(r[i++],n);if(!(l>=0))break;a=a*n+l,s=s*n+Math.floor(a/4294967296),a%=4294967296}u&&(s=~s,a?a=4294967296-a:s++),D(e,t+b,s),D(e,t+w,a)}(r,i,u,l||10):h(u,l)?p(r,i,u,l):"number"==typeof l?(D(r,i+b,u),D(r,i+w,l)):u>0?I(r,i,u):u<0?A(r,i,u):p(r,i,a,0))}(this,e,r,i,u):new U(e,r,i,u)}function R(){var e=this.buffer,t=this.offset,r=P(e,t+b),n=P(e,t+w);return l||(r|=0),r?4294967296*r+n:n}function D(e,t,r){e[t+S]=255&r,r>>=8,e[t+k]=255&r,r>>=8,e[t+E]=255&r,r>>=8,e[t+x]=255&r}function P(e,t){return 16777216*e[t+x]+(e[t+E]<<16)+(e[t+k]<<8)+e[t+S]}}function c(e){var r=this.buffer,n=this.offset;return(t=null,!1!==e&&0===n&&8===r.length&&u(r))?r:g(r,n)}function f(e){var n=this.buffer,o=this.offset;if(t=i,!1!==e&&0===o&&8===n.length&&r.isBuffer(n))return n;var s=new i(8);return p(s,0,n,o),s}function d(e){var r=this.buffer,n=this.offset,i=r.buffer;if(t=o,!1!==e&&0===n&&i instanceof s&&8===i.byteLength)return i;var a=new o(8);return p(a,0,r,n),a.buffer}function h(e,t){var r=e&&e.length;return t|=0,r&&t+8<=r&&"string"!=typeof e[t]}function p(e,t,r,n){t|=0,n|=0;for(var i=0;i<8;i++)e[t++]=255&r[n++]}function g(e,t){return Array.prototype.slice.call(e,t,t+8)}function v(e,t,r){for(var n=t+8;n>t;)e[--n]=255&r,r/=256}function _(e,t,r){var n=t+8;for(r++;n>t;)e[--n]=255&-r^255,r/=256}function y(e,t,r){for(var n=t+8;t<n;)e[t++]=255&r,r/=256}function m(e,t,r){var n=t+8;for(r++;t<n;)e[t++]=255&-r^255,r/=256}l("Uint64BE",!0,!0),l("Int64BE",!0,!1),l("Uint64LE",!1,!0),l("Int64LE",!1,!1)}("string"!=typeof e.exports.nodeName?e.exports:e.exports||{})}),o("1RchT",function(t,r){e(t.exports,"getWriteToken",()=>n,e=>n=e);var n,o=i("99mNC"),s=i("dKttk"),a=s.Uint64BE,u=s.Int64BE,l=i("5EEfU").uint8,c=i("1Jw72"),f=c.global,d=c.hasBuffer&&"TYPED_ARRAY_SUPPORT"in f&&!f.TYPED_ARRAY_SUPPORT,h=c.hasBuffer&&f.prototype||{};function p(){var e=l.slice();return e[196]=g(196),e[197]=v(197),e[198]=_(198),e[199]=g(199),e[200]=v(200),e[201]=_(201),e[202]=y(202,4,h.writeFloatBE||w,!0),e[203]=y(203,8,h.writeDoubleBE||x,!0),e[204]=g(204),e[205]=v(205),e[206]=_(206),e[207]=y(207,8,m),e[208]=g(208),e[209]=v(209),e[210]=_(210),e[211]=y(211,8,b),e[217]=g(217),e[218]=v(218),e[219]=_(219),e[220]=v(220),e[221]=_(221),e[222]=v(222),e[223]=_(223),e}function g(e){return function(t,r){var n=t.reserve(2),i=t.buffer;i[n++]=e,i[n]=r}}function v(e){return function(t,r){var n=t.reserve(3),i=t.buffer;i[n++]=e,i[n++]=r>>>8,i[n]=r}}function _(e){return function(t,r){var n=t.reserve(5),i=t.buffer;i[n++]=e,i[n++]=r>>>24,i[n++]=r>>>16,i[n++]=r>>>8,i[n]=r}}function y(e,t,r,n){return function(i,o){var s=i.reserve(t+1);i.buffer[s++]=e,r.call(i.buffer,o,s,n)}}function m(e,t){new a(this,t,e)}function b(e,t){new u(this,t,e)}function w(e,t){o.write(this,e,t,!1,23,4)}function x(e,t){o.write(this,e,t,!1,52,8)}n=function(e){var t,r;return e&&e.uint8array?((t=p())[202]=y(202,4,w),t[203]=y(203,8,x),t):d||c.hasBuffer&&e&&e.safe?((r=l.slice())[196]=y(196,1,f.prototype.writeUInt8),r[197]=y(197,2,f.prototype.writeUInt16BE),r[198]=y(198,4,f.prototype.writeUInt32BE),r[199]=y(199,1,f.prototype.writeUInt8),r[200]=y(200,2,f.prototype.writeUInt16BE),r[201]=y(201,4,f.prototype.writeUInt32BE),r[202]=y(202,4,f.prototype.writeFloatBE),r[203]=y(203,8,f.prototype.writeDoubleBE),r[204]=y(204,1,f.prototype.writeUInt8),r[205]=y(205,2,f.prototype.writeUInt16BE),r[206]=y(206,4,f.prototype.writeUInt32BE),r[207]=y(207,8,m),r[208]=y(208,1,f.prototype.writeInt8),r[209]=y(209,2,f.prototype.writeInt16BE),r[210]=y(210,4,f.prototype.writeInt32BE),r[211]=y(211,8,b),r[217]=y(217,1,f.prototype.writeUInt8),r[218]=y(218,2,f.prototype.writeUInt16BE),r[219]=y(219,4,f.prototype.writeUInt32BE),r[220]=y(220,2,f.prototype.writeUInt16BE),r[221]=y(221,4,f.prototype.writeUInt32BE),r[222]=y(222,2,f.prototype.writeUInt16BE),r[223]=y(223,4,f.prototype.writeUInt32BE),r):p()}}),o("5EEfU",function(t,r){e(t.exports,"uint8",()=>n,e=>n=e);for(var n,i=n=Array(256),o=0;o<=255;o++)i[o]=function(e){return function(t){var r=t.reserve(1);t.buffer[r]=e}}(o)}),o("3pxG7",function(t,r){e(t.exports,"createCodec",()=>n,e=>n=e),e(t.exports,"install",()=>o,e=>o=e),e(t.exports,"filter",()=>s,e=>s=e),e(t.exports,"preset",()=>a,e=>a=e);var n,o,s,a,u=i("gEqjh");n=f,o=function(e){for(var t in e)c.prototype[t]=function(e,t){return e&&t?function(){return e.apply(this,arguments),t.apply(this,arguments)}:e||t}(c.prototype[t],e[t])},s=function(e){return u(e)?function(e){return e=e.slice(),function(r){return e.reduce(t,r)};function t(e,t){return t(e)}}(e):e};var l=i("1Jw72");function c(e){if(!(this instanceof c))return new c(e);this.options=e,this.init()}function f(e){return new c(e)}c.prototype.init=function(){var e=this.options;return e&&e.uint8array&&(this.bufferish=l.Uint8Array),this},a=f({preset:!0})}),o("1qcGI",function(t,r){e(t.exports,"FlexDecoder",()=>n,e=>n=e),e(t.exports,"FlexEncoder",()=>o,e=>o=e),n=u,o=l;var n,o,s=i("1Jw72"),a="BUFFER_SHORTAGE";function u(){if(!(this instanceof u))return new u}function l(){if(!(this instanceof l))return new l}function c(){return this.buffers&&this.buffers.length?(this.flush(),this.pull()):this.fetch()}function f(e){(this.buffers||(this.buffers=[])).push(e)}function d(e){return function(t){for(var r in e)t[r]=e[r];return t}}u.mixin=d({bufferish:s,write:function(e){var t=this.offset?s.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=t?e?this.bufferish.concat([t,e]):t:e,this.offset=0},fetch:function(){throw Error("method not implemented: fetch()")},flush:function(){for(;this.offset<this.buffer.length;){var e,t=this.offset;try{e=this.fetch()}catch(e){if(e&&e.message!=a)throw e;this.offset=t;break}this.push(e)}},push:f,pull:function(){return(this.buffers||(this.buffers=[])).shift()},read:c,reserve:function(e){var t=this.offset,r=t+e;if(r>this.buffer.length)throw Error(a);return this.offset=r,t},offset:0}),u.mixin(u.prototype),l.mixin=d({bufferish:s,write:function(){throw Error("method not implemented: write()")},fetch:function(){var e=this.start;if(e<this.offset){var t=this.start=this.offset;return s.prototype.slice.call(this.buffer,e,t)}},flush:function(){for(;this.start<this.offset;){var e=this.fetch();e&&this.push(e)}},push:f,pull:function(){var e=this.buffers||(this.buffers=[]),t=e.length>1?this.bufferish.concat(e):e[0];return e.length=0,t},read:c,reserve:function(e){var t=0|e;if(this.buffer){var r=this.buffer.length,n=0|this.offset,i=n+t;if(i<r)return this.offset=i,n;this.flush(),e=Math.max(e,Math.min(2*r,this.maxBufferSize))}return e=Math.max(e,this.minBufferSize),this.buffer=this.bufferish.alloc(e),this.start=0,this.offset=t,0},send:function(e){var t=e.length;if(t>this.minBufferSize)this.flush(),this.push(e);else{var r=this.reserve(t);s.prototype.copy.call(e,this.buffer,r)}},maxBufferSize:65536,minBufferSize:2048,offset:0,start:0}),l.mixin(l.prototype)}),o("45tTb",function(t,r){e(t.exports,"decode",()=>n,e=>n=e),n=function(e,t){var r=new o(t);return r.write(e),r.read()};var n,o=i("hyKNI").DecodeBuffer}),o("hyKNI",function(t,r){e(t.exports,"DecodeBuffer",()=>n,e=>n=e),n=s;var n,o=i("hK1U2").preset;function s(e){if(!(this instanceof s))return new s(e);if(e&&(this.options=e,e.codec)){var t=this.codec=e.codec;t.bufferish&&(this.bufferish=t.bufferish)}}i("1qcGI").FlexDecoder.mixin(s.prototype),s.prototype.codec=o,s.prototype.fetch=function(){return this.codec.decode(this)}}),o("hK1U2",function(t,r){e(t.exports,"preset",()=>n,e=>n=e);var n,o=i("fuF3i").ExtBuffer,s=i("4gmaN"),a=i("4quIF").readUint8,u=i("6DoGr"),l=i("3pxG7");function c(){var e,t=this.options;return this.decode=(e=u.getReadToken(t),function(t){var r=a(t),n=e[r];if(!n)throw Error("Invalid type: "+(r?"0x"+r.toString(16):r));return n(t)}),t&&t.preset&&s.setExtUnpackers(this),this}l.install({addExtUnpacker:function(e,t){(this.extUnpackers||(this.extUnpackers=[]))[e]=l.filter(t)},getExtUnpacker:function(e){return(this.extUnpackers||(this.extUnpackers=[]))[e]||function(t){return new o(t,e)}},init:c}),n=c.call(l.preset)}),o("4gmaN",function(t,r){e(t.exports,"setExtUnpackers",()=>n,e=>n=e),n=function(e){e.addExtUnpacker(14,[l,f(Error)]),e.addExtUnpacker(1,[l,f(EvalError)]),e.addExtUnpacker(2,[l,f(RangeError)]),e.addExtUnpacker(3,[l,f(ReferenceError)]),e.addExtUnpacker(4,[l,f(SyntaxError)]),e.addExtUnpacker(5,[l,f(TypeError)]),e.addExtUnpacker(6,[l,f(URIError)]),e.addExtUnpacker(10,[l,c]),e.addExtUnpacker(11,[l,d(Boolean)]),e.addExtUnpacker(12,[l,d(String)]),e.addExtUnpacker(13,[l,d(Date)]),e.addExtUnpacker(15,[l,d(Number)]),"undefined"!=typeof Uint8Array&&(e.addExtUnpacker(17,d(Int8Array)),e.addExtUnpacker(18,d(Uint8Array)),e.addExtUnpacker(19,[h,d(Int16Array)]),e.addExtUnpacker(20,[h,d(Uint16Array)]),e.addExtUnpacker(21,[h,d(Int32Array)]),e.addExtUnpacker(22,[h,d(Uint32Array)]),e.addExtUnpacker(23,[h,d(Float32Array)]),"undefined"!=typeof Float64Array&&e.addExtUnpacker(24,[h,d(Float64Array)]),"undefined"!=typeof Uint8ClampedArray&&e.addExtUnpacker(25,d(Uint8ClampedArray)),e.addExtUnpacker(26,h),e.addExtUnpacker(29,[h,d(DataView)])),s.hasBuffer&&e.addExtUnpacker(27,d(a))};var n,o,s=i("1Jw72"),a=s.global,u={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function l(e){return o||(o=i("45tTb").decode),o(e)}function c(e){return RegExp.apply(null,e)}function f(e){return function(t){var r=new e;for(var n in u)r[n]=t[n];return r}}function d(e){return function(t){return new e(t)}}function h(e){return new Uint8Array(e).buffer}}),o("4quIF",function(t,r){e(t.exports,"getReadFormat",()=>n,e=>n=e),e(t.exports,"readUint8",()=>o,e=>o=e);var n,o,s=i("99mNC"),a=i("dKttk"),u=a.Uint64BE,l=a.Int64BE;n=function(e){var t=c.hasArrayBuffer&&e&&e.binarraybuffer,r=e&&e.int64;return{map:d&&e&&e.usemap?p:h,array:g,str:v,bin:t?y:_,ext:m,uint8:b,uint16:x,uint32:k,uint64:I(8,r?T:A),int8:w,int16:E,int32:S,int64:I(8,r?C:O),float32:I(4,U),float64:I(8,R)}},o=b;var c=i("1Jw72"),f=i("fC2rw"),d="undefined"!=typeof Map;function h(e,t){var r,n={},i=Array(t),o=Array(t),s=e.codec.decode;for(r=0;r<t;r++)i[r]=s(e),o[r]=s(e);for(r=0;r<t;r++)n[i[r]]=o[r];return n}function p(e,t){var r,n=new Map,i=Array(t),o=Array(t),s=e.codec.decode;for(r=0;r<t;r++)i[r]=s(e),o[r]=s(e);for(r=0;r<t;r++)n.set(i[r],o[r]);return n}function g(e,t){for(var r=Array(t),n=e.codec.decode,i=0;i<t;i++)r[i]=n(e);return r}function v(e,t){var r=e.reserve(t),n=r+t;return f.toString.call(e.buffer,"utf-8",r,n)}function _(e,t){var r=e.reserve(t),n=f.slice.call(e.buffer,r,r+t);return c.from(n)}function y(e,t){var r=e.reserve(t),n=f.slice.call(e.buffer,r,r+t);return c.Uint8Array.from(n).buffer}function m(e,t){var r=e.reserve(t+1),n=e.buffer[r++],i=r+t,o=e.codec.getExtUnpacker(n);if(!o)throw Error("Invalid ext type: "+(n?"0x"+n.toString(16):n));return o(f.slice.call(e.buffer,r,i))}function b(e){var t=e.reserve(1);return e.buffer[t]}function w(e){var t=e.reserve(1),r=e.buffer[t];return 128&r?r-256:r}function x(e){var t=e.reserve(2),r=e.buffer;return r[t++]<<8|r[t]}function E(e){var t=e.reserve(2),r=e.buffer,n=r[t++]<<8|r[t];return 32768&n?n-65536:n}function k(e){var t=e.reserve(4),r=e.buffer;return 16777216*r[t++]+(r[t++]<<16)+(r[t++]<<8)+r[t]}function S(e){var t=e.reserve(4),r=e.buffer;return r[t++]<<24|r[t++]<<16|r[t++]<<8|r[t]}function I(e,t){return function(r){var n=r.reserve(e);return t.call(r.buffer,n,!0)}}function A(e){return new u(this,e).toNumber()}function O(e){return new l(this,e).toNumber()}function T(e){return new u(this,e)}function C(e){return new l(this,e)}function U(e){return s.read(this,e,!1,23,4)}function R(e){return s.read(this,e,!1,52,8)}}),o("6DoGr",function(t,r){e(t.exports,"getReadToken",()=>n,e=>n=e);var n,o=i("4quIF");function s(e){var t,r=Array(256);for(t=0;t<=127;t++)r[t]=a(t);for(t=128;t<=143;t++)r[t]=l(t-128,e.map);for(t=144;t<=159;t++)r[t]=l(t-144,e.array);for(t=160;t<=191;t++)r[t]=l(t-160,e.str);for(t=224,r[192]=a(null),r[193]=null,r[194]=a(!1),r[195]=a(!0),r[196]=u(e.uint8,e.bin),r[197]=u(e.uint16,e.bin),r[198]=u(e.uint32,e.bin),r[199]=u(e.uint8,e.ext),r[200]=u(e.uint16,e.ext),r[201]=u(e.uint32,e.ext),r[202]=e.float32,r[203]=e.float64,r[204]=e.uint8,r[205]=e.uint16,r[206]=e.uint32,r[207]=e.uint64,r[208]=e.int8,r[209]=e.int16,r[210]=e.int32,r[211]=e.int64,r[212]=l(1,e.ext),r[213]=l(2,e.ext),r[214]=l(4,e.ext),r[215]=l(8,e.ext),r[216]=l(16,e.ext),r[217]=u(e.uint8,e.str),r[218]=u(e.uint16,e.str),r[219]=u(e.uint32,e.str),r[220]=u(e.uint16,e.array),r[221]=u(e.uint32,e.array),r[222]=u(e.uint16,e.map),r[223]=u(e.uint32,e.map);t<=255;t++)r[t]=a(t-256);return r}function a(e){return function(){return e}}function u(e,t){return function(r){var n=e(r);return t(r,n)}}function l(e,t){return function(r){return t(r,e)}}n=function(e){var t=o.getReadFormat(e);return e&&e.useraw?function(e){var t,r=s(e).slice();for(t=160,r[217]=r[196],r[218]=r[197],r[219]=r[198];t<=191;t++)r[t]=l(t-160,e.bin);return r}(t):s(t)}}),o("j0gDy",function(t,r){e(t.exports,"Encoder",()=>n,e=>n=e),n=a;var n,o=i("fg8uu"),s=i("avWnX").EncodeBuffer;function a(e){if(!(this instanceof a))return new a(e);s.call(this,e)}a.prototype=new s,o.mixin(a.prototype),a.prototype.encode=function(e){this.write(e),this.emit("data",this.read())},a.prototype.end=function(e){arguments.length&&this.encode(e),this.flush(),this.emit("end")}}),o("fg8uu",function(e,t){!function(t){e.exports=t;var r="listeners",n={on:function(e,t){return s(this,e).push(t),this},once:function(e,t){var r=this;return n.originalListener=t,s(r,e).push(n),r;function n(){o.call(r,e,n),t.apply(this,arguments)}},off:o,emit:function(e,t){var r=this,n=s(r,e,!0);if(!n)return!1;var i=arguments.length;if(1===i)n.forEach(function(e){e.call(r)});else if(2===i)n.forEach(function(e){e.call(r,t)});else{var o=Array.prototype.slice.call(arguments,1);n.forEach(function(e){e.apply(r,o)})}return!!n.length}};function i(e){for(var t in n)e[t]=n[t];return e}function o(e,t){var n;if(arguments.length){if(t){if(n=s(this,e,!0)){if(!(n=n.filter(function(e){return e!==t&&e.originalListener!==t})).length)return o.call(this,e);this[r][e]=n}}else if((n=this[r])&&(delete n[e],!Object.keys(n).length))return o.call(this)}else delete this[r];return this}function s(e,t,n){if(!n||e[r]){var i=e[r]||(e[r]={});return i[t]||(i[t]=[])}}i(t.prototype),t.mixin=i}(/**
 * event-lite.js - Light-weight EventEmitter (less than 1KB when gzipped)
 *
 * @copyright Yusuke Kawasaki
 * @license MIT
 * @constructor
 * @see https://github.com/kawanet/event-lite
 * @see http://kawanet.github.io/event-lite/EventLite.html
 * @example
 * var EventLite = require("event-lite");
 *
 * function MyClass() {...}             // your class
 *
 * EventLite.mixin(MyClass.prototype);  // import event methods
 *
 * var obj = new MyClass();
 * obj.on("foo", function() {...});     // add event listener
 * obj.once("bar", function() {...});   // add one-time event listener
 * obj.emit("foo");                     // dispatch event
 * obj.emit("bar");                     // dispatch another event
 * obj.off("foo");                      // remove event listener
 */function e(){if(!(this instanceof e))return new e})}),o("3yPWX",function(t,r){e(t.exports,"Decoder",()=>n,e=>n=e),n=a;var n,o=i("fg8uu"),s=i("hyKNI").DecodeBuffer;function a(e){if(!(this instanceof a))return new a(e);s.call(this,e)}a.prototype=new s,o.mixin(a.prototype),a.prototype.decode=function(e){arguments.length&&this.write(e),this.flush()},a.prototype.push=function(e){this.emit("data",e)},a.prototype.end=function(e){this.decode(e),this.emit("end")}}),o("cdNrd",function(t,r){var n;e(t.exports,"createCodec",()=>n,e=>n=e),i("hK1U2"),i("cVSFE"),n=i("3pxG7").createCodec}),o("gOHjX",function(t,r){var n;e(t.exports,"codec",()=>n,e=>n=e),i("hK1U2"),i("cVSFE"),n={preset:i("3pxG7").preset}}),o("8LMVf",function(t,r){let n,i,o,s,a;function u(e){let t=e.length;for(;--t>=0;)e[t]=0}e(t.exports,"deflate",()=>tG),e(t.exports,"inflate",()=>tZ);let l=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),c=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),d=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=Array(576);u(h);let p=Array(60);u(p);let g=Array(512);u(g);let v=Array(256);u(v);let _=Array(29);u(_);let y=Array(30);function m(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}u(y);let w=e=>e<256?g[e]:g[256+(e>>>7)],x=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},E=(e,t,r)=>{e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,x(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},k=(e,t,r)=>{E(e,r[2*t],r[2*t+1])},S=(e,t)=>{let r=0;do r|=1&e,e>>>=1,r<<=1;while(--t>0)return r>>>1},I=e=>{16===e.bi_valid?(x(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)},A=(e,t)=>{let r,n,i,o,s,a;let u=t.dyn_tree,l=t.max_code,c=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(o=u[2*u[2*(n=e.heap[r])+1]+1]+1)>p&&(o=p,g++),u[2*n+1]=o,!(n>l)&&(e.bl_count[o]++,s=0,n>=h&&(s=d[n-h]),a=u[2*n],e.opt_len+=a*(o+s),f&&(e.static_len+=a*(c[2*n+1]+s)));if(0!==g){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,g-=2}while(g>0)for(o=p;0!==o;o--)for(n=e.bl_count[o];0!==n;)!((i=e.heap[--r])>l)&&(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),n--)}},O=(e,t,r)=>{let n,i;let o=Array(16),s=0;for(n=1;n<=15;n++)s=s+r[n-1]<<1,o[n]=s;for(i=0;i<=t;i++){let t=e[2*i+1];0!==t&&(e[2*i]=S(o[t]++,t))}},T=()=>{let e,t,r,s,a;let u=Array(16);for(s=0,r=0;s<28;s++)for(e=0,_[s]=r;e<1<<l[s];e++)v[r++]=s;for(v[r-1]=s,a=0,s=0;s<16;s++)for(e=0,y[s]=a;e<1<<c[s];e++)g[a++]=s;for(a>>=7;s<30;s++)for(e=0,y[s]=a<<7;e<1<<c[s]-7;e++)g[256+a++]=s;for(t=0;t<=15;t++)u[t]=0;for(e=0;e<=143;)h[2*e+1]=8,e++,u[8]++;for(;e<=255;)h[2*e+1]=9,e++,u[9]++;for(;e<=279;)h[2*e+1]=7,e++,u[7]++;for(;e<=287;)h[2*e+1]=8,e++,u[8]++;for(O(h,287,u),e=0;e<30;e++)p[2*e+1]=5,p[2*e]=S(e,5);n=new m(h,l,257,286,15),i=new m(p,c,0,30,15),o=new m([],f,0,19,7)},C=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},U=e=>{e.bi_valid>8?x(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},R=(e,t,r,n)=>{let i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]},D=(e,t,r)=>{let n=e.heap[r],i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&R(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!R(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},P=(e,t,r)=>{let n,i,o,s;let a=0;if(0!==e.sym_next)do n=(255&e.pending_buf[e.sym_buf+a++])+((255&e.pending_buf[e.sym_buf+a++])<<8),i=e.pending_buf[e.sym_buf+a++],0===n?k(e,i,t):(k(e,(o=v[i])+256+1,t),0!==(s=l[o])&&E(e,i-=_[o],s),k(e,o=w(--n),r),0!==(s=c[o])&&E(e,n-=y[o],s));while(a<e.sym_next)k(e,256,t)},L=(e,t)=>{let r,n,i;let o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(r=0,e.heap_len=0,e.heap_max=573;r<u;r++)0!==o[2*r]?(e.heap[++e.heap_len]=l=r,e.depth[r]=0):o[2*r+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=s[2*i+1]);for(t.max_code=l,r=e.heap_len>>1;r>=1;r--)D(e,o,r);i=u;do r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],D(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,o[2*i]=o[2*r]+o[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,o[2*r+1]=o[2*n+1]=i,e.heap[1]=i++,D(e,o,1);while(e.heap_len>=2)e.heap[--e.heap_max]=e.heap[1],A(e,t),O(o,l,e.bl_count)},B=(e,t,r)=>{let n,i;let o=-1,s=t[1],a=0,u=7,l=4;for(0===s&&(u=138,l=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=s,s=t[(n+1)*2+1],++a<u&&i===s||(a<l?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=i,0===s?(u=138,l=3):i===s?(u=6,l=3):(u=7,l=4))},j=(e,t,r)=>{let n,i;let o=-1,s=t[1],a=0,u=7,l=4;for(0===s&&(u=138,l=3),n=0;n<=r;n++)if(i=s,s=t[(n+1)*2+1],!(++a<u)||i!==s){if(a<l)do k(e,i,e.bl_tree);while(0!=--a)else 0!==i?(i!==o&&(k(e,i,e.bl_tree),a--),k(e,16,e.bl_tree),E(e,a-3,2)):a<=10?(k(e,17,e.bl_tree),E(e,a-3,3)):(k(e,18,e.bl_tree),E(e,a-11,7));a=0,o=i,0===s?(u=138,l=3):i===s?(u=6,l=3):(u=7,l=4)}},N=e=>{let t;for(B(e,e.dyn_ltree,e.l_desc.max_code),B(e,e.dyn_dtree,e.d_desc.max_code),L(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t},M=(e,t,r,n)=>{let i;for(E(e,t-257,5),E(e,r-1,5),E(e,n-4,4),i=0;i<n;i++)E(e,e.bl_tree[2*d[i]+1],3);j(e,e.dyn_ltree,t-1),j(e,e.dyn_dtree,r-1)},F=e=>{let t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0},z=!1,K=(e,t,r,n)=>{E(e,0+(n?1:0),3),U(e),x(e,r),x(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r};var V={_tr_init:e=>{z||(T(),z=!0),e.l_desc=new b(e.dyn_ltree,n),e.d_desc=new b(e.dyn_dtree,i),e.bl_desc=new b(e.bl_tree,o),e.bi_buf=0,e.bi_valid=0,C(e)},_tr_stored_block:K,_tr_flush_block:(e,t,r,n)=>{let i,o;let s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=F(e)),L(e,e.l_desc),L(e,e.d_desc),s=N(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==t?K(e,t,r,n):4===e.strategy||o===i?(E(e,2+(n?1:0),3),P(e,h,p)):(E(e,4+(n?1:0),3),M(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),P(e,e.dyn_ltree,e.dyn_dtree)),C(e),n&&U(e)},_tr_tally:(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[(v[r]+256+1)*2]++,e.dyn_dtree[2*w(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{E(e,2,3),k(e,256,h),I(e)}},q=(e,t,r,n)=>{let i=65535&e|0,o=e>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do o=o+(i=i+t[n++]|0)|0;while(--s)i%=65521,o%=65521}return i|o<<16|0};let G=new Uint32Array((()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t})());var Z=(e,t,r,n)=>{let i=n+r;e^=-1;for(let r=n;r<i;r++)e=e>>>8^G[(e^t[r])&255];return -1^e},W={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:H,_tr_stored_block:J,_tr_flush_block:X,_tr_tally:Y,_tr_align:Q}=V,{Z_NO_FLUSH:ee,Z_PARTIAL_FLUSH:et,Z_FULL_FLUSH:er,Z_FINISH:en,Z_BLOCK:ei,Z_OK:eo,Z_STREAM_END:es,Z_STREAM_ERROR:ea,Z_DATA_ERROR:eu,Z_BUF_ERROR:el,Z_DEFAULT_COMPRESSION:ec,Z_FILTERED:ef,Z_HUFFMAN_ONLY:ed,Z_RLE:eh,Z_FIXED:ep,Z_DEFAULT_STRATEGY:eg,Z_UNKNOWN:ev,Z_DEFLATED:e_}=$,ey=(e,t)=>(e.msg=W[t],t),em=e=>2*e-(e>4?9:0),eb=e=>{let t=e.length;for(;--t>=0;)e[t]=0},ew=e=>{let t,r,n;let i=e.w_size;n=t=e.hash_size;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t)n=t=i;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)},ex=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,eE=e=>{let t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},ek=(e,t)=>{X(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,eE(e.strm)},eS=(e,t)=>{e.pending_buf[e.pending++]=t},eI=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},eA=(e,t,r,n)=>{let i=e.avail_in;return(i>n&&(i=n),0===i)?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),1===e.state.wrap?e.adler=q(e.adler,t,i,r):2===e.state.wrap&&(e.adler=Z(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},eO=(e,t)=>{let r,n,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,u=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,l=e.window,c=e.w_mask,f=e.prev,d=e.strstart+258,h=l[o+s-1],p=l[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(l[(r=t)+s]!==p||l[r+s-1]!==h||l[r]!==l[o]||l[++r]!==l[o+1])continue;o+=2,r++;do;while(l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&o<d)if(n=258-(d-o),o=d-258,n>s){if(e.match_start=t,s=n,n>=a)break;h=l[o+s-1],p=l[o+s]}}while((t=f[t&c])>u&&0!=--i)return s<=e.lookahead?s:e.lookahead},eT=e=>{let t,r,n;let i=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=i+(i-262)&&(e.window.set(e.window.subarray(i,i+i-r),0),e.match_start-=i,e.strstart-=i,e.block_start-=i,e.insert>e.strstart&&(e.insert=e.strstart),ew(e),r+=i),0===e.strm.avail_in)break;if(t=eA(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=t,e.lookahead+e.insert>=3)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=ex(e,e.ins_h,e.window[n+1]);e.insert&&(e.ins_h=ex(e,e.ins_h,e.window[n+3-1]),e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},eC=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,o,s=0,a=e.strm.avail_in;do{if(n=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o||(o=e.strm.avail_out-o,n>(i=e.strstart-e.block_start)+e.strm.avail_in&&(n=i+e.strm.avail_in),n>o&&(n=o),n<r&&(0===n&&t!==en||t===ee||n!==i+e.strm.avail_in)))break;s=t===en&&n===i+e.strm.avail_in?1:0,J(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,eE(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(eA(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===s)return((a-=e.strm.avail_in)&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s)?4:t!==ee&&t!==en&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(eA(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,r=(o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o)>e.w_size?e.w_size:o,((i=e.strstart-e.block_start)>=r||(i||t===en)&&t!==ee&&0===e.strm.avail_in&&i<=o)&&(n=i>o?o:i,s=t===en&&0===e.strm.avail_in&&n===i?1:0,J(e,e.block_start,n,s),e.block_start+=n,eE(e.strm)),s?3:1)},eU=(e,t)=>{let r,n;for(;;){if(e.lookahead<262){if(eT(e),e.lookahead<262&&t===ee)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=ex(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=eO(e,r)),e.match_length>=3){if(n=Y(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=ex(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length)e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ex(e,e.ins_h,e.window[e.strstart+1])}else n=Y(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(ek(e,!1),0===e.strm.avail_out))return 1}return(e.insert=e.strstart<2?e.strstart:2,t===en)?(ek(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(ek(e,!1),0===e.strm.avail_out)?1:2},eR=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<262){if(eT(e),e.lookahead<262&&t===ee)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=ex(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=eO(e,r),e.match_length<=5&&(e.strategy===ef||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=Y(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=ex(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length)if(e.match_available=0,e.match_length=2,e.strstart++,n&&(ek(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=Y(e,0,e.window[e.strstart-1]))&&ek(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return(e.match_available&&(n=Y(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===en)?(ek(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(ek(e,!1),0===e.strm.avail_out)?1:2},eD=(e,t)=>{let r,n,i,o;let s=e.window;for(;;){if(e.lookahead<=258){if(eT(e),e.lookahead<=258&&t===ee)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){o=e.strstart+258;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o)e.match_length=258-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=Y(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Y(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(ek(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,t===en)?(ek(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(ek(e,!1),0===e.strm.avail_out)?1:2},eP=(e,t)=>{let r;for(;;){if(0===e.lookahead&&(eT(e),0===e.lookahead)){if(t===ee)return 1;break}if(e.match_length=0,r=Y(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(ek(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,t===en)?(ek(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(ek(e,!1),0===e.strm.avail_out)?1:2};function eL(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}let eB=[new eL(0,0,0,0,eC),new eL(4,4,8,4,eU),new eL(4,5,16,8,eU),new eL(4,6,32,32,eU),new eL(4,4,16,16,eR),new eL(8,16,32,32,eR),new eL(8,16,128,128,eR),new eL(8,32,128,256,eR),new eL(32,128,258,1024,eR),new eL(32,258,258,4096,eR)],ej=e=>{e.window_size=2*e.w_size,eb(e.head),e.max_lazy_match=eB[e.level].max_lazy,e.good_match=eB[e.level].good_length,e.nice_match=eB[e.level].nice_length,e.max_chain_length=eB[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0};function eN(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=e_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),eb(this.dyn_ltree),eb(this.dyn_dtree),eb(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),eb(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),eb(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let eM=e=>{if(!e)return 1;let t=e.state;return t&&t.strm===e&&(42===t.status||57===t.status||69===t.status||73===t.status||91===t.status||103===t.status||113===t.status||666===t.status)?0:1},eF=e=>{if(eM(e))return ey(e,ea);e.total_in=e.total_out=0,e.data_type=ev;let t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=-2,H(t),eo},ez=e=>{let t=eF(e);return t===eo&&ej(e.state),t};var eK={deflateInit2:(e,t,r,n,i,o)=>{if(!e)return ea;let s=1;if(t===ec&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||r!==e_||n<8||n>15||t<0||t>9||o<0||o>ep||8===n&&1!==s)return ey(e,ea);8===n&&(n=9);let a=new eN;return e.state=a,a.strm=e,a.status=42,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=o,a.method=r,ez(e)},deflateSetHeader:(e,t)=>eM(e)||2!==e.state.wrap?ea:(e.state.gzhead=t,eo),deflate:(e,t)=>{if(eM(e)||t>ei||t<0)return e?ey(e,ea):ea;let r=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===r.status&&t!==en)return ey(e,0===e.avail_out?el:ea);let n=r.last_flush;if(r.last_flush=t,0!==r.pending){if(eE(e),0===e.avail_out)return r.last_flush=-1,eo}else if(0===e.avail_in&&em(t)<=em(n)&&t!==en)return ey(e,el);if(666===r.status&&0!==e.avail_in)return ey(e,el);if(42===r.status&&0===r.wrap&&(r.status=113),42===r.status){let t=e_+(r.w_bits-8<<4)<<8;if(t|=(r.strategy>=ed||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(t|=32),eI(r,t+=31-t%31),0!==r.strstart&&(eI(r,e.adler>>>16),eI(r,65535&e.adler)),e.adler=1,r.status=113,eE(e),0!==r.pending)return r.last_flush=-1,eo}if(57===r.status){if(e.adler=0,eS(r,31),eS(r,139),eS(r,8),r.gzhead)eS(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),eS(r,255&r.gzhead.time),eS(r,r.gzhead.time>>8&255),eS(r,r.gzhead.time>>16&255),eS(r,r.gzhead.time>>24&255),eS(r,9===r.level?2:r.strategy>=ed||r.level<2?4:0),eS(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(eS(r,255&r.gzhead.extra.length),eS(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Z(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(eS(r,0),eS(r,0),eS(r,0),eS(r,0),eS(r,0),eS(r,9===r.level?2:r.strategy>=ed||r.level<2?4:0),eS(r,3),r.status=113,eE(e),0!==r.pending)return r.last_flush=-1,eo}if(69===r.status){if(r.gzhead.extra){let t=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>t&&(e.adler=Z(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex+=i,eE(e),0!==r.pending)return r.last_flush=-1,eo;t=0,n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>t&&(e.adler=Z(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let t,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=Z(e.adler,r.pending_buf,r.pending-n,n)),eE(e),0!==r.pending)return r.last_flush=-1,eo;n=0}t=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,eS(r,t)}while(0!==t)r.gzhead.hcrc&&r.pending>n&&(e.adler=Z(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let t,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=Z(e.adler,r.pending_buf,r.pending-n,n)),eE(e),0!==r.pending)return r.last_flush=-1,eo;n=0}t=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,eS(r,t)}while(0!==t)r.gzhead.hcrc&&r.pending>n&&(e.adler=Z(e.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(eE(e),0!==r.pending))return r.last_flush=-1,eo;eS(r,255&e.adler),eS(r,e.adler>>8&255),e.adler=0}if(r.status=113,eE(e),0!==r.pending)return r.last_flush=-1,eo}if(0!==e.avail_in||0!==r.lookahead||t!==ee&&666!==r.status){let n=0===r.level?eC(r,t):r.strategy===ed?eP(r,t):r.strategy===eh?eD(r,t):eB[r.level].func(r,t);if((3===n||4===n)&&(r.status=666),1===n||3===n)return 0===e.avail_out&&(r.last_flush=-1),eo;if(2===n&&(t===et?Q(r):t!==ei&&(J(r,0,0,!1),t===er&&(eb(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),eE(e),0===e.avail_out))return r.last_flush=-1,eo}return t!==en?eo:r.wrap<=0?es:(2===r.wrap?(eS(r,255&e.adler),eS(r,e.adler>>8&255),eS(r,e.adler>>16&255),eS(r,e.adler>>24&255),eS(r,255&e.total_in),eS(r,e.total_in>>8&255),eS(r,e.total_in>>16&255),eS(r,e.total_in>>24&255)):(eI(r,e.adler>>>16),eI(r,65535&e.adler)),eE(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?eo:es)},deflateEnd:e=>{if(eM(e))return ea;let t=e.state.status;return e.state=null,113===t?ey(e,eu):eo},deflateSetDictionary:(e,t)=>{let r=t.length;if(eM(e))return ea;let n=e.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return ea;if(1===i&&(e.adler=q(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===i&&(eb(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(r-n.w_size,r),0),t=e,r=n.w_size}let o=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,eT(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do n.ins_h=ex(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++;while(--t)n.strstart=e,n.lookahead=2,eT(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=s,e.input=a,e.avail_in=o,n.wrap=i,eo}};let eV=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var eq={assign:function(e){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let r=t.shift();if(r){if("object"!=typeof r)throw TypeError(r+"must be non-object");for(let t in r)eV(r,t)&&(e[t]=r[t])}}return e},flattenChunks:e=>{let t=0;for(let r=0,n=e.length;r<n;r++)t+=e[r].length;let r=new Uint8Array(t);for(let t=0,n=0,i=e.length;t<i;t++){let i=e[t];r.set(i,n),n+=i.length}return r}};let eG=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){eG=!1}let eZ=new Uint8Array(256);for(let e=0;e<256;e++)eZ[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;eZ[254]=eZ[254]=1;let eW=(e,t)=>{if(t<65534&&e.subarray&&eG)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var e$={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,o,s=e.length,a=0;for(i=0;i<s;i++)(64512&(r=e.charCodeAt(i)))==55296&&i+1<s&&(64512&(n=e.charCodeAt(i+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),i++),a+=r<128?1:r<2048?2:r<65536?3:4;for(o=0,t=new Uint8Array(a),i=0;o<a;i++)(64512&(r=e.charCodeAt(i)))==55296&&i+1<s&&(64512&(n=e.charCodeAt(i+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[o++]=r:(r<2048?t[o++]=192|r>>>6:(r<65536?t[o++]=224|r>>>12:(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63),t[o++]=128|r>>>6&63),t[o++]=128|63&r);return t},buf2string:(e,t)=>{let r,n;let i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let o=Array(2*i);for(n=0,r=0;r<i;){let t=e[r++];if(t<128){o[n++]=t;continue}let s=eZ[t];if(s>4){o[n++]=65533,r+=s-1;continue}for(t&=2===s?31:3===s?15:7;s>1&&r<i;)t=t<<6|63&e[r++],s--;if(s>1){o[n++]=65533;continue}t<65536?o[n++]=t:(t-=65536,o[n++]=55296|t>>10&1023,o[n++]=56320|1023&t)}return eW(o,n)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(192&e[r])==128;)r--;return r<0||0===r?t:r+eZ[e[r]]>t?r:t}},eH=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};let eJ=Object.prototype.toString,{Z_NO_FLUSH:eX,Z_SYNC_FLUSH:eY,Z_FULL_FLUSH:eQ,Z_FINISH:e0,Z_OK:e1,Z_STREAM_END:e2,Z_DEFAULT_COMPRESSION:e6,Z_DEFAULT_STRATEGY:e5,Z_DEFLATED:e3}=$;function e4(e){this.options=eq.assign({level:e6,method:e3,chunkSize:16384,windowBits:15,memLevel:8,strategy:e5},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new eH,this.strm.avail_out=0;let r=eK.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==e1)throw Error(W[r]);if(t.header&&eK.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?e$.string2buf(t.dictionary):"[object ArrayBuffer]"===eJ.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=eK.deflateSetDictionary(this.strm,e))!==e1)throw Error(W[r]);this._dict_set=!0}}function e8(e,t){let r=new e4(t);if(r.push(e,!0),r.err)throw r.msg||W[r.err];return r.result}e4.prototype.push=function(e,t){let r,n;let i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(n=t===~~t?t:!0===t?e0:eX,"string"==typeof e?i.input=e$.string2buf(e):"[object ArrayBuffer]"===eJ.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){if(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(n===eY||n===eQ)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if((r=eK.deflate(i,n))===e2)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=eK.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===e1;if(0===i.avail_out){this.onData(i.output);continue}if(n>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(0===i.avail_in)break}return!0},e4.prototype.onData=function(e){this.chunks.push(e)},e4.prototype.onEnd=function(e){e===e1&&(this.result=eq.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var e9=function(e,t){let r,n,i,o,s,a,u,l,c,f,d,h,p,g,v,_,y,m,b,w,x,E,k,S;let I=e.state;r=e.next_in,k=e.input,n=r+(e.avail_in-5),i=e.next_out,S=e.output,o=i-(t-e.avail_out),s=i+(e.avail_out-257),a=I.dmax,u=I.wsize,l=I.whave,c=I.wnext,f=I.window,d=I.hold,h=I.bits,p=I.lencode,g=I.distcode,v=(1<<I.lenbits)-1,_=(1<<I.distbits)-1;e:do for(h<15&&(d+=k[r++]<<h,h+=8,d+=k[r++]<<h,h+=8),y=p[d&v];;){if(d>>>=m=y>>>24,h-=m,0==(m=y>>>16&255))S[i++]=65535&y;else if(16&m)for(b=65535&y,(m&=15)&&(h<m&&(d+=k[r++]<<h,h+=8),b+=d&(1<<m)-1,d>>>=m,h-=m),h<15&&(d+=k[r++]<<h,h+=8,d+=k[r++]<<h,h+=8),y=g[d&_];;){if(d>>>=m=y>>>24,h-=m,16&(m=y>>>16&255)){if(w=65535&y,h<(m&=15)&&(d+=k[r++]<<h,(h+=8)<m&&(d+=k[r++]<<h,h+=8)),(w+=d&(1<<m)-1)>a){e.msg="invalid distance too far back",I.mode=16209;break e}if(d>>>=m,h-=m,w>(m=i-o)){if((m=w-m)>l&&I.sane){e.msg="invalid distance too far back",I.mode=16209;break e}if(x=0,E=f,0===c){if(x+=u-m,m<b){b-=m;do S[i++]=f[x++];while(--m)x=i-w,E=S}}else if(c<m){if(x+=u+c-m,(m-=c)<b){b-=m;do S[i++]=f[x++];while(--m)if(x=0,c<b){b-=m=c;do S[i++]=f[x++];while(--m)x=i-w,E=S}}}else if(x+=c-m,m<b){b-=m;do S[i++]=f[x++];while(--m)x=i-w,E=S}for(;b>2;)S[i++]=E[x++],S[i++]=E[x++],S[i++]=E[x++],b-=3;b&&(S[i++]=E[x++],b>1&&(S[i++]=E[x++]))}else{x=i-w;do S[i++]=S[x++],S[i++]=S[x++],S[i++]=S[x++],b-=3;while(b>2)b&&(S[i++]=S[x++],b>1&&(S[i++]=S[x++]))}}else if((64&m)==0){y=g[(65535&y)+(d&(1<<m)-1)];continue}else{e.msg="invalid distance code",I.mode=16209;break e}break}else if((64&m)==0){y=p[(65535&y)+(d&(1<<m)-1)];continue}else if(32&m){I.mode=16191;break e}else{e.msg="invalid literal/length code",I.mode=16209;break e}break}while(r<n&&i<s)r-=b=h>>3,h-=b<<3,d&=(1<<h)-1,e.next_in=r,e.next_out=i,e.avail_in=r<n?5+(n-r):5-(r-n),e.avail_out=i<s?257+(s-i):257-(i-s),I.hold=d,I.bits=h};let e7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),te=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),tr=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var tn=(e,t,r,n,i,o,s,a)=>{let u,l,c,f,d,h,p,g,v;let _=a.bits,y=0,m=0,b=0,w=0,x=0,E=0,k=0,S=0,I=0,A=0,O=null,T=new Uint16Array(16),C=new Uint16Array(16),U=null;for(y=0;y<=15;y++)T[y]=0;for(m=0;m<n;m++)T[t[r+m]]++;for(w=15,x=_;w>=1&&0===T[w];w--);if(x>w&&(x=w),0===w)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(b=1;b<w&&0===T[b];b++);for(x<b&&(x=b),S=1,y=1;y<=15;y++)if(S<<=1,(S-=T[y])<0)return -1;if(S>0&&(0===e||1!==w))return -1;for(y=1,C[1]=0;y<15;y++)C[y+1]=C[y]+T[y];for(m=0;m<n;m++)0!==t[r+m]&&(s[C[t[r+m]]++]=m);if(0===e?(O=U=s,h=20):1===e?(O=e7,U=te,h=257):(O=tt,U=tr,h=0),A=0,m=0,y=b,d=o,E=x,k=0,c=-1,f=(I=1<<x)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){p=y-k,s[m]+1<h?(g=0,v=s[m]):s[m]>=h?(g=U[s[m]-h],v=O[s[m]-h]):(g=96,v=0),u=1<<y-k,b=l=1<<E;do i[d+(A>>k)+(l-=u)]=p<<24|g<<16|v|0;while(0!==l)for(u=1<<y-1;A&u;)u>>=1;if(0!==u?(A&=u-1,A+=u):A=0,m++,0==--T[y]){if(y===w)break;y=t[r+s[m]]}if(y>x&&(A&f)!==c){for(0===k&&(k=x),d+=b,S=1<<(E=y-k);E+k<w&&!((S-=T[E+k])<=0);)E++,S<<=1;if(I+=1<<E,1===e&&I>852||2===e&&I>592)return 1;i[c=A&f]=x<<24|E<<16|d-o|0}}return 0!==A&&(i[d+A]=y-k<<24|4194304),a.bits=x,0};let{Z_FINISH:ti,Z_BLOCK:to,Z_TREES:ts,Z_OK:ta,Z_STREAM_END:tu,Z_NEED_DICT:tl,Z_STREAM_ERROR:tc,Z_DATA_ERROR:tf,Z_MEM_ERROR:td,Z_BUF_ERROR:th,Z_DEFLATED:tp}=$,tg=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function tv(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let t_=e=>{if(!e)return 1;let t=e.state;return!t||t.strm!==e||t.mode<16180||t.mode>16211?1:0},ty=e=>{if(t_(e))return tc;let t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,ta},tm=e=>{if(t_(e))return tc;let t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,ty(e)},tb=(e,t)=>{let r;if(t_(e))return tc;let n=e.state;return(t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15))?tc:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,tm(e))},tw=!0,tx=e=>{if(tw){s=new Int32Array(512),a=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(tn(1,e.lens,0,288,s,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;tn(2,e.lens,0,32,a,0,e.work,{bits:5}),tw=!1}e.lencode=s,e.lenbits=9,e.distcode=a,e.distbits=5},tE=(e,t,r,n)=>{let i;let o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>n&&(i=n),o.window.set(t.subarray(r-n,r-n+i),o.wnext),(n-=i)?(o.window.set(t.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var tk={inflateReset:tm,inflateInit2:(e,t)=>{if(!e)return tc;let r=new tv;e.state=r,r.strm=e,r.window=null,r.mode=16180;let n=tb(e,t);return n!==ta&&(e.state=null),n},inflate:(e,t)=>{let r,n,i,o,s,a,u,l,c,f,d,h,p,g,v,_,y,m,b,w,x,E,k,S;let I=0,A=new Uint8Array(4),O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(t_(e)||!e.output||!e.input&&0!==e.avail_in)return tc;16191===(r=e.state).mode&&(r.mode=16192),s=e.next_out,i=e.output,u=e.avail_out,o=e.next_in,n=e.input,a=e.avail_in,l=r.hold,c=r.bits,f=a,d=u,E=ta;t:for(;;)switch(r.mode){case 16180:if(0===r.wrap){r.mode=16192;break}for(;c<16;){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}if(2&r.wrap&&35615===l){0===r.wbits&&(r.wbits=15),r.check=0,A[0]=255&l,A[1]=l>>>8&255,r.check=Z(r.check,A,2,0),l=0,c=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&l)<<8)+(l>>8))%31){e.msg="incorrect header check",r.mode=16209;break}if((15&l)!==tp){e.msg="unknown compression method",r.mode=16209;break}if(l>>>=4,c-=4,x=(15&l)+8,0===r.wbits&&(r.wbits=x),x>15||x>r.wbits){e.msg="invalid window size",r.mode=16209;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=512&l?16189:16191,l=0,c=0;break;case 16181:for(;c<16;){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}if(r.flags=l,(255&r.flags)!==tp){e.msg="unknown compression method",r.mode=16209;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=16209;break}r.head&&(r.head.text=l>>8&1),512&r.flags&&4&r.wrap&&(A[0]=255&l,A[1]=l>>>8&255,r.check=Z(r.check,A,2,0)),l=0,c=0,r.mode=16182;case 16182:for(;c<32;){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}r.head&&(r.head.time=l),512&r.flags&&4&r.wrap&&(A[0]=255&l,A[1]=l>>>8&255,A[2]=l>>>16&255,A[3]=l>>>24&255,r.check=Z(r.check,A,4,0)),l=0,c=0,r.mode=16183;case 16183:for(;c<16;){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}r.head&&(r.head.xflags=255&l,r.head.os=l>>8),512&r.flags&&4&r.wrap&&(A[0]=255&l,A[1]=l>>>8&255,r.check=Z(r.check,A,2,0)),l=0,c=0,r.mode=16184;case 16184:if(1024&r.flags){for(;c<16;){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}r.length=l,r.head&&(r.head.extra_len=l),512&r.flags&&4&r.wrap&&(A[0]=255&l,A[1]=l>>>8&255,r.check=Z(r.check,A,2,0)),l=0,c=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&((h=r.length)>a&&(h=a),h&&(r.head&&(x=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+h),x)),512&r.flags&&4&r.wrap&&(r.check=Z(r.check,n,h,o)),a-=h,o+=h,r.length-=h),r.length))break t;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===a)break t;h=0;do x=n[o+h++],r.head&&x&&r.length<65536&&(r.head.name+=String.fromCharCode(x));while(x&&h<a)if(512&r.flags&&4&r.wrap&&(r.check=Z(r.check,n,h,o)),a-=h,o+=h,x)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===a)break t;h=0;do x=n[o+h++],r.head&&x&&r.length<65536&&(r.head.comment+=String.fromCharCode(x));while(x&&h<a)if(512&r.flags&&4&r.wrap&&(r.check=Z(r.check,n,h,o)),a-=h,o+=h,x)break t}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;c<16;){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}if(4&r.wrap&&l!==(65535&r.check)){e.msg="header crc mismatch",r.mode=16209;break}l=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=16191;break;case 16189:for(;c<32;){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}e.adler=r.check=tg(l),l=0,c=0,r.mode=16190;case 16190:if(0===r.havedict)return e.next_out=s,e.avail_out=u,e.next_in=o,e.avail_in=a,r.hold=l,r.bits=c,tl;e.adler=r.check=1,r.mode=16191;case 16191:if(t===to||t===ts)break t;case 16192:if(r.last){l>>>=7&c,c-=7&c,r.mode=16206;break}for(;c<3;){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}switch(r.last=1&l,c-=1,3&(l>>>=1)){case 0:r.mode=16193;break;case 1:if(tx(r),r.mode=16199,t===ts){l>>>=2,c-=2;break t}break;case 2:r.mode=16196;break;case 3:e.msg="invalid block type",r.mode=16209}l>>>=2,c-=2;break;case 16193:for(l>>>=7&c,c-=7&c;c<32;){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}if((65535&l)!=(l>>>16^65535)){e.msg="invalid stored block lengths",r.mode=16209;break}if(r.length=65535&l,l=0,c=0,r.mode=16194,t===ts)break t;case 16194:r.mode=16195;case 16195:if(h=r.length){if(h>a&&(h=a),h>u&&(h=u),0===h)break t;i.set(n.subarray(o,o+h),s),a-=h,o+=h,u-=h,s+=h,r.length-=h;break}r.mode=16191;break;case 16196:for(;c<14;){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}if(r.nlen=(31&l)+257,l>>>=5,c-=5,r.ndist=(31&l)+1,l>>>=5,c-=5,r.ncode=(15&l)+4,l>>>=4,c-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=16209;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;c<3;){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}r.lens[O[r.have++]]=7&l,l>>>=3,c-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,k={bits:r.lenbits},E=tn(0,r.lens,0,19,r.lencode,0,r.work,k),r.lenbits=k.bits,E){e.msg="invalid code lengths set",r.mode=16209;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;v=(I=r.lencode[l&(1<<r.lenbits)-1])>>>24,_=I>>>16&255,y=65535&I,!(v<=c);){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}if(y<16)l>>>=v,c-=v,r.lens[r.have++]=y;else{if(16===y){for(S=v+2;c<S;){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}if(l>>>=v,c-=v,0===r.have){e.msg="invalid bit length repeat",r.mode=16209;break}x=r.lens[r.have-1],h=3+(3&l),l>>>=2,c-=2}else if(17===y){for(S=v+3;c<S;){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}l>>>=v,c-=v,x=0,h=3+(7&l),l>>>=3,c-=3}else{for(S=v+7;c<S;){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}l>>>=v,c-=v,x=0,h=11+(127&l),l>>>=7,c-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=16209;break}for(;h--;)r.lens[r.have++]=x}}if(16209===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=16209;break}if(r.lenbits=9,k={bits:r.lenbits},E=tn(1,r.lens,0,r.nlen,r.lencode,0,r.work,k),r.lenbits=k.bits,E){e.msg="invalid literal/lengths set",r.mode=16209;break}if(r.distbits=6,r.distcode=r.distdyn,k={bits:r.distbits},E=tn(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,k),r.distbits=k.bits,E){e.msg="invalid distances set",r.mode=16209;break}if(r.mode=16199,t===ts)break t;case 16199:r.mode=16200;case 16200:if(a>=6&&u>=258){e.next_out=s,e.avail_out=u,e.next_in=o,e.avail_in=a,r.hold=l,r.bits=c,e9(e,d),s=e.next_out,i=e.output,u=e.avail_out,o=e.next_in,n=e.input,a=e.avail_in,l=r.hold,c=r.bits,16191===r.mode&&(r.back=-1);break}for(r.back=0;v=(I=r.lencode[l&(1<<r.lenbits)-1])>>>24,_=I>>>16&255,y=65535&I,!(v<=c);){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}if(_&&(240&_)==0){for(m=v,b=_,w=y;v=(I=r.lencode[w+((l&(1<<m+b)-1)>>m)])>>>24,_=I>>>16&255,y=65535&I,!(m+v<=c);){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}l>>>=m,c-=m,r.back+=m}if(l>>>=v,c-=v,r.back+=v,r.length=y,0===_){r.mode=16205;break}if(32&_){r.back=-1,r.mode=16191;break}if(64&_){e.msg="invalid literal/length code",r.mode=16209;break}r.extra=15&_,r.mode=16201;case 16201:if(r.extra){for(S=r.extra;c<S;){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;v=(I=r.distcode[l&(1<<r.distbits)-1])>>>24,_=I>>>16&255,y=65535&I,!(v<=c);){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}if((240&_)==0){for(m=v,b=_,w=y;v=(I=r.distcode[w+((l&(1<<m+b)-1)>>m)])>>>24,_=I>>>16&255,y=65535&I,!(m+v<=c);){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}l>>>=m,c-=m,r.back+=m}if(l>>>=v,c-=v,r.back+=v,64&_){e.msg="invalid distance code",r.mode=16209;break}r.offset=y,r.extra=15&_,r.mode=16203;case 16203:if(r.extra){for(S=r.extra;c<S;){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=16209;break}r.mode=16204;case 16204:if(0===u)break t;if(h=d-u,r.offset>h){if((h=r.offset-h)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=16209;break}h>r.wnext?(h-=r.wnext,p=r.wsize-h):p=r.wnext-h,h>r.length&&(h=r.length),g=r.window}else g=i,p=s-r.offset,h=r.length;h>u&&(h=u),u-=h,r.length-=h;do i[s++]=g[p++];while(--h)0===r.length&&(r.mode=16200);break;case 16205:if(0===u)break t;i[s++]=r.length,u--,r.mode=16200;break;case 16206:if(r.wrap){for(;c<32;){if(0===a)break t;a--,l|=n[o++]<<c,c+=8}if(d-=u,e.total_out+=d,r.total+=d,4&r.wrap&&d&&(e.adler=r.check=r.flags?Z(r.check,i,d,s-d):q(r.check,i,d,s-d)),d=u,4&r.wrap&&(r.flags?l:tg(l))!==r.check){e.msg="incorrect data check",r.mode=16209;break}l=0,c=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;c<32;){if(0===a)break t;a--,l+=n[o++]<<c,c+=8}if(4&r.wrap&&l!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=16209;break}l=0,c=0}r.mode=16208;case 16208:E=tu;break t;case 16209:E=tf;break t;case 16210:return td;default:return tc}return e.next_out=s,e.avail_out=u,e.next_in=o,e.avail_in=a,r.hold=l,r.bits=c,(r.wsize||d!==e.avail_out&&r.mode<16209&&(r.mode<16206||t!==ti))&&tE(e,e.output,e.next_out,d-e.avail_out),f-=e.avail_in,d-=e.avail_out,e.total_in+=f,e.total_out+=d,r.total+=d,4&r.wrap&&d&&(e.adler=r.check=r.flags?Z(r.check,i,d,e.next_out-d):q(r.check,i,d,e.next_out-d)),e.data_type=r.bits+(r.last?64:0)+(16191===r.mode?128:0)+(16199===r.mode||16194===r.mode?256:0),(0===f&&0===d||t===ti)&&E===ta&&(E=th),E},inflateEnd:e=>{if(t_(e))return tc;let t=e.state;return t.window&&(t.window=null),e.state=null,ta},inflateGetHeader:(e,t)=>{if(t_(e))return tc;let r=e.state;return(2&r.wrap)==0?tc:(r.head=t,t.done=!1,ta)},inflateSetDictionary:(e,t)=>{let r;let n=t.length;return t_(e)||0!==(r=e.state).wrap&&16190!==r.mode?tc:16190===r.mode&&q(1,t,n,0)!==r.check?tf:tE(e,t,n,n)?(r.mode=16210,td):(r.havedict=1,ta)}},tS=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};let tI=Object.prototype.toString,{Z_NO_FLUSH:tA,Z_FINISH:tO,Z_OK:tT,Z_STREAM_END:tC,Z_NEED_DICT:tU,Z_STREAM_ERROR:tR,Z_DATA_ERROR:tD,Z_MEM_ERROR:tP}=$;function tL(e){this.options=eq.assign({chunkSize:65536,windowBits:15,to:""},e||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new eH,this.strm.avail_out=0;let r=tk.inflateInit2(this.strm,t.windowBits);if(r!==tT||(this.header=new tS,tk.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=e$.string2buf(t.dictionary):"[object ArrayBuffer]"===tI.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=tk.inflateSetDictionary(this.strm,t.dictionary))!==tT)))throw Error(W[r])}function tB(e,t){let r=new tL(t);if(r.push(e),r.err)throw r.msg||W[r.err];return r.result}tL.prototype.push=function(e,t){let r,n,i;let o=this.strm,s=this.options.chunkSize,a=this.options.dictionary;if(this.ended)return!1;for(n=t===~~t?t:!0===t?tO:tA,"[object ArrayBuffer]"===tI.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(s),o.next_out=0,o.avail_out=s),(r=tk.inflate(o,n))===tU&&a&&((r=tk.inflateSetDictionary(o,a))===tT?r=tk.inflate(o,n):r===tD&&(r=tU));o.avail_in>0&&r===tC&&o.state.wrap>0&&0!==e[o.next_in];)tk.inflateReset(o),r=tk.inflate(o,n);switch(r){case tR:case tD:case tU:case tP:return this.onEnd(r),this.ended=!0,!1}if(i=o.avail_out,o.next_out&&(0===o.avail_out||r===tC)){if("string"===this.options.to){let e=e$.utf8border(o.output,o.next_out),t=o.next_out-e,r=e$.buf2string(o.output,e);o.next_out=t,o.avail_out=s-t,t&&o.output.set(o.output.subarray(e,e+t),0),this.onData(r)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out))}if(r!==tT||0!==i){if(r===tC)return r=tk.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},tL.prototype.onData=function(e){this.chunks.push(e)},tL.prototype.onEnd=function(e){e===tT&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=eq.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};let{Deflate:tj,deflate:tN,deflateRaw:tM,gzip:tF}={Deflate:e4,deflate:e8,deflateRaw:function(e,t){return(t=t||{}).raw=!0,e8(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,e8(e,t)},constants:$},{Inflate:tz,inflate:tK,inflateRaw:tV,ungzip:tq}={Inflate:tL,inflate:tB,inflateRaw:function(e,t){return(t=t||{}).raw=!0,tB(e,t)},ungzip:tB,constants:$};var tG=tN,tZ=tK}),o("h6bGx",function(t,r){e(t.exports,"default",()=>s);var n=i("9jCCz"),o=i("8vJeA"),s=function(e,t){return e&&e.length?(0,o.default)(e,(0,n.default)(t,2)):[]}}),o("9jCCz",function(t,r){e(t.exports,"default",()=>l);var n=i("9elGz"),o=i("1ahbo"),s=i("cJMpW"),a=i("fSAuz"),u=i("8Lt7i"),l=function(e){return"function"==typeof e?e:null==e?s.default:"object"==typeof e?(0,a.default)(e)?(0,o.default)(e[0],e[1]):(0,n.default)(e):(0,u.default)(e)}}),o("9elGz",function(t,r){e(t.exports,"default",()=>a);var n=i("6yh1z"),o=i("A66bf"),s=i("21MHI"),a=function(e){var t=(0,o.default)(e);return 1==t.length&&t[0][2]?(0,s.default)(t[0][0],t[0][1]):function(r){return r===e||(0,n.default)(r,e,t)}}}),o("6yh1z",function(t,r){e(t.exports,"default",()=>s);var n=i("iyPXK"),o=i("18EMf"),s=function(e,t,r,i){var s=r.length,a=s,u=!i;if(null==e)return!a;for(e=Object(e);s--;){var l=r[s];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){var c=(l=r[s])[0],f=e[c],d=l[1];if(u&&l[2]){if(void 0===f&&!(c in e))return!1}else{var h=new n.default;if(i)var p=i(f,d,c,e,t,h);if(!(void 0===p?(0,o.default)(d,f,3,i,h):p))return!1}}return!0}}),o("iyPXK",function(t,r){e(t.exports,"default",()=>f);var n=i("5o8NK"),o=i("gqYkK"),s=i("hW2PW"),a=i("kqK5R"),u=i("auhJC"),l=i("6PjXS");function c(e){var t=this.__data__=new n.default(e);this.size=t.size}c.prototype.clear=o.default,c.prototype.delete=s.default,c.prototype.get=a.default,c.prototype.has=u.default,c.prototype.set=l.default;var f=c}),o("gqYkK",function(t,r){e(t.exports,"default",()=>o);var n=i("5o8NK"),o=function(){this.__data__=new n.default,this.size=0}}),o("hW2PW",function(t,r){e(t.exports,"default",()=>n);var n=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}}),o("kqK5R",function(t,r){e(t.exports,"default",()=>n);var n=function(e){return this.__data__.get(e)}}),o("auhJC",function(t,r){e(t.exports,"default",()=>n);var n=function(e){return this.__data__.has(e)}}),o("6PjXS",function(t,r){e(t.exports,"default",()=>a);var n=i("5o8NK"),o=i("1Ctg8"),s=i("3wrqO"),a=function(e,t){var r=this.__data__;if(r instanceof n.default){var i=r.__data__;if(!o.default||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new s.default(i)}return r.set(e,t),this.size=r.size,this}}),o("18EMf",function(t,r){e(t.exports,"default",()=>s);var n=i("kZXkj"),o=i("71D8U"),s=function e(t,r,i,s,a){return t===r||(null!=t&&null!=r&&((0,o.default)(t)||(0,o.default)(r))?(0,n.default)(t,r,i,s,e,a):t!=t&&r!=r)}}),o("kZXkj",function(t,r){e(t.exports,"default",()=>v);var n=i("iyPXK"),o=i("l2JYe"),s=i("cnbFF"),a=i("b7x0e"),u=i("jVHHj"),l=i("fSAuz"),c=i("26hjC"),f=i("gKQmK"),d="[object Arguments]",h="[object Array]",p="[object Object]",g=Object.prototype.hasOwnProperty,v=function(e,t,r,i,v,_){var y=(0,l.default)(e),m=(0,l.default)(t),b=y?h:(0,u.default)(e),w=m?h:(0,u.default)(t);b=b==d?p:b,w=w==d?p:w;var x=b==p,E=w==p,k=b==w;if(k&&(0,c.default)(e)){if(!(0,c.default)(t))return!1;y=!0,x=!1}if(k&&!x)return _||(_=new n.default),y||(0,f.default)(e)?(0,o.default)(e,t,r,i,v,_):(0,s.default)(e,t,b,r,i,v,_);if(!(1&r)){var S=x&&g.call(e,"__wrapped__"),I=E&&g.call(t,"__wrapped__");if(S||I){var A=S?e.value():e,O=I?t.value():t;return _||(_=new n.default),v(A,O,r,i,_)}}return!!k&&(_||(_=new n.default),(0,a.default)(e,t,r,i,v,_))}}),o("l2JYe",function(t,r){e(t.exports,"default",()=>a);var n=i("b1Mht"),o=i("j6hup"),s=i("ufRlv"),a=function(e,t,r,i,a,u){var l=1&r,c=e.length,f=t.length;if(c!=f&&!(l&&f>c))return!1;var d=u.get(e),h=u.get(t);if(d&&h)return d==t&&h==e;var p=-1,g=!0,v=2&r?new n.default:void 0;for(u.set(e,t),u.set(t,e);++p<c;){var _=e[p],y=t[p];if(i)var m=l?i(y,_,p,t,e,u):i(_,y,p,e,t,u);if(void 0!==m){if(m)continue;g=!1;break}if(v){if(!(0,o.default)(t,function(e,t){if(!(0,s.default)(v,t)&&(_===e||a(_,e,r,i,u)))return v.push(t)})){g=!1;break}}else if(!(_===y||a(_,y,r,i,u))){g=!1;break}}return u.delete(e),u.delete(t),g}}),o("b1Mht",function(t,r){e(t.exports,"default",()=>u);var n=i("3wrqO"),o=i("lgwSM"),s=i("c0RkJ");function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n.default;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=o.default,a.prototype.has=s.default;var u=a}),o("lgwSM",function(t,r){e(t.exports,"default",()=>n);var n=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}}),o("c0RkJ",function(t,r){e(t.exports,"default",()=>n);var n=function(e){return this.__data__.has(e)}}),o("j6hup",function(t,r){e(t.exports,"default",()=>n);var n=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}}),o("ufRlv",function(t,r){e(t.exports,"default",()=>n);var n=function(e,t){return e.has(t)}}),o("cnbFF",function(t,r){e(t.exports,"default",()=>d);var n=i("acRBw"),o=i("7omOT"),s=i("eGNYh"),a=i("l2JYe"),u=i("gOewr"),l=i("1Dyab"),c=n.default?n.default.prototype:void 0,f=c?c.valueOf:void 0,d=function(e,t,r,n,i,c,d){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!c(new o.default(e),new o.default(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,s.default)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=u.default;case"[object Set]":var p=1&n;if(h||(h=l.default),e.size!=t.size&&!p)break;var g=d.get(e);if(g)return g==t;n|=2,d.set(e,t);var v=(0,a.default)(h(e),h(t),n,i,c,d);return d.delete(e),v;case"[object Symbol]":if(f)return f.call(e)==f.call(t)}return!1}}),o("7omOT",function(t,r){e(t.exports,"default",()=>n);var n=i("7LZkA").default.Uint8Array}),o("gOewr",function(t,r){e(t.exports,"default",()=>n);var n=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}}),o("1Dyab",function(t,r){e(t.exports,"default",()=>n);var n=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}}),o("b7x0e",function(t,r){e(t.exports,"default",()=>s);var n=i("7ygK7"),o=Object.prototype.hasOwnProperty,s=function(e,t,r,i,s,a){var u=1&r,l=(0,n.default)(e),c=l.length;if(c!=(0,n.default)(t).length&&!u)return!1;for(var f=c;f--;){var d=l[f];if(!(u?d in t:o.call(t,d)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var g=!0;a.set(e,t),a.set(t,e);for(var v=u;++f<c;){var _=e[d=l[f]],y=t[d];if(i)var m=u?i(y,_,d,t,e,a):i(_,y,d,e,t,a);if(!(void 0===m?_===y||s(_,y,r,i,a):m)){g=!1;break}v||(v="constructor"==d)}if(g&&!v){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(g=!1)}return a.delete(e),a.delete(t),g}}),o("7ygK7",function(t,r){e(t.exports,"default",()=>a);var n=i("fwWSY"),o=i("aFeib"),s=i("jzhYM"),a=function(e){return(0,n.default)(e,s.default,o.default)}}),o("fwWSY",function(t,r){e(t.exports,"default",()=>s);var n=i("hjkFx"),o=i("fSAuz"),s=function(e,t,r){var i=t(e);return(0,o.default)(e)?i:(0,n.default)(i,r(e))}}),o("hjkFx",function(t,r){e(t.exports,"default",()=>n);var n=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}}),o("aFeib",function(t,r){e(t.exports,"default",()=>u);var n=i("6biR3"),o=i("8grh2"),s=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(e){return null==e?[]:(e=Object(e),(0,n.default)(a(e),function(t){return s.call(e,t)}))}:o.default}),o("6biR3",function(t,r){e(t.exports,"default",()=>n);var n=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}}),o("8grh2",function(t,r){e(t.exports,"default",()=>n);var n=function(){return[]}}),o("jzhYM",function(t,r){e(t.exports,"default",()=>a);var n=i("f8XSw"),o=i("2JZKM"),s=i("aGEDo"),a=function(e){return(0,s.default)(e)?(0,n.default)(e):(0,o.default)(e)}}),o("f8XSw",function(t,r){e(t.exports,"default",()=>f);var n=i("9Fk93"),o=i("2Qw1G"),s=i("fSAuz"),a=i("26hjC"),u=i("MAJBQ"),l=i("gKQmK"),c=Object.prototype.hasOwnProperty,f=function(e,t){var r=(0,s.default)(e),i=!r&&(0,o.default)(e),f=!r&&!i&&(0,a.default)(e),d=!r&&!i&&!f&&(0,l.default)(e),h=r||i||f||d,p=h?(0,n.default)(e.length,String):[],g=p.length;for(var v in e)(t||c.call(e,v))&&!(h&&("length"==v||f&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||(0,u.default)(v,g)))&&p.push(v);return p}}),o("9Fk93",function(t,r){e(t.exports,"default",()=>n);var n=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}}),o("2Qw1G",function(t,r){e(t.exports,"default",()=>l);var n=i("eyPmB"),o=i("71D8U"),s=Object.prototype,a=s.hasOwnProperty,u=s.propertyIsEnumerable,l=(0,n.default)(function(){return arguments}())?n.default:function(e){return(0,o.default)(e)&&a.call(e,"callee")&&!u.call(e,"callee")}}),o("eyPmB",function(t,r){e(t.exports,"default",()=>s);var n=i("8NekV"),o=i("71D8U"),s=function(e){return(0,o.default)(e)&&"[object Arguments]"==(0,n.default)(e)}}),o("26hjC",function(t,r){e(t.exports,"default",()=>l);var n=i("7LZkA"),o=i("bujZQ"),s=r&&!r.nodeType&&r,a=s&&t&&!t.nodeType&&t,u=a&&a.exports===s?n.default.Buffer:void 0,l=(u?u.isBuffer:void 0)||o.default}),o("bujZQ",function(t,r){e(t.exports,"default",()=>n);var n=function(){return!1}}),o("MAJBQ",function(t,r){e(t.exports,"default",()=>i);var n=/^(?:0|[1-9]\d*)$/,i=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}}),o("gKQmK",function(t,r){e(t.exports,"default",()=>u);var n=i("j7XPI"),o=i("2GTQh"),s=i("h6UJB"),a=s.default&&s.default.isTypedArray,u=a?(0,o.default)(a):n.default}),o("j7XPI",function(t,r){e(t.exports,"default",()=>u);var n=i("8NekV"),o=i("7sY8c"),s=i("71D8U"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var u=function(e){return(0,s.default)(e)&&(0,o.default)(e.length)&&!!a[(0,n.default)(e)]}}),o("7sY8c",function(t,r){e(t.exports,"default",()=>n);var n=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}}),o("2GTQh",function(t,r){e(t.exports,"default",()=>n);var n=function(e){return function(t){return e(t)}}}),o("h6UJB",function(t,r){e(t.exports,"default",()=>u);var n=i("hcdLU"),o=r&&!r.nodeType&&r,s=o&&t&&!t.nodeType&&t,a=s&&s.exports===o&&n.default.process,u=function(){try{var e=s&&s.require&&s.require("util").types;if(e)return e;return a&&a.binding&&a.binding("util")}catch(e){}}()}),o("2JZKM",function(t,r){e(t.exports,"default",()=>a);var n=i("e7WrC"),o=i("kNUxl"),s=Object.prototype.hasOwnProperty,a=function(e){if(!(0,n.default)(e))return(0,o.default)(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}}),o("e7WrC",function(t,r){e(t.exports,"default",()=>i);var n=Object.prototype,i=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}}),o("kNUxl",function(t,r){e(t.exports,"default",()=>n);var n=(0,i("aJH1h").default)(Object.keys,Object)}),o("aJH1h",function(t,r){e(t.exports,"default",()=>n);var n=function(e,t){return function(r){return e(t(r))}}}),o("aGEDo",function(t,r){e(t.exports,"default",()=>s);var n=i("ckT7g"),o=i("7sY8c"),s=function(e){return null!=e&&(0,o.default)(e.length)&&!(0,n.default)(e)}}),o("jVHHj",function(t,r){e(t.exports,"default",()=>x);var n=i("jbN6S"),o=i("1Ctg8"),s=i("ayRjq"),a=i("bwclZ"),u=i("bmoPX"),l=i("8NekV"),c=i("8LFzg"),f="[object Map]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",g="[object DataView]",v=(0,c.default)(n.default),_=(0,c.default)(o.default),y=(0,c.default)(s.default),m=(0,c.default)(a.default),b=(0,c.default)(u.default),w=l.default;(n.default&&w(new n.default(new ArrayBuffer(1)))!=g||o.default&&w(new o.default)!=f||s.default&&w((0,s.default).resolve())!=d||a.default&&w(new a.default)!=h||u.default&&w(new u.default)!=p)&&(w=function(e){var t=(0,l.default)(e),r="[object Object]"==t?e.constructor:void 0,n=r?(0,c.default)(r):"";if(n)switch(n){case v:return g;case _:return f;case y:return d;case m:return h;case b:return p}return t});var x=w}),o("jbN6S",function(t,r){e(t.exports,"default",()=>s);var n=i("gtOZz"),o=i("7LZkA"),s=(0,n.default)(o.default,"DataView")}),o("ayRjq",function(t,r){e(t.exports,"default",()=>s);var n=i("gtOZz"),o=i("7LZkA"),s=(0,n.default)(o.default,"Promise")}),o("bwclZ",function(t,r){e(t.exports,"default",()=>s);var n=i("gtOZz"),o=i("7LZkA"),s=(0,n.default)(o.default,"Set")}),o("bmoPX",function(t,r){e(t.exports,"default",()=>s);var n=i("gtOZz"),o=i("7LZkA"),s=(0,n.default)(o.default,"WeakMap")}),o("A66bf",function(t,r){e(t.exports,"default",()=>s);var n=i("fgkHV"),o=i("jzhYM"),s=function(e){for(var t=(0,o.default)(e),r=t.length;r--;){var i=t[r],s=e[i];t[r]=[i,s,(0,n.default)(s)]}return t}}),o("fgkHV",function(t,r){e(t.exports,"default",()=>o);var n=i("6WGZ7"),o=function(e){return e==e&&!(0,n.default)(e)}}),o("21MHI",function(t,r){e(t.exports,"default",()=>n);var n=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}}),o("1ahbo",function(t,r){e(t.exports,"default",()=>f);var n=i("18EMf"),o=i("5j54e"),s=i("2Vsk6"),a=i("jAPBf"),u=i("fgkHV"),l=i("21MHI"),c=i("1EjgE"),f=function(e,t){return(0,a.default)(e)&&(0,u.default)(t)?(0,l.default)((0,c.default)(e),t):function(r){var i=(0,o.default)(r,e);return void 0===i&&i===t?(0,s.default)(r,e):(0,n.default)(t,i,3)}}}),o("2Vsk6",function(t,r){e(t.exports,"default",()=>s);var n=i("aQ1Wz"),o=i("bybAU"),s=function(e,t){return null!=e&&(0,o.default)(e,t,n.default)}}),o("aQ1Wz",function(t,r){e(t.exports,"default",()=>n);var n=function(e,t){return null!=e&&t in Object(e)}}),o("bybAU",function(t,r){e(t.exports,"default",()=>c);var n=i("dN3cv"),o=i("2Qw1G"),s=i("fSAuz"),a=i("MAJBQ"),u=i("7sY8c"),l=i("1EjgE"),c=function(e,t,r){t=(0,n.default)(t,e);for(var i=-1,c=t.length,f=!1;++i<c;){var d=(0,l.default)(t[i]);if(!(f=null!=e&&r(e,d)))break;e=e[d]}return f||++i!=c?f:!!(c=null==e?0:e.length)&&(0,u.default)(c)&&(0,a.default)(d,c)&&((0,s.default)(e)||(0,o.default)(e))}}),o("cJMpW",function(t,r){e(t.exports,"default",()=>n);var n=function(e){return e}}),o("8Lt7i",function(t,r){e(t.exports,"default",()=>u);var n=i("lOtHr"),o=i("5VFva"),s=i("jAPBf"),a=i("1EjgE"),u=function(e){return(0,s.default)(e)?(0,n.default)((0,a.default)(e)):(0,o.default)(e)}}),o("lOtHr",function(t,r){e(t.exports,"default",()=>n);var n=function(e){return function(t){return null==t?void 0:t[e]}}}),o("5VFva",function(t,r){e(t.exports,"default",()=>o);var n=i("8Bgkc"),o=function(e){return function(t){return(0,n.default)(t,e)}}}),o("8vJeA",function(t,r){e(t.exports,"default",()=>c);var n=i("b1Mht"),o=i("eCwJO"),s=i("ia2QU"),a=i("ufRlv"),u=i("kCsCP"),l=i("1Dyab"),c=function(e,t,r){var i=-1,c=o.default,f=e.length,d=!0,h=[],p=h;if(r)d=!1,c=s.default;else if(f>=200){var g=t?null:(0,u.default)(e);if(g)return(0,l.default)(g);d=!1,c=a.default,p=new n.default}else p=t?[]:h;r:for(;++i<f;){var v=e[i],_=t?t(v):v;if(v=r||0!==v?v:0,d&&_==_){for(var y=p.length;y--;)if(p[y]===_)continue r;t&&p.push(_),h.push(v)}else c(p,_,r)||(p!==h&&p.push(_),h.push(v))}return h}}),o("eCwJO",function(t,r){e(t.exports,"default",()=>o);var n=i("VFjoV"),o=function(e,t){return!!(null==e?0:e.length)&&(0,n.default)(e,t,0)>-1}}),o("VFjoV",function(t,r){e(t.exports,"default",()=>a);var n=i("bI9bm"),o=i("lO33k"),s=i("fxpft"),a=function(e,t,r){return t==t?(0,s.default)(e,t,r):(0,n.default)(e,o.default,r)}}),o("bI9bm",function(t,r){e(t.exports,"default",()=>n);var n=function(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return -1}}),o("lO33k",function(t,r){e(t.exports,"default",()=>n);var n=function(e){return e!=e}}),o("fxpft",function(t,r){e(t.exports,"default",()=>n);var n=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return -1}}),o("ia2QU",function(t,r){e(t.exports,"default",()=>n);var n=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}}),o("kCsCP",function(t,r){e(t.exports,"default",()=>a);var n=i("bwclZ"),o=i("em7CF"),s=i("1Dyab"),a=n.default&&1/(0,s.default)(new n.default([,-0]))[1]==1/0?function(e){return new n.default(e)}:o.default}),o("em7CF",function(t,r){e(t.exports,"default",()=>n);var n=function(){}}),o("1dgsE",function(t,r){e(t.exports,"init",()=>o),e(t.exports,"logEvent",()=>s),e(t.exports,"setUserId",()=>a);var n=i("3R7qN");n.default.add,n.default.extendSession,n.default.flush,n.default.getDeviceId,n.default.getSessionId,n.default.getUserId,n.default.groupIdentify,n.default.identify;var o=n.default.init,s=n.default.logEvent,a=(n.default.remove,n.default.reset,n.default.revenue,n.default.setDeviceId,n.default.setGroup,n.default.setOptOut,n.default.setSessionId,n.default.setTransport,n.default.setUserId);n.default.track}),o("3R7qN",function(t,r){e(t.exports,"default",()=>s);var n,o=i("eGukc"),s=(n=new(i("i0mtq")).AmplitudeBrowser,{init:(0,o.debugWrapper)(n.init.bind(n),"init",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config"])),add:(0,o.debugWrapper)(n.add.bind(n),"add",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config.apiKey","timeline.plugins"])),remove:(0,o.debugWrapper)(n.remove.bind(n),"remove",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config.apiKey","timeline.plugins"])),track:(0,o.debugWrapper)(n.track.bind(n),"track",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config.apiKey","timeline.queue.length"])),logEvent:(0,o.debugWrapper)(n.logEvent.bind(n),"logEvent",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config.apiKey","timeline.queue.length"])),identify:(0,o.debugWrapper)(n.identify.bind(n),"identify",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config.apiKey","timeline.queue.length"])),groupIdentify:(0,o.debugWrapper)(n.groupIdentify.bind(n),"groupIdentify",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config.apiKey","timeline.queue.length"])),setGroup:(0,o.debugWrapper)(n.setGroup.bind(n),"setGroup",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config.apiKey","timeline.queue.length"])),revenue:(0,o.debugWrapper)(n.revenue.bind(n),"revenue",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config.apiKey","timeline.queue.length"])),flush:(0,o.debugWrapper)(n.flush.bind(n),"flush",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config.apiKey","timeline.queue.length"])),getUserId:(0,o.debugWrapper)(n.getUserId.bind(n),"getUserId",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config","config.userId"])),setUserId:(0,o.debugWrapper)(n.setUserId.bind(n),"setUserId",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config","config.userId"])),getDeviceId:(0,o.debugWrapper)(n.getDeviceId.bind(n),"getDeviceId",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config","config.deviceId"])),setDeviceId:(0,o.debugWrapper)(n.setDeviceId.bind(n),"setDeviceId",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config","config.deviceId"])),reset:(0,o.debugWrapper)(n.reset.bind(n),"reset",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config","config.userId","config.deviceId"])),getSessionId:(0,o.debugWrapper)(n.getSessionId.bind(n),"getSessionId",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config"])),setSessionId:(0,o.debugWrapper)(n.setSessionId.bind(n),"setSessionId",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config"])),extendSession:(0,o.debugWrapper)(n.extendSession.bind(n),"extendSession",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config"])),setOptOut:(0,o.debugWrapper)(n.setOptOut.bind(n),"setOptOut",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config"])),setTransport:(0,o.debugWrapper)(n.setTransport.bind(n),"setTransport",(0,o.getClientLogConfig)(n),(0,o.getClientStates)(n,["config"]))})}),o("eGukc",function(t,r){e(t.exports,"getClientLogConfig",()=>s),e(t.exports,"getClientStates",()=>u),e(t.exports,"debugWrapper",()=>l);var n=i("6ZIu9"),o=i("e9zFf"),s=function(e){return function(){var t=(0,n.__assign)({},e.config);return{logger:t.loggerProvider,logLevel:t.logLevel}}},a=function(e,t){var r,i;t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"");try{for(var o=(0,n.__values)(t.split(".")),s=o.next();!s.done;s=o.next()){var a=s.value;if(!(a in e))return;e=e[a]}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return e},u=function(e,t){return function(){var r,i,o={};try{for(var s=(0,n.__values)(t),u=s.next();!u.done;u=s.next()){var l=u.value;o[l]=a(e,l)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}},l=function(e,t,r,n,i){return void 0===i&&(i=null),function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var u=r(),l=u.logger,c=u.logLevel;if(c&&c<o.LogLevel.Debug||!c||!l)return e.apply(i,s);var f={type:"invoke public method",name:t,args:s,stacktrace:(Error().stack||"").split("\n").slice(3).map(function(e){return e.trim()}),time:{start:new Date().toISOString()},states:{}};n&&f.states&&(f.states.before=n());var d=e.apply(i,s);return d&&d.promise?d.promise.then(function(){n&&f.states&&(f.states.after=n()),f.time&&(f.time.end=new Date().toISOString()),l.debug(JSON.stringify(f,null,2))}):(n&&f.states&&(f.states.after=n()),f.time&&(f.time.end=new Date().toISOString()),l.debug(JSON.stringify(f,null,2))),d}}}),o("6ZIu9",function(t,r){e(t.exports,"__extends",()=>i),e(t.exports,"__assign",()=>o),e(t.exports,"__rest",()=>s),e(t.exports,"__awaiter",()=>a),e(t.exports,"__generator",()=>u),e(t.exports,"__values",()=>l),e(t.exports,"__read",()=>c),e(t.exports,"__spreadArray",()=>f);var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function u(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function l(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function f(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError}),o("e9zFf",function(t,r){var n,i;e(t.exports,"LogLevel",()=>n),(i=n||(n={}))[i.None=0]="None",i[i.Error=1]="Error",i[i.Warn=2]="Warn",i[i.Verbose=3]="Verbose",i[i.Debug=4]="Debug"}),o("i0mtq",function(t,r){e(t.exports,"AmplitudeBrowser",()=>A);var n=i("6ZIu9"),o=i("evm7R"),s=i("i4YZb"),a=i("axmnZ"),u=i("dKs9n"),l=i("9W3Wg"),c=i("atDmA"),f=i("8UPrv"),d=i("bKzx6"),h=i("4EO65"),p=i("5Ti5Q"),g=i("40FTQ"),v=i("hGUBm"),_=i("1JaBv"),y=i("5mWFu"),m=i("c8IHq"),b=i("alHJt"),w=i("9asah"),x=i("ld5D7"),E=i("5HVVt"),k=i("kQlZ4"),S=i("cYwRO"),I=i("lmtp4"),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.__extends)(t,e),t.prototype.init=function(e,t,r){var i,o;return void 0===e&&(e=""),arguments.length>2?(i=t,o=r):"string"==typeof t?(i=t,o=void 0):(i=null==t?void 0:t.userId,o=t),(0,u.returnWrapper)(this._init((0,n.__assign)((0,n.__assign)({},o),{userId:i,apiKey:e})))},t.prototype._init=function(t){var r,i,o;return(0,n.__awaiter)(this,void 0,void 0,function(){var a,u,l,c,g,y=this;return(0,n.__generator)(this,function(n){switch(n.label){case 0:if(this.initializing)return[2];return this.initializing=!0,[4,(0,b.useBrowserConfig)(t.apiKey,t,this)];case 1:return a=n.sent(),[4,e.prototype._init.call(this,a)];case 2:if(n.sent(),this.logBrowserOptions(t),!(0,d.isAttributionTrackingEnabled)(this.config.defaultTracking))return[3,4];return u=(0,d.getAttributionTrackingConfig)(this.config),this.webAttribution=new v.WebAttribution(u,this.config),[4,this.webAttribution.init()];case 3:n.sent(),n.label=4;case 4:if(c=Number.isNaN(Number((l=(0,h.getQueryParams)()).ampSessionId))?void 0:Number(l.ampSessionId),this.setSessionId(null!==(o=null!==(i=null!==(r=t.sessionId)&&void 0!==r?r:c)&&void 0!==i?i:this.config.sessionId)&&void 0!==o?o:Date.now()),(g=(0,f.getAnalyticsConnector)(t.instanceName)).identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),!(this.config.offline!==_.OfflineDisabled))return[3,6];return[4,this.add((0,I.networkConnectivityCheckerPlugin)()).promise];case 5:n.sent(),n.label=6;case 6:return[4,this.add(new s.Destination).promise];case 7:return n.sent(),[4,this.add(new m.Context).promise];case 8:return n.sent(),[4,this.add(new p.IdentityEventSender).promise];case 9:if(n.sent(),(0,S.detNotify)(this.config),!(0,d.isFileDownloadTrackingEnabled)(this.config.defaultTracking))return[3,11];return this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add((0,E.fileDownloadTracking)()).promise];case 10:n.sent(),n.label=11;case 11:if(!(0,d.isFormInteractionTrackingEnabled)(this.config.defaultTracking))return[3,13];return this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add((0,x.formInteractionTracking)()).promise];case 12:n.sent(),n.label=13;case 13:if(!(0,d.isPageViewTrackingEnabled)(this.config.defaultTracking))return[3,15];return this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add((0,w.pageViewTrackingPlugin)((0,d.getPageViewTrackingConfig)(this.config))).promise];case 14:n.sent(),n.label=15;case 15:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 16:return n.sent(),g.eventBridge.setEventReceiver(function(e){y.track(e.eventType,e.eventProperties)}),[2]}})})},t.prototype.getUserId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.userId},t.prototype.setUserId=function(e){if(!this.config){this.q.push(this.setUserId.bind(this,e));return}this.config.loggerProvider.debug("function setUserId: ",e),(e!==this.config.userId||void 0===e)&&(this.config.userId=e,(0,f.setConnectorUserId)(e,this.config.instanceName))},t.prototype.getDeviceId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.deviceId},t.prototype.setDeviceId=function(e){if(!this.config){this.q.push(this.setDeviceId.bind(this,e));return}this.config.loggerProvider.debug("function setDeviceId: ",e),this.config.deviceId=e,(0,f.setConnectorDeviceId)(e,this.config.instanceName)},t.prototype.reset=function(){this.setDeviceId((0,c.UUID)()),this.setUserId(void 0)},t.prototype.getSessionId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.sessionId},t.prototype.setSessionId=function(e){var t,r=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,e)),(0,u.returnWrapper)(Promise.resolve());if(e===this.config.sessionId)return(0,u.returnWrapper)(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",e);var n=this.getSessionId(),i=this.config.lastEventTime,o=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1;this.config.sessionId=e,this.config.lastEventTime=void 0,this.config.pageCounter=0,(0,d.isSessionTrackingEnabled)(this.config.defaultTracking)&&(n&&i&&r.push(this.track(k.DEFAULT_SESSION_END_EVENT,void 0,{device_id:this.previousSessionDeviceId,event_id:++o,session_id:n,time:i+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var s=this.trackCampaignEventIfNeeded(++o,r);return(0,d.isSessionTrackingEnabled)(this.config.defaultTracking)&&r.push(this.track(k.DEFAULT_SESSION_START_EVENT,void 0,{event_id:s?++o:o,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,(0,u.returnWrapper)(Promise.all(r))},t.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},t.prototype.setTransport=function(e){if(!this.config){this.q.push(this.setTransport.bind(this,e));return}this.config.transportProvider=(0,b.createTransport)(e)},t.prototype.identify=function(t,r){if((0,y.isInstanceProxy)(t)){var n=t._q;t._q=[],t=(0,y.convertProxyObjectToRealObject)(new a.Identify,n)}return(null==r?void 0:r.user_id)&&this.setUserId(r.user_id),(null==r?void 0:r.device_id)&&this.setDeviceId(r.device_id),e.prototype.identify.call(this,t,r)},t.prototype.groupIdentify=function(t,r,n,i){if((0,y.isInstanceProxy)(n)){var o=n._q;n._q=[],n=(0,y.convertProxyObjectToRealObject)(new a.Identify,o)}return e.prototype.groupIdentify.call(this,t,r,n,i)},t.prototype.revenue=function(t,r){if((0,y.isInstanceProxy)(t)){var n=t._q;t._q=[],t=(0,y.convertProxyObjectToRealObject)(new l.Revenue,n)}return e.prototype.revenue.call(this,t,r)},t.prototype.trackCampaignEventIfNeeded=function(e,t){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var r=this.webAttribution.generateCampaignEvent(e);return t?t.push(this.track(r).promise):this.track(r),this.config.loggerProvider.log("Tracking attribution."),!0},t.prototype.process=function(t){return(0,n.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,n.__generator)(this,function(n){return r=Date.now(),i=(0,g.isNewSession)(this.config.sessionTimeout,this.config.lastEventTime),o=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),t.event_type===k.DEFAULT_SESSION_START_EVENT||t.event_type===k.DEFAULT_SESSION_END_EVENT||t.session_id&&t.session_id!==this.getSessionId()||(i||o?(this.setSessionId(r),o&&this.config.loggerProvider.log("Created a new session for new campaign.")):i||this.trackCampaignEventIfNeeded()),[2,e.prototype.process.call(this,t)]})})},t.prototype.logBrowserOptions=function(e){try{var t=(0,n.__assign)((0,n.__assign)({},e),{apiKey:e.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(t))}catch(e){this.config.loggerProvider.error("Error logging browser config",e)}},t}(o.AmplitudeCore)}),o("evm7R",function(t,r){e(t.exports,"AmplitudeCore",()=>d);var n=i("6ZIu9"),o=i("6i1E9"),s=i("axmnZ"),a=i("2s102"),u=i("kt2iO"),l=i("9GuPz"),c=i("blU8z"),f=i("dKs9n"),d=function(){function e(e){void 0===e&&(e="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new u.Timeline(this),this.name=e}return e.prototype._init=function(e){return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(t){switch(t.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return t.sent(),this.isReady=!0,[2]}})})},e.prototype.runQueuedFunctions=function(e){return(0,n.__awaiter)(this,void 0,void 0,function(){var t,r,i,o,s,a;return(0,n.__generator)(this,function(u){switch(u.label){case 0:t=this[e],this[e]=[],u.label=1;case 1:u.trys.push([1,8,9,10]),i=(r=(0,n.__values)(t)).next(),u.label=2;case 2:if(i.done)return[3,7];if(!((o=(0,i.value)())&&"promise"in o))return[3,4];return[4,o.promise];case 3:return u.sent(),[3,6];case 4:return[4,o];case 5:u.sent(),u.label=6;case 6:return i=r.next(),[3,2];case 7:return[3,10];case 8:return s={error:u.sent()},[3,10];case 9:try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(s)throw s.error}return[7];case 10:if(!this[e].length)return[3,12];return[4,this.runQueuedFunctions(e)];case 11:u.sent(),u.label=12;case 12:return[2]}})})},e.prototype.track=function(e,t,r){var n=(0,l.createTrackEvent)(e,t,r);return(0,f.returnWrapper)(this.dispatch(n))},e.prototype.identify=function(e,t){var r=(0,l.createIdentifyEvent)(e,t);return(0,f.returnWrapper)(this.dispatch(r))},e.prototype.groupIdentify=function(e,t,r,n){var i=(0,l.createGroupIdentifyEvent)(e,t,r,n);return(0,f.returnWrapper)(this.dispatch(i))},e.prototype.setGroup=function(e,t,r){var n=(0,l.createGroupEvent)(e,t,r);return(0,f.returnWrapper)(this.dispatch(n))},e.prototype.revenue=function(e,t){var r=(0,l.createRevenueEvent)(e,t);return(0,f.returnWrapper)(this.dispatch(r))},e.prototype.add=function(e){return this.isReady?this._addPlugin(e):(this.q.push(this._addPlugin.bind(this,e)),(0,f.returnWrapper)())},e.prototype._addPlugin=function(e){return(0,f.returnWrapper)(this.timeline.register(e,this.config))},e.prototype.remove=function(e){return this.isReady?this._removePlugin(e):(this.q.push(this._removePlugin.bind(this,e)),(0,f.returnWrapper)())},e.prototype._removePlugin=function(e){return(0,f.returnWrapper)(this.timeline.deregister(e,this.config))},e.prototype.dispatchWithCallback=function(e,t){if(!this.isReady)return t((0,c.buildResult)(e,0,a.CLIENT_NOT_INITIALIZED));this.process(e).then(t)},e.prototype.dispatch=function(e){return(0,n.__awaiter)(this,void 0,void 0,function(){var t=this;return(0,n.__generator)(this,function(r){return this.isReady?[2,this.process(e)]:[2,new Promise(function(r){t.dispatchQ.push(t.dispatchWithCallback.bind(t,e,r))})]})})},e.prototype.getOperationAppliedUserProperties=function(e){var t={};if(void 0===e)return t;var r={};return Object.keys(e).forEach(function(t){Object.values(o.IdentifyOperation).includes(t)||(r[t]=e[t])}),(0,s.OrderedIdentifyOperations).forEach(function(r){if(Object.keys(e).includes(r)){var n=e[r];switch(r){case o.IdentifyOperation.CLEAR_ALL:Object.keys(t).forEach(function(e){delete t[e]});break;case o.IdentifyOperation.UNSET:Object.keys(n).forEach(function(e){delete t[e]});break;case o.IdentifyOperation.SET:Object.assign(t,n)}}}),Object.assign(t,r),t},e.prototype.process=function(e){return(0,n.__awaiter)(this,void 0,void 0,function(){var t,r,i;return(0,n.__generator)(this,function(n){switch(n.label){case 0:if(n.trys.push([0,2,,3]),this.config.optOut)return[2,(0,c.buildResult)(e,0,a.OPT_OUT_MESSAGE)];return e.event_type===o.SpecialEventType.IDENTIFY&&(t=this.getOperationAppliedUserProperties(e.user_properties),this.timeline.onIdentityChanged({userProperties:t})),[4,this.timeline.push(e)];case 1:return 200===(r=n.sent()).code?this.config.loggerProvider.log(r.message):100===r.code?this.config.loggerProvider.warn(r.message):this.config.loggerProvider.error(r.message),[2,r];case 2:return i=String(n.sent()),this.config.loggerProvider.error(i),[2,r=(0,c.buildResult)(e,0,i)];case 3:return[2]}})})},e.prototype.setOptOut=function(e){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!e));return}this._setOptOut(e)},e.prototype._setOptOut=function(e){this.config.optOut!==e&&(this.timeline.onOptOutChanged(e),this.config.optOut=!!e)},e.prototype.flush=function(){return(0,f.returnWrapper)(this.timeline.flush())},e.prototype.plugin=function(e){var t=this.timeline.plugins.find(function(t){return t.name===e});if(void 0===t){this.config.loggerProvider.debug("Cannot find plugin with name ".concat(e));return}return t},e.prototype.plugins=function(e){return this.timeline.plugins.filter(function(t){return t instanceof e})},e}()}),o("6i1E9",function(t,r){var n,i,o,s;e(t.exports,"IdentifyOperation",()=>n),e(t.exports,"SpecialEventType",()=>i),(o=n||(n={})).SET="$set",o.SET_ONCE="$setOnce",o.ADD="$add",o.APPEND="$append",o.PREPEND="$prepend",o.REMOVE="$remove",o.PREINSERT="$preInsert",o.POSTINSERT="$postInsert",o.UNSET="$unset",o.CLEAR_ALL="$clearAll",(s=i||(i={})).IDENTIFY="$identify",s.GROUP_IDENTIFY="$groupidentify",s.REVENUE="revenue_amount"}),o("axmnZ",function(t,r){e(t.exports,"Identify",()=>l),e(t.exports,"OrderedIdentifyOperations",()=>c);var n,o,s=i("6ZIu9"),a=i("h5aTa"),u=i("3hvep"),l=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return(0,s.__assign)({},this._properties)},e.prototype.set=function(e,t){return this._safeSet(o.SET,e,t),this},e.prototype.setOnce=function(e,t){return this._safeSet(o.SET_ONCE,e,t),this},e.prototype.append=function(e,t){return this._safeSet(o.APPEND,e,t),this},e.prototype.prepend=function(e,t){return this._safeSet(o.PREPEND,e,t),this},e.prototype.postInsert=function(e,t){return this._safeSet(o.POSTINSERT,e,t),this},e.prototype.preInsert=function(e,t){return this._safeSet(o.PREINSERT,e,t),this},e.prototype.remove=function(e,t){return this._safeSet(o.REMOVE,e,t),this},e.prototype.add=function(e,t){return this._safeSet(o.ADD,e,t),this},e.prototype.unset=function(e){return this._safeSet(o.UNSET,e,a.UNSET_VALUE),this},e.prototype.clearAll=function(){return this._properties={},this._properties[o.CLEAR_ALL]=a.UNSET_VALUE,this},e.prototype._safeSet=function(e,t,r){if(this._validate(e,t,r)){var n=this._properties[e];return void 0===n&&(n={},this._properties[e]=n),n[t]=r,this._propertySet.add(t),!0}return!1},e.prototype._validate=function(e,t,r){return!(void 0!==this._properties[o.CLEAR_ALL]||this._propertySet.has(t))&&(e===o.ADD?"number"==typeof r:e===o.UNSET||e===o.REMOVE||(0,u.isValidProperties)(t,r))},e}();(n=o||(o={})).SET="$set",n.SET_ONCE="$setOnce",n.ADD="$add",n.APPEND="$append",n.PREPEND="$prepend",n.REMOVE="$remove",n.PREINSERT="$preInsert",n.POSTINSERT="$postInsert",n.UNSET="$unset",n.CLEAR_ALL="$clearAll";var c=[o.CLEAR_ALL,o.UNSET,o.SET,o.SET_ONCE,o.ADD,o.APPEND,o.PREPEND,o.PREINSERT,o.POSTINSERT,o.REMOVE]}),o("h5aTa",function(t,r){e(t.exports,"UNSET_VALUE",()=>n),e(t.exports,"AMPLITUDE_PREFIX",()=>i),e(t.exports,"STORAGE_PREFIX",()=>o),e(t.exports,"AMPLITUDE_SERVER_URL",()=>s),e(t.exports,"EU_AMPLITUDE_SERVER_URL",()=>a),e(t.exports,"AMPLITUDE_BATCH_SERVER_URL",()=>u),e(t.exports,"EU_AMPLITUDE_BATCH_SERVER_URL",()=>l);var n="-",i="AMP",o="".concat(i,"_unsent"),s="https://api2.amplitude.com/2/httpapi",a="https://api.eu.amplitude.com/2/httpapi",u="https://api2.amplitude.com/batch",l="https://api.eu.amplitude.com/batch"}),o("3hvep",function(t,r){e(t.exports,"isValidObject",()=>o),e(t.exports,"isValidProperties",()=>s);var n=i("6ZIu9"),o=function(e){if(Object.keys(e).length>1e3)return!1;for(var t in e){var r=e[t];if(!s(t,r))return!1}return!0},s=function(e,t){var r,i;if("string"!=typeof e)return!1;if(Array.isArray(t)){var s=!0;try{for(var a=(0,n.__values)(t),u=a.next();!u.done;u=a.next()){var l=u.value;if(Array.isArray(l))return!1;if("object"==typeof l)s=s&&o(l);else if(!["number","string"].includes(typeof l))return!1;if(!s)return!1}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}else if(null==t)return!1;else if("object"==typeof t)return o(t);else if(!["number","string","boolean"].includes(typeof t))return!1;return!0}}),o("2s102",function(t,r){e(t.exports,"SUCCESS_MESSAGE",()=>n),e(t.exports,"UNEXPECTED_ERROR_MESSAGE",()=>i),e(t.exports,"MAX_RETRIES_EXCEEDED_MESSAGE",()=>o),e(t.exports,"OPT_OUT_MESSAGE",()=>s),e(t.exports,"MISSING_API_KEY_MESSAGE",()=>a),e(t.exports,"INVALID_API_KEY",()=>u),e(t.exports,"CLIENT_NOT_INITIALIZED",()=>l);var n="Event tracked successfully",i="Unexpected error occurred",o="Event rejected due to exceeded retry count",s="Event skipped due to optOut config",a="Event rejected due to missing API key",u="Invalid API key",l="Client not initialized"}),o("kt2iO",function(t,r){e(t.exports,"Timeline",()=>a);var n=i("6ZIu9"),o=i("blU8z"),s=i("atDmA"),a=function(){function e(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(e,t){var r,i;return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(n){switch(n.label){case 0:if(this.plugins.some(function(t){return t.name===e.name}))return t.loggerProvider.warn("Plugin with name ".concat(e.name," already exists, skipping registration")),[2];return void 0===e.name&&(e.name=(0,s.UUID)(),t.loggerProvider.warn("Plugin name is undefined. \n      Generating a random UUID for plugin name: ".concat(e.name,". \n      Set a name for the plugin to prevent it from being added multiple times."))),e.type=null!==(r=e.type)&&void 0!==r?r:"enrichment",[4,null===(i=e.setup)||void 0===i?void 0:i.call(e,t,this.client)];case 1:return n.sent(),this.plugins.push(e),[2]}})})},e.prototype.deregister=function(e,t){var r;return(0,n.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,n.__generator)(this,function(n){switch(n.label){case 0:if(-1===(i=this.plugins.findIndex(function(t){return t.name===e})))return t.loggerProvider.warn("Plugin with name ".concat(e," does not exist, skipping deregistration")),[2];return o=this.plugins[i],this.plugins.splice(i,1),[4,null===(r=o.teardown)||void 0===r?void 0:r.call(o)];case 1:return n.sent(),[2]}})})},e.prototype.reset=function(e){this.applying=!1,this.plugins.map(function(e){var t;return null===(t=e.teardown)||void 0===t?void 0:t.call(e)}),this.plugins=[],this.client=e},e.prototype.push=function(e){var t=this;return new Promise(function(r){t.queue.push([e,r]),t.scheduleApply(0)})},e.prototype.scheduleApply=function(e){var t=this;this.applying||(this.applying=!0,setTimeout(function(){t.apply(t.queue.shift()).then(function(){t.applying=!1,t.queue.length>0&&t.scheduleApply(0)})},e))},e.prototype.apply=function(e){return(0,n.__awaiter)(this,void 0,void 0,function(){var t,r,i,s,a,u,l,c,f,d,h,p,g,v;return(0,n.__generator)(this,function(_){switch(_.label){case 0:if(!e)return[2];t=(0,n.__read)(e,1)[0],r=(0,n.__read)(e,2)[1],i=this.plugins.filter(function(e){return"before"===e.type}),_.label=1;case 1:_.trys.push([1,6,7,8]),a=(s=(0,n.__values)(i)).next(),_.label=2;case 2:if(a.done)return[3,5];if(!(u=a.value).execute)return[3,4];return[4,u.execute((0,n.__assign)({},t))];case 3:if(null===(l=_.sent()))return r({event:t,code:0,message:""}),[2];t=l,_.label=4;case 4:return a=s.next(),[3,2];case 5:return[3,8];case 6:return h={error:_.sent()},[3,8];case 7:try{a&&!a.done&&(p=s.return)&&p.call(s)}finally{if(h)throw h.error}return[7];case 8:c=this.plugins.filter(function(e){return"enrichment"===e.type||void 0===e.type}),_.label=9;case 9:_.trys.push([9,14,15,16]),d=(f=(0,n.__values)(c)).next(),_.label=10;case 10:if(d.done)return[3,13];if(!(u=d.value).execute)return[3,12];return[4,u.execute((0,n.__assign)({},t))];case 11:if(null===(l=_.sent()))return r({event:t,code:0,message:""}),[2];t=l,_.label=12;case 12:return d=f.next(),[3,10];case 13:return[3,16];case 14:return g={error:_.sent()},[3,16];case 15:try{d&&!d.done&&(v=f.return)&&v.call(f)}finally{if(g)throw g.error}return[7];case 16:return Promise.all(this.plugins.filter(function(e){return"destination"===e.type}).map(function(e){var r=(0,n.__assign)({},t);return e.execute(r).catch(function(e){return(0,o.buildResult)(r,0,String(e))})})).then(function(e){var i=(0,n.__read)(e,1)[0]||(0,o.buildResult)(t,100,"Event not tracked, no destination plugins on the instance");r(i)}),[2]}})})},e.prototype.flush=function(){return(0,n.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,n.__generator)(this,function(r){switch(r.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(e){return t.apply(e)}))];case 1:return r.sent(),[4,Promise.all(this.plugins.filter(function(e){return"destination"===e.type}).map(function(e){return e.flush&&e.flush()}))];case 2:return r.sent(),[2]}})})},e.prototype.onIdentityChanged=function(e){this.plugins.forEach(function(t){var r;null===(r=t.onIdentityChanged)||void 0===r||r.call(t,e)})},e.prototype.onSessionIdChanged=function(e){this.plugins.forEach(function(t){var r;null===(r=t.onSessionIdChanged)||void 0===r||r.call(t,e)})},e.prototype.onOptOutChanged=function(e){this.plugins.forEach(function(t){var r;null===(r=t.onOptOutChanged)||void 0===r||r.call(t,e)})},e}()}),o("blU8z",function(t,r){e(t.exports,"buildResult",()=>o);var n=i("NmYNX"),o=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=n.Status.Unknown),{event:e,code:t,message:r}}}),o("NmYNX",function(t,r){var n,i;e(t.exports,"Status",()=>n),(i=n||(n={})).Unknown="unknown",i.Skipped="skipped",i.Success="success",i.RateLimit="rate_limit",i.PayloadTooLarge="payload_too_large",i.Invalid="invalid",i.Failed="failed",i.Timeout="Timeout",i.SystemError="SystemError"}),o("atDmA",function(t,r){e(t.exports,"UUID",()=>a);var n=i("6ZIu9"),o=i("dVeKT"),s=(0,n.__spreadArray)([],(0,n.__read)(Array(256).keys()),!1).map(function(e){return e.toString(16).padStart(2,"0")}),a=function(e){var t,r=(0,o.getGlobalScope)();if(!(null===(t=null==r?void 0:r.crypto)||void 0===t?void 0:t.getRandomValues))return e?(e^16*Math.random()>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,a);var i=r.crypto.getRandomValues(new Uint8Array(16));return i[6]=15&i[6]|64,i[8]=63&i[8]|128,(0,n.__spreadArray)([],(0,n.__read)(i.entries()),!1).map(function(e){var t=(0,n.__read)(e,2),r=t[0],i=t[1];return[4,6,8,10].includes(r)?"-".concat(s[i]):s[i]}).join("")}}),o("dVeKT",function(r,n){e(r.exports,"getGlobalScope",()=>i);var i=function(){var e="ampIntegrationContext";return"undefined"!=typeof globalThis&&void 0!==globalThis[e]?globalThis[e]:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==t?t:void 0}}),o("9GuPz",function(t,r){e(t.exports,"createTrackEvent",()=>a),e(t.exports,"createIdentifyEvent",()=>u),e(t.exports,"createGroupIdentifyEvent",()=>l),e(t.exports,"createGroupEvent",()=>c),e(t.exports,"createRevenueEvent",()=>f);var n=i("6ZIu9"),o=i("axmnZ"),s=i("6i1E9"),a=function(e,t,r){return(0,n.__assign)((0,n.__assign)((0,n.__assign)({},"string"==typeof e?{event_type:e}:e),r),t&&{event_properties:t})},u=function(e,t){return(0,n.__assign)((0,n.__assign)({},t),{event_type:s.SpecialEventType.IDENTIFY,user_properties:e.getUserProperties()})},l=function(e,t,r,i){var o;return(0,n.__assign)((0,n.__assign)({},i),{event_type:s.SpecialEventType.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:((o={})[e]=t,o)})},c=function(e,t,r){var i,a=new o.Identify;return a.set(e,t),(0,n.__assign)((0,n.__assign)({},r),{event_type:s.SpecialEventType.IDENTIFY,user_properties:a.getUserProperties(),groups:((i={})[e]=t,i)})},f=function(e,t){return(0,n.__assign)((0,n.__assign)({},t),{event_type:s.SpecialEventType.REVENUE,event_properties:e.getEventProperties()})}}),o("dKs9n",function(t,r){e(t.exports,"returnWrapper",()=>n);var n=function(e){return{promise:e||Promise.resolve()}}}),o("i4YZb",function(t,r){e(t.exports,"Destination",()=>h);var n=i("6ZIu9"),o=i("NmYNX"),s=i("2s102"),a=i("h5aTa"),u=i("gBGlC"),l=i("blU8z"),c=i("fyEDw"),f=i("atDmA");function d(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body,null,2))}catch(e){}return t}var h=function(){function e(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduleId=null,this.scheduledTimeout=0,this.flushId=null,this.queue=[]}return e.prototype.setup=function(e){var t;return(0,n.__awaiter)(this,void 0,void 0,function(){var r,i=this;return(0,n.__generator)(this,function(n){switch(n.label){case 0:return this.config=e,this.storageKey="".concat(a.STORAGE_PREFIX,"_").concat(this.config.apiKey.substring(0,10)),[4,null===(t=this.config.storageProvider)||void 0===t?void 0:t.get(this.storageKey)];case 1:return(r=n.sent())&&r.length>0&&Promise.all(r.map(function(e){return i.execute(e)})).catch(),[2,Promise.resolve(void 0)]}})})},e.prototype.execute=function(e){var t=this;return e.insert_id||(e.insert_id=(0,f.UUID)()),new Promise(function(r){t.queue.push({event:e,attempts:0,callback:function(e){return r(e)},timeout:0}),t.schedule(t.config.flushIntervalMillis),t.saveEvents()})},e.prototype.removeEventsExceedFlushMaxRetries=function(e){var t=this;return e.filter(function(e){return e.attempts+=1,e.attempts<t.config.flushMaxRetries||(t.fulfillRequest([e],500,s.MAX_RETRIES_EXCEEDED_MESSAGE),!1)})},e.prototype.scheduleEvents=function(e){var t=this;e.forEach(function(e){t.schedule(0===e.timeout?t.config.flushIntervalMillis:e.timeout)})},e.prototype.schedule=function(e){var t=this;if(!this.config.offline&&(null===this.scheduleId||this.scheduleId&&e>this.scheduledTimeout)){this.scheduleId&&clearTimeout(this.scheduleId),this.scheduledTimeout=e,this.scheduleId=setTimeout(function(){t.queue=t.queue.map(function(e){return e.timeout=0,e}),t.flush(!0)},e);return}},e.prototype.resetSchedule=function(){this.scheduleId=null,this.scheduledTimeout=0},e.prototype.flush=function(e){return void 0===e&&(e=!1),(0,n.__awaiter)(this,void 0,void 0,function(){var t,r,i=this;return(0,n.__generator)(this,function(o){switch(o.label){case 0:if(this.config.offline)return this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush while offline."),[2];if(this.flushId)return this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush because previous flush has not resolved."),[2];return this.flushId=this.scheduleId,this.resetSchedule(),t=[],r=[],this.queue.forEach(function(e){return 0===e.timeout?t.push(e):r.push(e)}),[4,(0,u.chunk)(t,this.config.flushQueueSize).reduce(function(t,r){return(0,n.__awaiter)(i,void 0,void 0,function(){return(0,n.__generator)(this,function(n){switch(n.label){case 0:return[4,t];case 1:return n.sent(),[4,this.send(r,e)];case 2:return[2,n.sent()]}})})},Promise.resolve())];case 1:return o.sent(),this.flushId=null,this.scheduleEvents(this.queue),[2]}})})},e.prototype.send=function(e,t){return void 0===t&&(t=!0),(0,n.__awaiter)(this,void 0,void 0,function(){var r,i,a,u;return(0,n.__generator)(this,function(l){switch(l.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,s.MISSING_API_KEY_MESSAGE)];r={api_key:this.config.apiKey,events:e.map(function(e){var t=e.event;return t.extra,(0,n.__rest)(t,["extra"])}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new c.RequestMetadata,l.label=1;case 1:return l.trys.push([1,3,,4]),i=(0,c.createServerConfig)(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(i,r)];case 2:if(null===(a=l.sent()))return this.fulfillRequest(e,0,s.UNEXPECTED_ERROR_MESSAGE),[2];if(!t)return"body"in a?this.fulfillRequest(e,a.statusCode,"".concat(a.status,": ").concat(d(a))):this.fulfillRequest(e,a.statusCode,a.status),[2];return this.handleResponse(a,e),[3,4];case 3:var f;return u=(f=l.sent())instanceof Error?f.message:String(f),this.config.loggerProvider.error(u),this.handleResponse({status:o.Status.Failed,statusCode:0},e),[3,4];case 4:return[2]}})})},e.prototype.handleResponse=function(e,t){var r=e.status;switch(r){case o.Status.Success:this.handleSuccessResponse(e,t);break;case o.Status.Invalid:this.handleInvalidResponse(e,t);break;case o.Status.PayloadTooLarge:this.handlePayloadTooLargeResponse(e,t);break;case o.Status.RateLimit:this.handleRateLimitResponse(e,t);break;default:this.config.loggerProvider.warn("{code: 0, error: \"Status '".concat(r,"' provided for ").concat(t.length,' events"}')),this.handleOtherResponse(t)}},e.prototype.handleSuccessResponse=function(e,t){this.fulfillRequest(t,e.statusCode,s.SUCCESS_MESSAGE)},e.prototype.handleInvalidResponse=function(e,t){var r=this;if(e.body.missingField||e.body.error.startsWith(s.INVALID_API_KEY)){this.fulfillRequest(t,e.statusCode,e.body.error);return}var i=new Set((0,n.__spreadArray)((0,n.__spreadArray)((0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(Object.values(e.body.eventsWithInvalidFields)),!1),(0,n.__read)(Object.values(e.body.eventsWithMissingFields)),!1),(0,n.__read)(Object.values(e.body.eventsWithInvalidIdLengths)),!1),(0,n.__read)(e.body.silencedEvents),!1).flat()),o=t.filter(function(t,n){if(i.has(n)){r.fulfillRequest([t],e.statusCode,e.body.error);return}return!0});o.length>0&&this.config.loggerProvider.warn(d(e));var a=this.removeEventsExceedFlushMaxRetries(o);this.scheduleEvents(a)},e.prototype.handlePayloadTooLargeResponse=function(e,t){if(1===t.length){this.fulfillRequest(t,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(d(e)),this.config.flushQueueSize/=2;var r=this.removeEventsExceedFlushMaxRetries(t);this.scheduleEvents(r)},e.prototype.handleRateLimitResponse=function(e,t){var r=this,n=Object.keys(e.body.exceededDailyQuotaUsers),i=Object.keys(e.body.exceededDailyQuotaDevices),o=e.body.throttledEvents,s=new Set(n),a=new Set(i),u=new Set(o),l=t.filter(function(t,n){if(t.event.user_id&&s.has(t.event.user_id)||t.event.device_id&&a.has(t.event.device_id)){r.fulfillRequest([t],e.statusCode,e.body.error);return}return u.has(n)&&(t.timeout=r.throttleTimeout),!0});l.length>0&&this.config.loggerProvider.warn(d(e));var c=this.removeEventsExceedFlushMaxRetries(l);this.scheduleEvents(c)},e.prototype.handleOtherResponse=function(e){var t=this,r=e.map(function(e){return e.timeout=e.attempts*t.retryTimeout,e}),n=this.removeEventsExceedFlushMaxRetries(r);this.scheduleEvents(n)},e.prototype.fulfillRequest=function(e,t,r){this.removeEvents(e),e.forEach(function(e){return e.callback((0,l.buildResult)(e.event,t,r))})},e.prototype.saveEvents=function(){if(this.config.storageProvider){var e=this.queue.map(function(e){return e.event});this.config.storageProvider.set(this.storageKey,e)}},e.prototype.removeEvents=function(e){this.queue=this.queue.filter(function(t){return!e.some(function(e){return e.event.insert_id===t.event.insert_id})}),this.saveEvents()},e}()}),o("gBGlC",function(t,r){e(t.exports,"chunk",()=>n);var n=function(e,t){var r=Math.max(t,1);return e.reduce(function(e,t,n){var i=Math.floor(n/r);return e[i]||(e[i]=[]),e[i].push(t),e},[])}}),o("fyEDw",function(t,r){e(t.exports,"Config",()=>u),e(t.exports,"createServerConfig",()=>l),e(t.exports,"RequestMetadata",()=>c);var n=i("h5aTa"),o=i("21sIw"),s=i("e9zFf"),a=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:s.LogLevel.Warn,loggerProvider:new o.Logger,offline:!1,optOut:!1,serverUrl:n.AMPLITUDE_SERVER_URL,serverZone:"US",useBatch:!1}},u=function(){function e(e){this._optOut=!1;var t,r,n,i,o=a();this.apiKey=e.apiKey,this.flushIntervalMillis=null!==(t=e.flushIntervalMillis)&&void 0!==t?t:o.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||o.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||o.flushQueueSize,this.instanceName=e.instanceName||o.instanceName,this.loggerProvider=e.loggerProvider||o.loggerProvider,this.logLevel=null!==(r=e.logLevel)&&void 0!==r?r:o.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.offline=void 0!==e.offline?e.offline:o.offline,this.optOut=null!==(n=e.optOut)&&void 0!==n?n:o.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||o.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=null!==(i=e.useBatch)&&void 0!==i?i:o.useBatch,this.loggerProvider.enable(this.logLevel);var s=l(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=s.serverZone,this.serverUrl=s.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),e}(),l=function(e,t,r){if(void 0===e&&(e=""),void 0===t&&(t=a().serverZone),void 0===r&&(r=a().useBatch),e)return{serverUrl:e,serverZone:void 0};var i,o=["US","EU"].includes(t)?t:a().serverZone;return{serverZone:o,serverUrl:(i=r,"EU"===o?i?n.EU_AMPLITUDE_BATCH_SERVER_URL:n.EU_AMPLITUDE_SERVER_URL:i?n.AMPLITUDE_BATCH_SERVER_URL:n.AMPLITUDE_SERVER_URL)}},c=function(){function e(){this.sdk={metrics:{histogram:{}}}}return e.prototype.recordHistogram=function(e,t){this.sdk.metrics.histogram[e]=t},e}()}),o("21sIw",function(t,r){e(t.exports,"Logger",()=>s);var n=i("e9zFf"),o="Amplitude Logger ",s=function(){function e(){this.logLevel=n.LogLevel.None}return e.prototype.disable=function(){this.logLevel=n.LogLevel.None},e.prototype.enable=function(e){void 0===e&&(e=n.LogLevel.Warn),this.logLevel=e},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<n.LogLevel.Verbose||console.log("".concat(o,"[Log]: ").concat(e.join(" ")))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<n.LogLevel.Warn||console.warn("".concat(o,"[Warn]: ").concat(e.join(" ")))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<n.LogLevel.Error||console.error("".concat(o,"[Error]: ").concat(e.join(" ")))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<n.LogLevel.Debug||console.log("".concat(o,"[Debug]: ").concat(e.join(" ")))},e}()}),o("9W3Wg",function(t,r){e(t.exports,"Revenue",()=>u);var n,o,s=i("6ZIu9"),a=i("3hvep"),u=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(e){return this.productId=e,this},e.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},e.prototype.setPrice=function(e){return this.price=e,this},e.prototype.setRevenueType=function(e){return this.revenueType=e,this},e.prototype.setCurrency=function(e){return this.currency=e,this},e.prototype.setRevenue=function(e){return this.revenue=e,this},e.prototype.setReceipt=function(e){return this.receipt=e,this},e.prototype.setReceiptSig=function(e){return this.receiptSig=e,this},e.prototype.setEventProperties=function(e){return(0,a.isValidObject)(e)&&(this.properties=e),this},e.prototype.getEventProperties=function(){var e=this.properties?(0,s.__assign)({},this.properties):{};return e[o.REVENUE_PRODUCT_ID]=this.productId,e[o.REVENUE_QUANTITY]=this.quantity,e[o.REVENUE_PRICE]=this.price,e[o.REVENUE_TYPE]=this.revenueType,e[o.REVENUE_CURRENCY]=this.currency,e[o.REVENUE]=this.revenue,e[o.RECEIPT]=this.receipt,e[o.RECEIPT_SIG]=this.receiptSig,e},e}();(n=o||(o={})).REVENUE_PRODUCT_ID="$productId",n.REVENUE_QUANTITY="$quantity",n.REVENUE_PRICE="$price",n.REVENUE_TYPE="$revenueType",n.REVENUE_CURRENCY="$currency",n.REVENUE="$revenue",n.RECEIPT="$receipt",n.RECEIPT_SIG="$receiptSig"}),o("8UPrv",function(t,r){e(t.exports,"getAnalyticsConnector",()=>o),e(t.exports,"setConnectorUserId",()=>s),e(t.exports,"setConnectorDeviceId",()=>a);var n=i("2Hkuo"),o=function(e){return void 0===e&&(e="$default_instance"),(0,n.AnalyticsConnector).getInstance(e)},s=function(e,t){o(t).identityStore.editIdentity().setUserId(e).commit()},a=function(e,t){o(t).identityStore.editIdentity().setDeviceId(e).commit()}}),o("2Hkuo",function(r,n){e(r.exports,"AnalyticsConnector",()=>f);var i=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:o(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),o=function(){return"undefined"!=typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},s=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},e.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(t){e(t)}),this.queue=[])},e}(),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u=function(e,t){var r=typeof e;if(r!==typeof t)return!1;for(var n=0,i=["string","number","boolean","undefined"];n<i.length;n++)if(i[n]===r)return e===t;if(null==e&&null==t)return!0;if(null==e||null==t||e.length!==t.length)return!1;var o=Array.isArray(e),s=Array.isArray(t);if(o!==s)return!1;if(o&&s){for(var a=0;a<e.length;a++)if(!u(e[a],t[a]))return!1}else{if(!u(Object.keys(e).sort(),Object.keys(t).sort()))return!1;var l=!0;return Object.keys(e).forEach(function(r){u(e[r],t[r])||(l=!1)}),l}return!0};Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),r=t.length,n=Array(r);r--;)n[r]=[t[r],e[t[r]]];return n});var l=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var e=this,t=a({},this.identity.userProperties),r=a(a({},this.identity),{userProperties:t});return{setUserId:function(e){return r.userId=e,this},setDeviceId:function(e){return r.deviceId=e,this},setUserProperties:function(e){return r.userProperties=e,this},setOptOut:function(e){return r.optOut=e,this},updateUserProperties:function(e){for(var t=r.userProperties||{},n=0,i=Object.entries(e);n<i.length;n++){var o=i[n],s=o[0],a=o[1];switch(s){case"$set":for(var u=0,l=Object.entries(a);u<l.length;u++){var c=l[u],f=c[0],d=c[1];t[f]=d}break;case"$unset":for(var h=0,p=Object.keys(a);h<p.length;h++){var f=p[h];delete t[f]}break;case"$clearAll":t={}}}return r.userProperties=t,this},commit:function(){return e.setIdentity(r),this}}},e.prototype.getIdentity=function(){return a({},this.identity)},e.prototype.setIdentity=function(e){var t=a({},this.identity);this.identity=a({},e),u(t,this.identity)||this.listeners.forEach(function(t){t(e)})},e.prototype.addIdentityListener=function(e){this.listeners.add(e)},e.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},e}(),c="undefined"!=typeof globalThis?globalThis:void 0!==t?t:self,f=function(){function e(){this.identityStore=new l,this.eventBridge=new s,this.applicationContextProvider=new i}return e.getInstance=function(t){return c.analyticsConnectorInstances||(c.analyticsConnectorInstances={}),c.analyticsConnectorInstances[t]||(c.analyticsConnectorInstances[t]=new e),c.analyticsConnectorInstances[t]},e}()}),o("bKzx6",function(t,r){e(t.exports,"isAttributionTrackingEnabled",()=>s),e(t.exports,"isFileDownloadTrackingEnabled",()=>a),e(t.exports,"isFormInteractionTrackingEnabled",()=>u),e(t.exports,"isPageViewTrackingEnabled",()=>l),e(t.exports,"isSessionTrackingEnabled",()=>c),e(t.exports,"getPageViewTrackingConfig",()=>f),e(t.exports,"getAttributionTrackingConfig",()=>d);var n=i("6ZIu9"),o=function(e,t){return"boolean"==typeof e?e:(null==e?void 0:e[t])!==!1},s=function(e){return o(e,"attribution")},a=function(e){return o(e,"fileDownloads")},u=function(e){return o(e,"formInteractions")},l=function(e){return o(e,"pageViews")},c=function(e){return o(e,"sessions")},f=function(e){var t,r=function(){return!1},n=void 0,i=e.pageCounter;return l(e.defaultTracking)&&(r=void 0,t=void 0,e.defaultTracking&&"object"==typeof e.defaultTracking&&e.defaultTracking.pageViews&&"object"==typeof e.defaultTracking.pageViews&&("trackOn"in e.defaultTracking.pageViews&&(r=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(n=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(t=e.defaultTracking.pageViews.eventType))),{trackOn:r,trackHistoryChanges:n,eventType:t,pageCounter:i}},d=function(e){return s(e.defaultTracking)&&e.defaultTracking&&"object"==typeof e.defaultTracking&&e.defaultTracking.attribution&&"object"==typeof e.defaultTracking.attribution?(0,n.__assign)({},e.defaultTracking.attribution):{}}}),o("4EO65",function(t,r){e(t.exports,"getQueryParams",()=>o);var n=i("dlKL3"),o=function(){var e,t=(0,n.getGlobalScope)();return(null===(e=null==t?void 0:t.location)||void 0===e?void 0:e.search)?t.location.search.substring(1).split("&").filter(Boolean).reduce(function(e,t){var r=t.split("=",2),n=s(r[0]),i=s(r[1]);return i&&(e[n]=i),e},{}):{}},s=function(e){void 0===e&&(e="");try{return decodeURIComponent(e)}catch(e){return""}}}),o("dlKL3",function(r,n){e(r.exports,"getGlobalScope",()=>i);var i=function(){var e="ampIntegrationContext";return"undefined"!=typeof globalThis&&void 0!==globalThis[e]?globalThis[e]:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==t?t:void 0}}),o("5Ti5Q",function(t,r){e(t.exports,"IdentityEventSender",()=>s);var n=i("6ZIu9"),o=i("8UPrv"),s=function(){function e(){this.name="identity",this.type="before",this.identityStore=(0,o.getAnalyticsConnector)().identityStore}return e.prototype.execute=function(e){return(0,n.__awaiter)(this,void 0,void 0,function(){var t;return(0,n.__generator)(this,function(r){return(t=e.user_properties)&&this.identityStore.editIdentity().updateUserProperties(t).commit(),[2,e]})})},e.prototype.setup=function(e){return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(t){return e.instanceName&&(this.identityStore=(0,o.getAnalyticsConnector)(e.instanceName).identityStore),[2]})})},e}()}),o("40FTQ",function(t,r){e(t.exports,"isNewSession",()=>n);var n=function(e,t){return void 0===t&&(t=Date.now()),Date.now()-t>e}}),o("hGUBm",function(t,r){e(t.exports,"WebAttribution",()=>c);var n=i("6ZIu9"),o=i("ceqDE"),s=i("asqvo"),a=i("7Fxgd"),u=i("8C3uR"),l=i("40FTQ"),c=function(){function e(e,t){var r;this.shouldTrackNewCampaign=!1,this.options=(0,n.__assign)({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:(0,o.getDefaultExcludedReferrers)(null===(r=t.cookieOptions)||void 0===r?void 0:r.domain)},e),this.storage=t.cookieStorage,this.storageKey=(0,s.getStorageKey)(t.apiKey,"MKTG"),this.currentCampaign=u.BASE_CAMPAIGN,this.sessionTimeout=t.sessionTimeout,this.lastEventTime=t.lastEventTime,this.logger=t.loggerProvider,t.loggerProvider.log("Installing web attribution tracking.")}return e.prototype.init=function(){return(0,n.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,n.__generator)(this,function(r){switch(r.label){case 0:return[4,this.fetchCampaign()];case 1:if(t=(0,n.__read).apply(void 0,[r.sent(),2]),this.currentCampaign=t[0],this.previousCampaign=t[1],e=!this.lastEventTime||(0,l.isNewSession)(this.sessionTimeout,this.lastEventTime),!(0,o.isNewCampaign)(this.currentCampaign,this.previousCampaign,this.options,this.logger,e))return[3,3];return this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.fetchCampaign=function(){return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(e){switch(e.label){case 0:return[4,Promise.all([new(0,a.CampaignParser)().parse(),this.storage.get(this.storageKey)])];case 1:return[2,e.sent()]}})})},e.prototype.generateCampaignEvent=function(e){this.shouldTrackNewCampaign=!1;var t=(0,o.createCampaignEvent)(this.currentCampaign,this.options);return e&&(t.event_id=e),t},e.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},e}()}),o("ceqDE",function(t,r){e(t.exports,"isNewCampaign",()=>l),e(t.exports,"createCampaignEvent",()=>f),e(t.exports,"getDefaultExcludedReferrers",()=>d);var n=i("6ZIu9"),o=i("9GuPz"),s=i("axmnZ"),a=i("8C3uR"),u=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},l=function(e,t,r,i,o){void 0===o&&(o=!0),e.referrer;var s=e.referring_domain,a=(0,n.__rest)(e,["referrer","referring_domain"]),l=t||{},f=(l.referrer,l.referring_domain),d=(0,n.__rest)(l,["referrer","referring_domain"]);if(c(r.excludeReferrers,e.referring_domain))return i.debug("This is not a new campaign because ".concat(e.referring_domain," is in the exclude referrer list.")),!1;if(!o&&Object.values(e).every(function(e){return!e})&&t)return i.debug("This is not a new campaign because this is a direct traffic in the same session."),!1;var h=JSON.stringify(a)!==JSON.stringify(d),p=u(s||"")!==u(f||""),g=!t||h||p;return g?i.debug("This is a new campaign. An $identify event will be sent."):i.debug("This is not a new campaign because it's the same as the previous one."),g},c=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=""),e.some(function(e){return e instanceof RegExp?e.test(t):e===t})},f=function(e,t){var r=Object.entries((0,n.__assign)((0,n.__assign)({},a.BASE_CAMPAIGN),e)).reduce(function(e,r){var i,o=(0,n.__read)(r,2),s=o[0],a=o[1];return(e.setOnce("initial_".concat(s),null!==(i=null!=a?a:t.initialEmptyValue)&&void 0!==i?i:"EMPTY"),a)?e.set(s,a):e.unset(s)},new s.Identify);return(0,o.createIdentifyEvent)(r)},d=function(e){var t=e;return t?(t.startsWith(".")&&(t=t.substring(1)),[new RegExp("".concat(t.replace(".","\\."),"$"))]):[]}}),o("8C3uR",function(t,r){e(t.exports,"UTM_CAMPAIGN",()=>n),e(t.exports,"UTM_CONTENT",()=>i),e(t.exports,"UTM_ID",()=>o),e(t.exports,"UTM_MEDIUM",()=>s),e(t.exports,"UTM_SOURCE",()=>a),e(t.exports,"UTM_TERM",()=>u),e(t.exports,"DCLID",()=>l),e(t.exports,"FBCLID",()=>c),e(t.exports,"GBRAID",()=>f),e(t.exports,"GCLID",()=>d),e(t.exports,"KO_CLICK_ID",()=>h),e(t.exports,"LI_FAT_ID",()=>p),e(t.exports,"MSCLKID",()=>g),e(t.exports,"RDT_CID",()=>v),e(t.exports,"TTCLID",()=>_),e(t.exports,"TWCLID",()=>y),e(t.exports,"WBRAID",()=>m),e(t.exports,"BASE_CAMPAIGN",()=>b);var n="utm_campaign",i="utm_content",o="utm_id",s="utm_medium",a="utm_source",u="utm_term",l="dclid",c="fbclid",f="gbraid",d="gclid",h="ko_click_id",p="li_fat_id",g="msclkid",v="rtd_cid",_="ttclid",y="twclid",m="wbraid",b={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0}}),o("asqvo",function(t,r){e(t.exports,"getStorageKey",()=>o);var n=i("h5aTa"),o=function(e,t,r){return void 0===t&&(t=""),void 0===r&&(r=10),[(0,n.AMPLITUDE_PREFIX),t,e.substring(0,r)].filter(Boolean).join("_")}}),o("7Fxgd",function(t,r){e(t.exports,"CampaignParser",()=>a);var n=i("6ZIu9"),o=i("4EO65"),s=i("8C3uR"),a=function(){function e(){}return e.prototype.parse=function(){return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(e){return[2,(0,n.__assign)((0,n.__assign)((0,n.__assign)((0,n.__assign)({},s.BASE_CAMPAIGN),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var e=(0,o.getQueryParams)();return{utm_campaign:e[s.UTM_CAMPAIGN],utm_content:e[s.UTM_CONTENT],utm_id:e[s.UTM_ID],utm_medium:e[s.UTM_MEDIUM],utm_source:e[s.UTM_SOURCE],utm_term:e[s.UTM_TERM]}},e.prototype.getReferrer=function(){var e,t,r={referrer:void 0,referring_domain:void 0};try{r.referrer=document.referrer||void 0,r.referring_domain=null!==(t=null===(e=r.referrer)||void 0===e?void 0:e.split("/")[2])&&void 0!==t?t:void 0}catch(e){}return r},e.prototype.getClickIds=function(){var e,t=(0,o.getQueryParams)();return(e={})[s.DCLID]=t[s.DCLID],e[s.FBCLID]=t[s.FBCLID],e[s.GBRAID]=t[s.GBRAID],e[s.GCLID]=t[s.GCLID],e[s.KO_CLICK_ID]=t[s.KO_CLICK_ID],e[s.LI_FAT_ID]=t[s.LI_FAT_ID],e[s.MSCLKID]=t[s.MSCLKID],e[s.RDT_CID]=t[s.RDT_CID],e[s.TTCLID]=t[s.TTCLID],e[s.TWCLID]=t[s.TWCLID],e[s.WBRAID]=t[s.WBRAID],e},e}()}),o("1JaBv",function(t,r){e(t.exports,"OfflineDisabled",()=>n);var n=null}),o("5mWFu",function(t,r){e(t.exports,"convertProxyObjectToRealObject",()=>n),e(t.exports,"isInstanceProxy",()=>i);var n=function(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.name,o=n.args,s=n.resolve,a=e&&e[i];if("function"==typeof a){var u=a.apply(e,o);"function"==typeof s&&s(null==u?void 0:u.promise)}}return e},i=function(e){return e&&void 0!==e._q}}),o("c8IHq",function(t,r){e(t.exports,"Context",()=>u);var n=i("6ZIu9"),o=i("atDmA"),s=i("hUMeO"),a=i("dEmnM"),u=function(){function e(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="amplitude-ts/".concat(a.VERSION),"undefined"!=typeof navigator&&(this.userAgent=navigator.userAgent)}return e.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},e.prototype.execute=function(e){var t,r;return(0,n.__awaiter)(this,void 0,void 0,function(){var i,a,u;return(0,n.__generator)(this,function(l){return i=new Date().getTime(),a=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1,u=null!==(r=e.event_id)&&void 0!==r?r:a+1,this.config.lastEventId=u,e.time||(this.config.lastEventTime=i),[2,(0,n.__assign)((0,n.__assign)((0,n.__assign)((0,n.__assign)((0,n.__assign)((0,n.__assign)((0,n.__assign)((0,n.__assign)({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:i},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:"Web"}),this.config.trackingOptions.language&&{language:(0,s.getLanguage)()}),this.config.trackingOptions.ipAddress&&{ip:"$remote"}),{insert_id:(0,o.UUID)(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:u,library:this.library,user_agent:this.userAgent})]})})},e}()}),o("hUMeO",function(t,r){e(t.exports,"getLanguage",()=>n);var n=function(){if("undefined"==typeof navigator)return"";var e,t,r,n,i=navigator.userLanguage;return null!==(n=null!==(r=null!==(t=null===(e=navigator.languages)||void 0===e?void 0:e[0])&&void 0!==t?t:navigator.language)&&void 0!==r?r:i)&&void 0!==n?n:""}}),o("dEmnM",function(t,r){e(t.exports,"VERSION",()=>n);var n="2.9.3"}),o("alHJt",function(t,r){e(t.exports,"createTransport",()=>E),e(t.exports,"useBrowserConfig",()=>w);var n=i("6ZIu9"),o=i("3W9oS"),s=i("fyEDw"),a=i("21sIw"),u=i("3hfi5"),l=i("atDmA"),c=i("aWS61"),f=i("77MdN"),d=i("i61Sx"),h=i("4EO65"),p=i("7arF9"),g=i("THP5i"),v=i("hwKw3"),_=i("fz9DZ"),y=i("db6HB"),m=i("kQlZ4"),b=function(e){function t(t,r,n,i,s,l,c,f,d,h,g,v,_,y,b,w,x,k,S,I,A,O,T,C,U,R,D,P,L,B,j,N){void 0===n&&(n=new u.MemoryStorage),void 0===i&&(i={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),void 0===c&&(c=1e3),void 0===f&&(f=5),void 0===d&&(d=30),void 0===h&&(h=m.DEFAULT_IDENTITY_STORAGE),void 0===b&&(b=new a.Logger),void 0===w&&(w=o.LogLevel.Warn),void 0===k&&(k=!1),void 0===S&&(S=!1),void 0===O&&(O=""),void 0===T&&(T=m.DEFAULT_SERVER_ZONE),void 0===U&&(U=18e5),void 0===R&&(R=new p.LocalStorage({loggerProvider:b})),void 0===D&&(D={ipAddress:!0,language:!0,platform:!0}),void 0===P&&(P="fetch"),void 0===L&&(L=!1);var M=e.call(this,{apiKey:t,storageProvider:R,transportProvider:E(P)})||this;return M.apiKey=t,M.appVersion=r,M.cookieOptions=i,M.defaultTracking=s,M.flushIntervalMillis=c,M.flushMaxRetries=f,M.flushQueueSize=d,M.identityStorage=h,M.ingestionMetadata=g,M.instanceName=v,M.loggerProvider=b,M.logLevel=w,M.minIdLength=x,M.offline=k,M.partnerId=I,M.plan=A,M.serverUrl=O,M.serverZone=T,M.sessionTimeout=U,M.storageProvider=R,M.trackingOptions=D,M.transport=P,M.useBatch=L,M._optOut=!1,M._cookieStorage=n,M.deviceId=l,M.lastEventId=_,M.lastEventTime=y,M.optOut=S,M.sessionId=C,M.pageCounter=j,M.userId=B,M.debugLogsEnabled=N,M.loggerProvider.enable(N?o.LogLevel.Debug:M.logLevel),M}return(0,n.__extends)(t,e),Object.defineProperty(t.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(e){this._cookieStorage!==e&&(this._cookieStorage=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(e){this._deviceId!==e&&(this._deviceId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(e){this._userId!==e&&(this._userId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(e){this._sessionId!==e&&(this._sessionId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut!==e&&(this._optOut=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(e){this._lastEventTime!==e&&(this._lastEventTime=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(e){this._lastEventId!==e&&(this._lastEventId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(e){this._pageCounter!==e&&(this._pageCounter=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugLogsEnabled",{set:function(e){this._debugLogsEnabled!==e&&(this._debugLogsEnabled=e,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var e={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set((0,d.getCookieName)(this.apiKey),e)},t}(s.Config),w=function(e,t,r){return void 0===t&&(t={}),(0,n.__awaiter)(void 0,void 0,void 0,function(){var i,o,s,a,c,f,p,g,v,_,w,E,S,I,A,O,T,C,U,R,D,P,L,B,j,N,M,F,z,K,V,q,G,Z,W,$,H,J,X,Y,Q,ee,et;return(0,n.__generator)(this,function(er){switch(er.label){case 0:if(i=t.identityStorage||m.DEFAULT_IDENTITY_STORAGE,U={},!(i!==m.DEFAULT_IDENTITY_STORAGE))return[3,1];return s="",[3,5];case 1:if(!(null!==(D=null===(R=t.cookieOptions)||void 0===R?void 0:R.domain)&&void 0!==D))return[3,2];return a=D,[3,4];case 2:return[4,k()];case 3:a=er.sent(),er.label=4;case 4:s=a,er.label=5;case 5:return o=(0,n.__assign).apply(void 0,[(U.domain=s,U.expiration=365,U.sameSite="Lax",U.secure=!1,U.upgrade=!0,U),t.cookieOptions]),c=x(t.identityStorage,o),[4,(0,y.parseLegacyCookies)(e,c,null===(L=null===(P=t.cookieOptions)||void 0===P?void 0:P.upgrade)||void 0===L||L)];case 6:return f=er.sent(),[4,c.get((0,d.getCookieName)(e))];case 7:return p=er.sent(),g=(0,h.getQueryParams)(),v=null!==(F=null!==(M=null!==(N=null!==(j=null!==(B=t.deviceId)&&void 0!==B?B:g.ampDeviceId)&&void 0!==j?j:g.deviceId)&&void 0!==N?N:null==p?void 0:p.deviceId)&&void 0!==M?M:f.deviceId)&&void 0!==F?F:(0,l.UUID)(),_=null!==(z=null==p?void 0:p.lastEventId)&&void 0!==z?z:f.lastEventId,w=null!==(K=null==p?void 0:p.lastEventTime)&&void 0!==K?K:f.lastEventTime,E=null!==(q=null!==(V=t.optOut)&&void 0!==V?V:null==p?void 0:p.optOut)&&void 0!==q?q:f.optOut,S=null!==(G=null==p?void 0:p.sessionId)&&void 0!==G?G:f.sessionId,I=null!==(W=null!==(Z=t.userId)&&void 0!==Z?Z:null==p?void 0:p.userId)&&void 0!==W?W:f.userId,r.previousSessionDeviceId=null!==($=null==p?void 0:p.deviceId)&&void 0!==$?$:f.deviceId,r.previousSessionUserId=null!==(H=null==p?void 0:p.userId)&&void 0!==H?H:f.userId,A={ipAddress:null===(X=null===(J=t.trackingOptions)||void 0===J?void 0:J.ipAddress)||void 0===X||X,language:null===(Q=null===(Y=t.trackingOptions)||void 0===Y?void 0:Y.language)||void 0===Q||Q,platform:null===(et=null===(ee=t.trackingOptions)||void 0===ee?void 0:ee.platform)||void 0===et||et},O=null==p?void 0:p.pageCounter,T=null==p?void 0:p.debugLogsEnabled,[4,(C=new b(e,t.appVersion,c,o,t.defaultTracking,v,t.flushIntervalMillis,t.flushMaxRetries,t.flushQueueSize,i,t.ingestionMetadata,t.instanceName,_,w,t.loggerProvider,t.logLevel,t.minIdLength,t.offline,E,t.partnerId,t.plan,t.serverUrl,t.serverZone,S,t.sessionTimeout,t.storageProvider,A,t.transport,t.useBatch,I,O,T)).storageProvider.isEnabled()];case 8:return er.sent()||(C.loggerProvider.warn("Storage provider ".concat(C.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),C.storageProvider=new u.MemoryStorage),[2,C]}})})},x=function(e,t){switch(void 0===e&&(e=m.DEFAULT_IDENTITY_STORAGE),void 0===t&&(t={}),e){case"localStorage":return new p.LocalStorage;case"sessionStorage":return new g.SessionStorage;case"none":return new u.MemoryStorage;default:return new c.CookieStorage((0,n.__assign)((0,n.__assign)({},t),{expirationDays:t.expiration}))}},E=function(e){return"xhr"===e?new v.XHRTransport:"beacon"===e?new _.SendBeaconTransport:new f.FetchTransport},k=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,function(){var t,r,i,o,s,a,u;return(0,n.__generator)(this,function(n){switch(n.label){case 0:return[4,new(0,c.CookieStorage)().isEnabled()];case 1:if(!n.sent()||!e&&("undefined"==typeof location||!location.hostname))return[2,""];for(t=(null!=e?e:location.hostname).split("."),r=[],i="AMP_TLDTEST",o=t.length-2;o>=0;--o)r.push(t.slice(o).join("."));o=0,n.label=2;case 2:if(!(o<r.length))return[3,7];return a={domain:"."+(s=r[o])},[4,(u=new c.CookieStorage(a)).set(i,1)];case 3:return n.sent(),[4,u.get(i)];case 4:if(!n.sent())return[3,6];return[4,u.remove(i)];case 5:return n.sent(),[2,"."+s];case 6:return o++,[3,2];case 7:return[2,""]}})})}}),o("3W9oS",function(t,r){var n,i;e(t.exports,"LogLevel",()=>n),(i=n||(n={}))[i.None=0]="None",i[i.Error=1]="Error",i[i.Warn=2]="Warn",i[i.Verbose=3]="Verbose",i[i.Debug=4]="Debug"}),o("3hfi5",function(t,r){e(t.exports,"MemoryStorage",()=>o);var n=i("6ZIu9"),o=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(e){return[2,!0]})})},e.prototype.get=function(e){return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(t){return[2,this.memoryStorage.get(e)]})})},e.prototype.getRaw=function(e){return(0,n.__awaiter)(this,void 0,void 0,function(){var t;return(0,n.__generator)(this,function(r){switch(r.label){case 0:return[4,this.get(e)];case 1:return[2,(t=r.sent())?JSON.stringify(t):void 0]}})})},e.prototype.set=function(e,t){return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(r){return this.memoryStorage.set(e,t),[2]})})},e.prototype.remove=function(e){return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(t){return this.memoryStorage.delete(e),[2]})})},e.prototype.reset=function(){return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(e){return this.memoryStorage.clear(),[2]})})},e}()}),o("aWS61",function(t,r){e(t.exports,"CookieStorage",()=>s);var n=i("6ZIu9"),o=i("dlKL3"),s=function(){function e(e){this.options=(0,n.__assign)({},e)}return e.prototype.isEnabled=function(){return(0,n.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,n.__generator)(this,function(n){switch(n.label){case 0:if(!(0,o.getGlobalScope)())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),r="AMP_TEST",n.label=1;case 1:return n.trys.push([1,4,5,7]),[4,t.set(r,e.testValue)];case 2:return n.sent(),[4,t.get(r)];case 3:return[2,n.sent()===e.testValue];case 4:return n.sent(),[2,!1];case 5:return[4,t.remove(r)];case 6:return n.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(e){var t;return(0,n.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,n.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getRaw(e)];case 1:if(!(r=n.sent()))return[2,void 0];try{if(i=null!==(t=a(r))&&void 0!==t?t:u(r),void 0===i)return console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(e,", value: ").concat(r)),[2,void 0];return[2,JSON.parse(i)]}catch(t){return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(e,", value: ").concat(r)),[2,void 0]}return[2]}})})},e.prototype.getRaw=function(e){var t,r;return(0,n.__awaiter)(this,void 0,void 0,function(){var i,s;return(0,n.__generator)(this,function(n){return(s=(null!==(r=null===(t=null==(i=(0,o.getGlobalScope)())?void 0:i.document)||void 0===t?void 0:t.cookie.split("; "))&&void 0!==r?r:[]).find(function(t){return 0===t.indexOf(e+"=")}))?[2,s.substring(e.length+1)]:[2,void 0]})})},e.prototype.set=function(e,t){var r;return(0,n.__awaiter)(this,void 0,void 0,function(){var i,s,a,u,l,c,f;return(0,n.__generator)(this,function(n){try{i=null!==(r=this.options.expirationDays)&&void 0!==r?r:0,s=null!==t?i:-1,a=void 0,s&&((u=new Date).setTime(u.getTime()+864e5*s),a=u),l="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(t)))),a&&(l+="; expires=".concat(a.toUTCString())),l+="; path=/",this.options.domain&&(l+="; domain=".concat(this.options.domain)),this.options.secure&&(l+="; Secure"),this.options.sameSite&&(l+="; SameSite=".concat(this.options.sameSite)),(c=(0,o.getGlobalScope)())&&(c.document.cookie=l)}catch(t){f=t instanceof Error?t.message:String(t),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(e,". Error: ").concat(f))}return[2]})})},e.prototype.remove=function(e){return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(t){switch(t.label){case 0:return[4,this.set(e,null)];case 1:return t.sent(),[2]}})})},e.prototype.reset=function(){return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(e){return[2]})})},e}(),a=function(e){try{return decodeURIComponent(atob(e))}catch(e){return}},u=function(e){try{return decodeURIComponent(atob(decodeURIComponent(e)))}catch(e){return}}}),o("77MdN",function(t,r){e(t.exports,"FetchTransport",()=>o);var n=i("6ZIu9"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.__extends)(t,e),t.prototype.send=function(e,t){return(0,n.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,n.__generator)(this,function(n){switch(n.label){case 0:if("undefined"==typeof fetch)throw Error("FetchTransport is not supported");return[4,fetch(e,{headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(t),method:"POST"})];case 1:return[4,(r=n.sent()).text()];case 2:i=n.sent();try{return[2,this.buildResponse(JSON.parse(i))]}catch(e){return[2,this.buildResponse({code:r.status})]}return[2]}})})},t}(i("ff7CA").BaseTransport)}),o("ff7CA",function(t,r){e(t.exports,"BaseTransport",()=>o);var n=i("NmYNX"),o=function(){function e(){}return e.prototype.send=function(e,t){return Promise.resolve(null)},e.prototype.buildResponse=function(e){if("object"!=typeof e)return null;var t,r,i,o,s,a,u,l,c,f,d,h,p,g,v,_,y,m,b,w,x,E,k=e.code||0,S=this.buildStatus(k);switch(S){case n.Status.Success:return{status:S,statusCode:k,body:{eventsIngested:null!==(t=e.events_ingested)&&void 0!==t?t:0,payloadSizeBytes:null!==(r=e.payload_size_bytes)&&void 0!==r?r:0,serverUploadTime:null!==(i=e.server_upload_time)&&void 0!==i?i:0}};case n.Status.Invalid:return{status:S,statusCode:k,body:{error:null!==(o=e.error)&&void 0!==o?o:"",missingField:null!==(s=e.missing_field)&&void 0!==s?s:"",eventsWithInvalidFields:null!==(a=e.events_with_invalid_fields)&&void 0!==a?a:{},eventsWithMissingFields:null!==(u=e.events_with_missing_fields)&&void 0!==u?u:{},eventsWithInvalidIdLengths:null!==(l=e.events_with_invalid_id_lengths)&&void 0!==l?l:{},epsThreshold:null!==(c=e.eps_threshold)&&void 0!==c?c:0,exceededDailyQuotaDevices:null!==(f=e.exceeded_daily_quota_devices)&&void 0!==f?f:{},silencedDevices:null!==(d=e.silenced_devices)&&void 0!==d?d:[],silencedEvents:null!==(h=e.silenced_events)&&void 0!==h?h:[],throttledDevices:null!==(p=e.throttled_devices)&&void 0!==p?p:{},throttledEvents:null!==(g=e.throttled_events)&&void 0!==g?g:[]}};case n.Status.PayloadTooLarge:return{status:S,statusCode:k,body:{error:null!==(v=e.error)&&void 0!==v?v:""}};case n.Status.RateLimit:return{status:S,statusCode:k,body:{error:null!==(_=e.error)&&void 0!==_?_:"",epsThreshold:null!==(y=e.eps_threshold)&&void 0!==y?y:0,throttledDevices:null!==(m=e.throttled_devices)&&void 0!==m?m:{},throttledUsers:null!==(b=e.throttled_users)&&void 0!==b?b:{},exceededDailyQuotaDevices:null!==(w=e.exceeded_daily_quota_devices)&&void 0!==w?w:{},exceededDailyQuotaUsers:null!==(x=e.exceeded_daily_quota_users)&&void 0!==x?x:{},throttledEvents:null!==(E=e.throttled_events)&&void 0!==E?E:[]}};case n.Status.Timeout:default:return{status:S,statusCode:k}}},e.prototype.buildStatus=function(e){return e>=200&&e<300?n.Status.Success:429===e?n.Status.RateLimit:413===e?n.Status.PayloadTooLarge:408===e?n.Status.Timeout:e>=400&&e<500?n.Status.Invalid:e>=500?n.Status.Failed:n.Status.Unknown},e}()}),o("i61Sx",function(t,r){e(t.exports,"getCookieName",()=>o),e(t.exports,"getOldCookieName",()=>s);var n=i("h5aTa"),o=function(e,t,r){return void 0===t&&(t=""),void 0===r&&(r=10),[(0,n.AMPLITUDE_PREFIX),t,e.substring(0,r)].filter(Boolean).join("_")},s=function(e){return"".concat((0,n.AMPLITUDE_PREFIX).toLowerCase(),"_").concat(e.substring(0,6))}}),o("7arF9",function(t,r){e(t.exports,"LocalStorage",()=>s);var n=i("6ZIu9"),o=i("dlKL3"),s=function(e){function t(t){var r,n=this;return(n=e.call(this,null===(r=(0,o.getGlobalScope)())||void 0===r?void 0:r.localStorage)||this).loggerProvider=null==t?void 0:t.loggerProvider,n}return(0,n.__extends)(t,e),t.prototype.set=function(t,r){var i;return(0,n.__awaiter)(this,void 0,void 0,function(){var o;return(0,n.__generator)(this,function(n){switch(n.label){case 0:if(!(Array.isArray(r)&&r.length>1e3))return[3,2];return o=r.length-1e3,[4,e.prototype.set.call(this,t,r.slice(0,1e3))];case 1:return n.sent(),null===(i=this.loggerProvider)||void 0===i||i.error("Failed to save ".concat(o," events because the queue length exceeded ").concat(1e3,".")),[3,4];case 2:return[4,e.prototype.set.call(this,t,r)];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t}(i("bUQnG").BrowserStorage)}),o("bUQnG",function(t,r){e(t.exports,"BrowserStorage",()=>o);var n=i("6ZIu9"),o=function(){function e(e){this.storage=e}return e.prototype.isEnabled=function(){return(0,n.__awaiter)(this,void 0,void 0,function(){var t,r,i;return(0,n.__generator)(this,function(n){switch(n.label){case 0:if(!this.storage)return[2,!1];t=String(Date.now()),r=new e(this.storage),i="AMP_TEST",n.label=1;case 1:return n.trys.push([1,4,5,7]),[4,r.set(i,t)];case 2:return n.sent(),[4,r.get(i)];case 3:return[2,n.sent()===t];case 4:return n.sent(),[2,!1];case 5:return[4,r.remove(i)];case 6:return n.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(e){return(0,n.__awaiter)(this,void 0,void 0,function(){var t;return(0,n.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:if(!(t=r.sent()))return[2,void 0];return[2,JSON.parse(t)];case 2:return r.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},e.prototype.getRaw=function(e){var t;return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(r){return[2,(null===(t=this.storage)||void 0===t?void 0:t.getItem(e))||void 0]})})},e.prototype.set=function(e,t){var r;return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(n){try{null===(r=this.storage)||void 0===r||r.setItem(e,JSON.stringify(t))}catch(e){}return[2]})})},e.prototype.remove=function(e){var t;return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(r){try{null===(t=this.storage)||void 0===t||t.removeItem(e)}catch(e){}return[2]})})},e.prototype.reset=function(){var e;return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(t){try{null===(e=this.storage)||void 0===e||e.clear()}catch(e){}return[2]})})},e}()}),o("THP5i",function(t,r){e(t.exports,"SessionStorage",()=>s);var n=i("6ZIu9"),o=i("dlKL3"),s=function(e){function t(){var t;return e.call(this,null===(t=(0,o.getGlobalScope)())||void 0===t?void 0:t.sessionStorage)||this}return(0,n.__extends)(t,e),t}(i("bUQnG").BrowserStorage)}),o("hwKw3",function(t,r){e(t.exports,"XHRTransport",()=>o);var n=i("6ZIu9"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={done:4},t}return(0,n.__extends)(t,e),t.prototype.send=function(e,t){return(0,n.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,n.__generator)(this,function(n){return[2,new Promise(function(n,i){"undefined"==typeof XMLHttpRequest&&i(Error("XHRTransport is not supported."));var o=new XMLHttpRequest;o.open("POST",e,!0),o.onreadystatechange=function(){if(o.readyState===r.state.done){var e=o.responseText;try{n(r.buildResponse(JSON.parse(e)))}catch(e){n(r.buildResponse({code:o.status}))}}},o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Accept","*/*"),o.send(JSON.stringify(t))})]})})},t}(i("ff7CA").BaseTransport)}),o("fz9DZ",function(t,r){e(t.exports,"SendBeaconTransport",()=>s);var n=i("6ZIu9"),o=i("dlKL3"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.__extends)(t,e),t.prototype.send=function(e,t){return(0,n.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,n.__generator)(this,function(n){return[2,new Promise(function(n,i){var s=(0,o.getGlobalScope)();if(!(null==s?void 0:s.navigator.sendBeacon))throw Error("SendBeaconTransport is not supported");try{var a=JSON.stringify(t);if(s.navigator.sendBeacon(e,JSON.stringify(t)))return n(r.buildResponse({code:200,events_ingested:t.events.length,payload_size_bytes:a.length,server_upload_time:Date.now()}));return n(r.buildResponse({code:500}))}catch(e){i(e)}})]})})},t}(i("ff7CA").BaseTransport)}),o("db6HB",function(t,r){e(t.exports,"parseLegacyCookies",()=>s);var n=i("6ZIu9"),o=i("i61Sx"),s=function(e,t,r){return void 0===r&&(r=!0),(0,n.__awaiter)(void 0,void 0,void 0,function(){var i,s,l,c,f,d,h,p,g;return(0,n.__generator)(this,function(v){switch(v.label){case 0:return i=(0,o.getOldCookieName)(e),[4,t.getRaw(i)];case 1:if(!(s=v.sent()))return[2,{optOut:!1}];if(!r)return[3,3];return[4,t.remove(i)];case 2:v.sent(),v.label=3;case 3:return c=(l=(0,n.__read)(s.split("."),6))[0],f=l[1],d=l[2],h=l[3],p=l[4],g=l[5],[2,{deviceId:c,userId:u(f),sessionId:a(h),lastEventId:a(g),lastEventTime:a(p),optOut:!!d}]}})})},a=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},u=function(e){if(atob&&escape&&e)try{return decodeURIComponent(escape(atob(e)))}catch(e){return}}}),o("kQlZ4",function(t,r){e(t.exports,"DEFAULT_FORM_START_EVENT",()=>i),e(t.exports,"DEFAULT_FORM_SUBMIT_EVENT",()=>o),e(t.exports,"DEFAULT_FILE_DOWNLOAD_EVENT",()=>s),e(t.exports,"DEFAULT_SESSION_START_EVENT",()=>a),e(t.exports,"DEFAULT_SESSION_END_EVENT",()=>u),e(t.exports,"FILE_EXTENSION",()=>l),e(t.exports,"FILE_NAME",()=>c),e(t.exports,"LINK_ID",()=>f),e(t.exports,"LINK_TEXT",()=>d),e(t.exports,"LINK_URL",()=>h),e(t.exports,"FORM_ID",()=>p),e(t.exports,"FORM_NAME",()=>g),e(t.exports,"FORM_DESTINATION",()=>v),e(t.exports,"DEFAULT_IDENTITY_STORAGE",()=>_),e(t.exports,"DEFAULT_SERVER_ZONE",()=>y);var n="[Amplitude]",i="".concat(n," Form Started"),o="".concat(n," Form Submitted"),s="".concat(n," File Downloaded"),a="session_start",u="session_end",l="".concat(n," File Extension"),c="".concat(n," File Name"),f="".concat(n," Link ID"),d="".concat(n," Link Text"),h="".concat(n," Link URL"),p="".concat(n," Form ID"),g="".concat(n," Form Name"),v="".concat(n," Form Destination"),_="cookie",y="US"}),o("9asah",function(t,r){e(t.exports,"pageViewTrackingPlugin",()=>c);var n=i("6ZIu9"),o=i("8C3uR"),s=i("7Fxgd"),a=i("dlKL3"),u=i("kzN5F"),l=i("eRcWp"),c=function(e){void 0===e&&(e={});var t,r,i=(0,a.getGlobalScope)(),o=void 0,s=!1,u=e.trackOn,l=e.trackHistoryChanges,c=e.eventType,p=void 0===c?"[Amplitude] Page Viewed":c,g=function(e){var t=e;try{t=decodeURI(e)}catch(e){null==o||o.error("Malformed URI sequence: ",e)}return t},v=function(){return(0,n.__awaiter)(void 0,void 0,void 0,function(){var e,t,r;return(0,n.__generator)(this,function(i){switch(i.label){case 0:return e=g("undefined"!=typeof location&&location.href||""),r={event_type:p},t=[{}],[4,f()];case 1:return[2,(r.event_properties=(0,n.__assign).apply(void 0,[(0,n.__assign).apply(void 0,t.concat([i.sent()])),{"[Amplitude] Page Domain":"undefined"!=typeof location&&location.hostname||"","[Amplitude] Page Location":e,"[Amplitude] Page Path":"undefined"!=typeof location&&g(location.pathname)||"","[Amplitude] Page Title":"undefined"!=typeof document&&document.title||"","[Amplitude] Page URL":e.split("?")[0]}]),r)]}})})},_=function(){return void 0===u||"function"==typeof u&&u()},y="undefined"!=typeof location?location.href:null,m=function(){return(0,n.__awaiter)(void 0,void 0,void 0,function(){var e,r,i,s;return(0,n.__generator)(this,function(n){switch(n.label){case 0:if(r=h(l,e=location.href,y||"")&&_(),y=e,!r)return[3,4];if(null==o||o.log("Tracking page view event"),null!=t)return[3,1];return[3,3];case 1:return s=(i=t).track,[4,v()];case 2:s.apply(i,[n.sent()]),n.label=3;case 3:n.label=4;case 4:return[2]}})})},b=function(){m()};return{name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(e,a){return(0,n.__awaiter)(void 0,void 0,void 0,function(){var u,l;return(0,n.__generator)(this,function(c){switch(c.label){case 0:if(t=a,r=e,(o=e.loggerProvider).log("Installing @amplitude/plugin-page-view-tracking-browser"),s=!0,i&&(i.addEventListener("popstate",b),i.history.pushState=new Proxy(i.history.pushState,{apply:function(e,t,r){var i=(0,n.__read)(r,3),o=i[0],a=i[1],u=i[2];e.apply(t,[o,a,u]),s&&m()}})),!_())return[3,2];return o.log("Tracking page view event"),l=(u=t).track,[4,v()];case 1:l.apply(u,[c.sent()]),c.label=2;case 2:return[2]}})})},execute:function(e){return(0,n.__awaiter)(void 0,void 0,void 0,function(){var t;return(0,n.__generator)(this,function(i){switch(i.label){case 0:if(!("attribution"===u&&d(e)))return[3,2];return null==o||o.log("Enriching campaign event to page view event with campaign parameters"),[4,v()];case 1:t=i.sent(),e.event_type=t.event_type,e.event_properties=(0,n.__assign)((0,n.__assign)({},e.event_properties),t.event_properties),i.label=2;case 2:return r&&e.event_type===p&&(r.pageCounter=r.pageCounter?r.pageCounter+1:1,e.event_properties=(0,n.__assign)((0,n.__assign)({},e.event_properties),{"[Amplitude] Page Counter":r.pageCounter})),[2,e]}})})},teardown:function(){return(0,n.__awaiter)(void 0,void 0,void 0,function(){return(0,n.__generator)(this,function(e){return i&&(i.removeEventListener("popstate",b),s=!1),[2]})})}}},f=function(){return(0,n.__awaiter)(void 0,void 0,void 0,function(){var e;return(0,n.__generator)(this,function(t){switch(t.label){case 0:return e=l.omitUndefined,[4,new(0,s.CampaignParser)().parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}})})},d=function(e){if("$identify"===e.event_type&&e.user_properties){var t=e.user_properties,r=t[u.IdentifyOperation.SET]||{},i=t[u.IdentifyOperation.UNSET]||{},s=(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(Object.keys(r)),!1),(0,n.__read)(Object.keys(i)),!1);return Object.keys(o.BASE_CAMPAIGN).every(function(e){return s.includes(e)})}return!1},h=function(e,t,r){if("pathOnly"===e){if(""==r)return!0;var n=new URL(t),i=new URL(r);return n.origin+n.pathname!==i.origin+i.pathname}return t!==r}}),o("kzN5F",function(t,r){var n,i,o,s,a,u;e(t.exports,"IdentifyOperation",()=>n),(s=n||(n={})).SET="$set",s.SET_ONCE="$setOnce",s.ADD="$add",s.APPEND="$append",s.PREPEND="$prepend",s.REMOVE="$remove",s.PREINSERT="$preInsert",s.POSTINSERT="$postInsert",s.UNSET="$unset",s.CLEAR_ALL="$clearAll",(a=i||(i={})).REVENUE_PRODUCT_ID="$productId",a.REVENUE_QUANTITY="$quantity",a.REVENUE_PRICE="$price",a.REVENUE_TYPE="$revenueType",a.REVENUE_CURRENCY="$currency",a.REVENUE="$revenue",(u=o||(o={})).IDENTIFY="$identify",u.GROUP_IDENTIFY="$groupidentify",u.REVENUE="revenue_amount"}),o("eRcWp",function(t,r){e(t.exports,"omitUndefined",()=>n);var n=function(e){var t={};for(var r in e){var n=e[r];n&&(t[r]=n)}return t}}),o("ld5D7",function(t,r){e(t.exports,"formInteractionTracking",()=>a);var n=i("6ZIu9"),o=i("kQlZ4"),s=i("dlKL3"),a=function(){var e,t=[],r=function(e,r,n){e.addEventListener(r,n),t.push({element:e,type:r,handler:n})},i=function(){t.forEach(function(e){var t=e.element,r=e.type,n=e.handler;null==t||t.removeEventListener(r,n)}),t=[]};return{name:"@amplitude/plugin-form-interaction-tracking-browser",type:"enrichment",setup:function(t,i){return(0,n.__awaiter)(void 0,void 0,void 0,function(){var a;return(0,n.__generator)(this,function(n){return null===(a=(0,s.getGlobalScope)())||void 0===a||a.addEventListener("load",function(){if(!i){t.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if("undefined"!=typeof document){var n=function(e){var t=!1;r(e,"change",function(){var r;t||i.track(o.DEFAULT_FORM_START_EVENT,((r={})[o.FORM_ID]=u(e.id),r[o.FORM_NAME]=u(e.name),r[o.FORM_DESTINATION]=e.action,r)),t=!0}),r(e,"submit",function(){var r,n;t||i.track(o.DEFAULT_FORM_START_EVENT,((r={})[o.FORM_ID]=u(e.id),r[o.FORM_NAME]=u(e.name),r[o.FORM_DESTINATION]=e.action,r)),i.track(o.DEFAULT_FORM_SUBMIT_EVENT,((n={})[o.FORM_ID]=u(e.id),n[o.FORM_NAME]=u(e.name),n[o.FORM_DESTINATION]=e.action,n)),t=!1})};Array.from(document.getElementsByTagName("form")).forEach(n),"undefined"!=typeof MutationObserver&&(e=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){"FORM"===e.nodeName&&n(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("form")).map(n)})})})).observe(document.body,{subtree:!0,childList:!0})}}),[2]})})},execute:function(e){return(0,n.__awaiter)(void 0,void 0,void 0,function(){return(0,n.__generator)(this,function(t){return[2,e]})})},teardown:function(){return(0,n.__awaiter)(void 0,void 0,void 0,function(){return(0,n.__generator)(this,function(t){return null==e||e.disconnect(),i(),[2]})})}}},u=function(e){if("string"==typeof e)return e}}),o("5HVVt",function(t,r){e(t.exports,"fileDownloadTracking",()=>a);var n=i("6ZIu9"),o=i("kQlZ4"),s=i("dlKL3"),a=function(){var e,t=[],r=function(e,r,n){e.addEventListener(r,n),t.push({element:e,type:r,handler:n})},i=function(){t.forEach(function(e){var t=e.element,r=e.type,n=e.handler;null==t||t.removeEventListener(r,n)}),t=[]};return{name:"@amplitude/plugin-file-download-tracking-browser",type:"enrichment",setup:function(t,i){return(0,n.__awaiter)(void 0,void 0,void 0,function(){var a;return(0,n.__generator)(this,function(n){return null===(a=(0,s.getGlobalScope)())||void 0===a||a.addEventListener("load",function(){if(!i){t.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if("undefined"!=typeof document){var n=function(e){try{t=new URL(e.href,window.location.href)}catch(e){return}var t,n=s.exec(t.href),a=null==n?void 0:n[1];a&&r(e,"click",function(){var r;a&&i.track(o.DEFAULT_FILE_DOWNLOAD_EVENT,((r={})[o.FILE_EXTENSION]=a,r[o.FILE_NAME]=t.pathname,r[o.LINK_ID]=e.id,r[o.LINK_TEXT]=e.text,r[o.LINK_URL]=e.href,r))})},s=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/;Array.from(document.getElementsByTagName("a")).forEach(n),"undefined"!=typeof MutationObserver&&(e=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){"A"===e.nodeName&&n(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("a")).map(n)})})})).observe(document.body,{subtree:!0,childList:!0})}}),[2]})})},execute:function(e){return(0,n.__awaiter)(void 0,void 0,void 0,function(){return(0,n.__generator)(this,function(t){return[2,e]})})},teardown:function(){return(0,n.__awaiter)(void 0,void 0,void 0,function(){return(0,n.__generator)(this,function(t){return null==e||e.disconnect(),i(),[2]})})}}}}),o("cYwRO",function(t,r){e(t.exports,"detNotify",()=>i);var n=!1,i=function(e){n||void 0!==e.defaultTracking||(e.loggerProvider.warn("`options.defaultTracking` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to `options.defaultTracking`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:\n\namplitude.init(<YOUR_API_KEY>, {\n  defaultTracking: true,\n});\n\nVisit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details."),n=!0)}}),o("lmtp4",function(t,r){e(t.exports,"networkConnectivityCheckerPlugin",()=>s);var n=i("6ZIu9"),o=i("dlKL3"),s=function(){var e=(0,o.getGlobalScope)(),t=[],r=function(r,n){e&&(e.addEventListener(r,n),t.push({type:r,handler:n}))},i=function(){t.forEach(function(t){var r=t.type,n=t.handler;e&&e.removeEventListener(r,n)}),t=[]};return{name:"@amplitude/plugin-network-checker-browser",type:"before",setup:function(e,t){return(0,n.__awaiter)(void 0,void 0,void 0,function(){return(0,n.__generator)(this,function(n){return e.offline=!navigator.onLine,r("online",function(){e.loggerProvider.debug("Network connectivity changed to online."),e.offline=!1,setTimeout(function(){t.flush()},e.flushIntervalMillis)}),r("offline",function(){e.loggerProvider.debug("Network connectivity changed to offline."),e.offline=!0}),[2]})})},teardown:function(){return(0,n.__awaiter)(void 0,void 0,void 0,function(){return(0,n.__generator)(this,function(e){return i(),[2]})})}}}}),o("I9hij",function(e,t){var r=e.exports&&e.exports.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=e.exports&&e.exports.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.StatsigClient=void 0;var o=i("9osPj");e.exports.StatsigClient=o.default,n(i("64Xml"),e.exports);let s=Object.assign((0,i("64Xml")._getStatsigGlobal)(),{StatsigClient:o.default});e.exports.default=s}),o("64Xml",function(e,t){var r=e.exports&&e.exports.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=e.exports&&e.exports.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Storage=e.exports.Log=e.exports.EventLogger=e.exports.Diagnostics=void 0,Object.defineProperty(e.exports,"Diagnostics",{enumerable:!0,get:function(){return i("fEJEh").Diagnostics}});var o=i("fwu8o");Object.defineProperty(e.exports,"EventLogger",{enumerable:!0,get:function(){return o.EventLogger}}),Object.defineProperty(e.exports,"Log",{enumerable:!0,get:function(){return i("3PwaX").Log}}),Object.defineProperty(e.exports,"Storage",{enumerable:!0,get:function(){return i("h3ely").Storage}}),n(i("5wRKw"),e.exports),n(i("h0ncH"),e.exports),n(i("cBIWs"),e.exports),n(i("h1LU2"),e.exports),n(i("fEJEh"),e.exports),n(i("aRkwj"),e.exports),n(i("mh7Z7"),e.exports),n(i("5XNup"),e.exports),n(i("4iW9q"),e.exports),n(i("ikhuN"),e.exports),n(i("8guxu"),e.exports),n(i("3PwaX"),e.exports),n(i("70dIf"),e.exports),n(i("dlTXI"),e.exports),n(i("jZBRI"),e.exports),n(i("ixWg9"),e.exports),n(i("6AJqt"),e.exports),n(i("4eDfO"),e.exports),n(i("cyIUp"),e.exports),n(i("akcer"),e.exports),n(i("g3HHu"),e.exports),n(i("lKWKO"),e.exports),n(i("jJAfe"),e.exports),n(i("01SDe"),e.exports),n(i("gBim9"),e.exports),n(i("fg8Pm"),e.exports),n(i("l8JPg"),e.exports),n(i("kbj0k"),e.exports),n(i("7SE71"),e.exports),n(i("aovvf"),e.exports),n(i("geZHh"),e.exports),n(i("h3ely"),e.exports),n(i("igC2e"),e.exports),n(i("7aLiB"),e.exports),n(i("l1TVf"),e.exports),n(i("6jVRM"),e.exports),n(i("j7FNz"),e.exports),n(i("g78sM"),e.exports),n(i("6sGO2"),e.exports),Object.assign((0,i("5wRKw")._getStatsigGlobal)(),{Log:i("3PwaX").Log,SDK_VERSION:i("fg8Pm").SDK_VERSION})}),o("5wRKw",function(e,r){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports._getInstance=e.exports._getStatsigGlobalFlag=e.exports._getStatsigGlobal=void 0;var n,o,s,a=i("3PwaX");e.exports._getStatsigGlobal=()=>{try{return"undefined"!=typeof __STATSIG__?__STATSIG__:d}catch(e){return d}},e.exports._getStatsigGlobalFlag=t=>(0,e.exports._getStatsigGlobal)()[t],e.exports._getInstance=t=>{let r=(0,e.exports._getStatsigGlobal)();return t?r.instances&&r.instances[t]:(r.instances&&Object.keys(r.instances).length>1&&a.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),r.firstInstance)};let u="__STATSIG__",l="undefined"!=typeof window?window:{},c=void 0!==t?t:{},f="undefined"!=typeof globalThis?globalThis:{},d=null!==(s=null!==(o=null!==(n=l[u])&&void 0!==n?n:c[u])&&void 0!==o?o:f[u])&&void 0!==s?s:{instance:e.exports._getInstance};l[u]=d,c[u]=d,f[u]=d}),o("3PwaX",function(e,t){function r(e){return e.unshift("[Statsig]"),e}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Log=e.exports.LogLevel=void 0,e.exports.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class n{static info(...t){n.level>=e.exports.LogLevel.Info&&console.info("  INFO ",...r(t))}static debug(...t){n.level>=e.exports.LogLevel.Debug&&console.debug(" DEBUG ",...r(t))}static warn(...t){n.level>=e.exports.LogLevel.Warn&&console.warn("  WARN ",...r(t))}static error(...t){n.level>=e.exports.LogLevel.Error&&console.error(" ERROR ",...r(t))}}e.exports.Log=n,n.level=e.exports.LogLevel.Warn}),o("fEJEh",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Diagnostics=void 0;let r=new Map,n="start";function i(e,t,r,n){return Object.assign({key:r,action:t,step:n,timestamp:Date.now()},e)}function o(e,t){var n;let i=null!==(n=r.get(e))&&void 0!==n?n:[];i.push(t),r.set(e,i)}function s(e,t){if(t in e)return e[t]}e.exports.Diagnostics={_getMarkers:e=>r.get(e),_markInitOverallStart:e=>{o(e,i({},n,"overall"))},_markInitOverallEnd:(e,t,r)=>{o(e,i({success:t,error:t?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:r},"end","overall"))},_markInitNetworkReqStart:(e,t)=>{o(e,i(t,n,"initialize","network_request"))},_markInitNetworkReqEnd:(e,t)=>{o(e,i(t,"end","initialize","network_request"))},_markInitProcessStart:e=>{o(e,i({},n,"initialize","process"))},_markInitProcessEnd:(e,t)=>{o(e,i(t,"end","initialize","process"))},_clearMarkers:e=>{r.delete(e)},_formatError(e){if(e&&"object"==typeof e)return{code:s(e,"code"),name:s(e,"name"),message:s(e,"message")}},_getDiagnosticsData(t,r,n,i){var o;return{success:(null==t?void 0:t.ok)===!0,statusCode:null==t?void 0:t.status,sdkRegion:null===(o=null==t?void 0:t.headers)||void 0===o?void 0:o.get("x-statsig-region"),isDelta:!0===n.includes('"is_delta":true')||void 0,attempt:r,error:e.exports.Diagnostics._formatError(i)}},_enqueueDiagnosticsEvent(t,r,n,i){let o=e.exports.Diagnostics._getMarkers(n);if(null==o||o.length<=0)return -1;let s=o[o.length-1].timestamp-o[0].timestamp;e.exports.Diagnostics._clearMarkers(n);let a={eventName:"statsig::diagnostics",user:t,value:null,metadata:{context:"initialize",markers:o.slice(),statsigOptions:i},time:Date.now()};return r.enqueue(a),s}}}),o("fwu8o",function(e,t){var r=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EventLogger=void 0;var n=i("h0ncH"),o=i("ikhuN"),s=i("3PwaX"),a=i("dlTXI"),u=i("4eDfO"),l=i("gBim9"),c=i("l8JPg"),f=i("h3ely"),d=i("l1TVf"),h=i("j7FNz");let p={},g={Startup:"startup",GainedFocus:"gained_focus"};class v{static _safeFlushAndForget(e){var t;null===(t=p[e])||void 0===t||t.flush().catch(()=>{})}static _safeRetryFailedLogs(e){var t;null===(t=p[e])||void 0===t||t._retryFailedLogs(g.GainedFocus)}constructor(e,t,r,n){var i,o;this._sdkKey=e,this._emitter=t,this._network=r,this._options=n,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._loggingEnabled=null!==(i=null==n?void 0:n.loggingEnabled)&&void 0!==i?i:(null==n?void 0:n.disableLogging)===!0?c.LoggingEnabledOption.disabled:c.LoggingEnabledOption.browserOnly,(null==n?void 0:n.loggingEnabled)&&void 0!==n.disableLogging&&s.Log.warn("Detected both loggingEnabled and disableLogging options. loggingEnabled takes precedence - please remove disableLogging."),this._maxQueueSize=null!==(o=null==n?void 0:n.loggingBufferMaxSize)&&void 0!==o?o:100;let u=null==n?void 0:n.networkConfig;this._logEventUrlConfig=new d.UrlConfiguration(a.Endpoint._rgstr,null==u?void 0:u.logEventUrl,null==u?void 0:u.api,null==u?void 0:u.logEventFallbackUrls)}setLogEventCompressionMode(e){this._network.setLogEventCompressionMode(e)}setLoggingEnabled(e){this._loggingEnabled=e}enqueue(e){this._shouldLogEvent(e)&&(this._normalizeAndAppendEvent(e),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&v._safeFlushAndForget(this._sdkKey))}incrementNonExposureCount(e){var t;let r=null!==(t=this._nonExposedChecks[e])&&void 0!==t?t:0;this._nonExposedChecks[e]=r+1}reset(){this._lastExposureTimeMap={}}start(){var e;let t=(0,u._isServerEnv)();t&&(null===(e=this._options)||void 0===e?void 0:e.loggingEnabled)!=="always"||(p[this._sdkKey]=this,t||(0,h._subscribeToVisiblityChanged)(e=>{"background"===e?v._safeFlushAndForget(this._sdkKey):"foreground"===e&&v._safeRetryFailedLogs(this._sdkKey)}),this._retryFailedLogs(g.Startup),this._startBackgroundFlushInterval())}stop(){return r(this,void 0,void 0,function*(){this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete p[this._sdkKey],yield this.flush()})}flush(){return r(this,void 0,void 0,function*(){if(this._appendAndResetNonExposedChecks(),0===this._queue.length)return;let e=this._queue;this._queue=[],yield this._sendEvents(e)})}_quickFlushIfNeeded(){!this._hasRunQuickFlush&&(this._hasRunQuickFlush=!0,Date.now()-this._creationTime>200||setTimeout(()=>v._safeFlushAndForget(this._sdkKey),200))}_shouldLogEvent(e){var t;if((null===(t=this._options)||void 0===t?void 0:t.loggingEnabled)!=="always"&&(0,u._isServerEnv)())return!1;if(!(0,l._isExposureEvent)(e))return!0;let r=e.user?e.user:{statsigEnvironment:void 0},i=(0,n._getUserStorageKey)(this._sdkKey,r),o=e.metadata?e.metadata:{},s=[e.eventName,i,o.gate,o.config,o.ruleID,o.allocatedExperiment,o.parameterName,String(o.isExplicitParameter),o.reason].join("|"),a=this._lastExposureTimeMap[s],c=Date.now();return(!a||!(c-a<6e5))&&(Object.keys(this._lastExposureTimeMap).length>1e3&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[s]=c,!0)}_sendEvents(e){var t,n;return r(this,void 0,void 0,function*(){if("disabled"===this._loggingEnabled)return this._saveFailedLogsToStorage(e),!1;try{let r=(0,h._isUnloading)()&&this._network.isBeaconSupported()&&(null===(n=null===(t=this._options)||void 0===t?void 0:t.networkConfig)||void 0===n?void 0:n.networkOverrideFunc)==null;if(this._emitter({name:"pre_logs_flushed",events:e}),(r?yield this._sendEventsViaBeacon(e):yield this._sendEventsViaPost(e)).success)return this._emitter({name:"logs_flushed",events:e}),!0;return s.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(e),!1}catch(e){return s.Log.warn("Failed to flush events."),!1}})}_sendEventsViaPost(e){var t;return r(this,void 0,void 0,function*(){let r=yield this._network.post(this._getRequestData(e)),n=null!==(t=null==r?void 0:r.code)&&void 0!==t?t:-1;return{success:n>=200&&n<300}})}_sendEventsViaBeacon(e){return r(this,void 0,void 0,function*(){return{success:yield this._network.beacon(this._getRequestData(e))}})}_getRequestData(e){return{sdkKey:this._sdkKey,data:{events:e},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:{[a.NetworkParam.EventCount]:String(e.length)},credentials:"same-origin"}}_saveFailedLogsToStorage(e){for(;e.length>500;)e.shift();let t=this._getStorageKey();try{(0,f._setObjectInStorage)(t,e)}catch(e){s.Log.warn("Unable to save failed logs to storage")}}_retryFailedLogs(e){let t=this._getStorageKey();r(this,void 0,void 0,function*(){f.Storage.isReady()||(yield f.Storage.isReadyResolver());let r=(0,f._getObjectFromStorage)(t);r&&(e===g.Startup&&f.Storage.removeItem(t),(yield this._sendEvents(r))&&e===g.GainedFocus&&f.Storage.removeItem(t))}).catch(()=>{s.Log.warn("Failed to flush stored logs")})}_getStorageKey(){return`statsig.failed_logs.${(0,o._DJB2)(this._sdkKey)}`}_normalizeAndAppendEvent(e){e.user&&(e.user=Object.assign({},e.user),delete e.user.privateAttributes);let t={},r=this._getCurrentPageUrl();r&&(t.statsigMetadata={currentPage:r});let n=Object.assign(Object.assign({},e),t);s.Log.debug("Enqueued Event:",n),this._queue.push(n)}_appendAndResetNonExposedChecks(){0!==Object.keys(this._nonExposedChecks).length&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}_getCurrentPageUrl(){var e;if((null===(e=this._options)||void 0===e?void 0:e.includeCurrentPageUrlWithEvents)!==!1)return(0,u._getCurrentPageUrlSafe)()}_startBackgroundFlushInterval(){var e,t;let r=setInterval(()=>{let e=p[this._sdkKey];e&&e._flushIntervalId===r?v._safeFlushAndForget(this._sdkKey):clearInterval(r)},null!==(t=null===(e=this._options)||void 0===e?void 0:e.loggingIntervalMs)&&void 0!==t?t:1e4);this._flushIntervalId=r}}e.exports.EventLogger=v}),o("h0ncH",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports._getStorageKey=e.exports._getUserStorageKey=void 0;var r=i("ikhuN");function n(e,t,n){var i;if(n)return n(e,t);let o=t&&t.customIDs?t.customIDs:{},s=[`uid:${null!==(i=null==t?void 0:t.userID)&&void 0!==i?i:""}`,`cids:${Object.keys(o).sort((e,t)=>e.localeCompare(t)).map(e=>`${e}-${o[e]}`).join(",")}`,`k:${e}`];return(0,r._DJB2)(s.join("|"))}e.exports._getUserStorageKey=n,e.exports._getStorageKey=function(e,t,i){return t?n(e,t,i):(0,r._DJB2)(`k:${e}`)}}),o("ikhuN",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports._getSortedObject=e.exports._DJB2Object=e.exports._DJB2=void 0;var r=i("7aLiB");e.exports._DJB2=e=>{let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return String(t>>>0)},e.exports._DJB2Object=(t,r)=>(0,e.exports._DJB2)(JSON.stringify((0,e.exports._getSortedObject)(t,r))),e.exports._getSortedObject=(t,n)=>{if(null==t)return null;let i=Object.keys(t).sort(),o={};return i.forEach(i=>{let s=t[i];if(0===n||"object"!==(0,r._typeOf)(s)){o[i]=s;return}o[i]=(0,e.exports._getSortedObject)(s,null!=n?n-1:n)}),o}}),o("7aLiB",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports._isTypeMatch=e.exports._typeOf=void 0,e.exports._typeOf=function(e){return Array.isArray(e)?"array":typeof e},e.exports._isTypeMatch=function(e,t){let r=e=>Array.isArray(e)?"array":typeof e;return r(e)===r(t)}}),o("dlTXI",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.NetworkParam=e.exports.NetworkDefault=e.exports.Endpoint=void 0,e.exports.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},e.exports.NetworkDefault={[e.exports.Endpoint._rgstr]:"https://prodregistryv2.org/v1",[e.exports.Endpoint._initialize]:"https://featureassets.org/v1",[e.exports.Endpoint._download_config_specs]:"https://api.statsigcdn.com/v1"},e.exports.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}}),o("4eDfO",function(e,t){var r=i("hMeHK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports._getUnloadEvent=e.exports._getCurrentPageUrlSafe=e.exports._addDocumentEventListenerSafe=e.exports._addWindowEventListenerSafe=e.exports._isServerEnv=e.exports._getDocumentSafe=e.exports._getWindowSafe=void 0,e.exports._getWindowSafe=()=>"undefined"!=typeof window?window:null,e.exports._getDocumentSafe=()=>{var t;let r=(0,e.exports._getWindowSafe)();return null!==(t=null==r?void 0:r.document)&&void 0!==t?t:null},e.exports._isServerEnv=()=>{if(null!==(0,e.exports._getDocumentSafe)())return!1;let t=void 0!==r&&null!=r.versions&&null!=r.versions.node;return"string"==typeof EdgeRuntime||t},e.exports._addWindowEventListenerSafe=(t,r)=>{let n=(0,e.exports._getWindowSafe)();"function"==typeof(null==n?void 0:n.addEventListener)&&n.addEventListener(t,r)},e.exports._addDocumentEventListenerSafe=(t,r)=>{let n=(0,e.exports._getDocumentSafe)();"function"==typeof(null==n?void 0:n.addEventListener)&&n.addEventListener(t,r)},e.exports._getCurrentPageUrlSafe=()=>{var t;try{return null===(t=(0,e.exports._getWindowSafe)())||void 0===t?void 0:t.location.href.split(/[?#]/)[0]}catch(e){return}},e.exports._getUnloadEvent=()=>{let t=(0,e.exports._getWindowSafe)();return t&&"onpagehide"in t?"pagehide":"beforeunload"}}),o("hMeHK",function(e,t){var r,n,i,o=e.exports={};function s(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l=[],c=!1,f=-1;function d(){c&&i&&(c=!1,i.length?l=i.concat(l):f=-1,l.length&&h())}function h(){if(!c){var e=u(d);c=!0;for(var t=l.length;t;){for(i=l,l=[];++f<t;)i&&i[f].run();f=-1,t=l.length}i=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||c||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}),o("gBim9",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports._createLayerParameterExposure=e.exports._createConfigExposure=e.exports._mapExposures=e.exports._createGateExposure=e.exports._isExposureEvent=void 0;let r="statsig::config_exposure",n="statsig::gate_exposure",i="statsig::layer_exposure",o=(e,t,r,n,i)=>(r.bootstrapMetadata&&(n.bootstrapMetadata=r.bootstrapMetadata),{eventName:e,user:t,value:null,metadata:a(r,n),secondaryExposures:i,time:Date.now()});function s(e,t){return e.map(e=>"string"==typeof e?(null!=t?t:{})[e]:e).filter(e=>null!=e)}e.exports._isExposureEvent=({eventName:e})=>e===n||e===r||e===i,e.exports._createGateExposure=(e,t,r)=>{var i,a,u;let l={gate:t.name,gateValue:String(t.value),ruleID:t.ruleID};return(null===(i=t.__evaluation)||void 0===i?void 0:i.version)!=null&&(l.configVersion=t.__evaluation.version),o(n,e,t.details,l,s(null!==(u=null===(a=t.__evaluation)||void 0===a?void 0:a.secondary_exposures)&&void 0!==u?u:[],r))},e.exports._mapExposures=s,e.exports._createConfigExposure=(e,t,n)=>{var i,a,u,l;let c={config:t.name,ruleID:t.ruleID};return(null===(i=t.__evaluation)||void 0===i?void 0:i.version)!=null&&(c.configVersion=t.__evaluation.version),(null===(a=t.__evaluation)||void 0===a?void 0:a.passed)!=null&&(c.rulePassed=String(t.__evaluation.passed)),o(r,e,t.details,c,s(null!==(l=null===(u=t.__evaluation)||void 0===u?void 0:u.secondary_exposures)&&void 0!==l?l:[],n))},e.exports._createLayerParameterExposure=(e,t,r,n)=>{var a,u,l,c,f,d;let h=t.__evaluation,p=(null===(a=null==h?void 0:h.explicit_parameters)||void 0===a?void 0:a.includes(r))===!0,g="",v=null!==(u=null==h?void 0:h.undelegated_secondary_exposures)&&void 0!==u?u:[];p&&(g=null!==(l=h.allocated_experiment_name)&&void 0!==l?l:"",v=h.secondary_exposures);let _=null===(c=t.__evaluation)||void 0===c?void 0:c.parameter_rule_ids,y={config:t.name,parameterName:r,ruleID:null!==(f=null==_?void 0:_[r])&&void 0!==f?f:t.ruleID,allocatedExperiment:g,isExplicitParameter:String(p)};return(null===(d=t.__evaluation)||void 0===d?void 0:d.version)!=null&&(y.configVersion=t.__evaluation.version),o(i,e,t.details,y,s(v,n))};let a=(e,t)=>(t.reason=e.reason,e.lcut&&(t.lcut=String(e.lcut)),e.receivedAt&&(t.receivedAt=String(e.receivedAt)),t)}),o("l8JPg",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.LoggingEnabledOption=e.exports.LogEventCompressionMode=void 0,e.exports.LogEventCompressionMode={Disabled:"d",Enabled:"e",Forced:"f"},e.exports.LoggingEnabledOption={disabled:"disabled",browserOnly:"browser-only",always:"always"}}),o("h3ely",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports._setObjectInStorage=e.exports._getObjectFromStorage=e.exports.Storage=void 0;var r=i("3PwaX"),n=i("4eDfO");let o={},s={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:e=>o[e]?o[e]:null,setItem:(e,t)=>{o[e]=t},removeItem:e=>{delete o[e]},getAllKeys:()=>Object.keys(o)},a=null;try{let e=(0,n._getWindowSafe)();e&&e.localStorage&&"function"==typeof e.localStorage.getItem&&(a={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:t=>e.localStorage.getItem(t),setItem:(t,r)=>e.localStorage.setItem(t,r),removeItem:t=>e.localStorage.removeItem(t),getAllKeys:()=>Object.keys(e.localStorage)})}catch(e){r.Log.warn("Failed to setup localStorageProvider.")}let u=null!=a?a:s,l=u;function c(t){try{return t()}catch(t){if(t instanceof Error&&"SecurityError"===t.name)return e.exports.Storage._setProvider(s),null;if(t instanceof Error&&"QuotaExceededError"===t.name){let r=e.exports.Storage.getAllKeys().filter(e=>e.startsWith("statsig."));t.message=`${t.message}. Statsig Keys: ${r.length}`}throw t}}e.exports.Storage={isReady:()=>l.isReady(),isReadyResolver:()=>l.isReadyResolver(),getProviderName:()=>l.getProviderName(),getItem:e=>c(()=>l.getItem(e)),setItem:(e,t)=>c(()=>l.setItem(e,t)),removeItem:e=>l.removeItem(e),getAllKeys:()=>l.getAllKeys(),_setProvider:e=>{u=e,l=e},_setDisabled:e=>{l=e?s:u}},e.exports._getObjectFromStorage=function(t){let r=e.exports.Storage.getItem(t);return JSON.parse(null!=r?r:"null")},e.exports._setObjectInStorage=function(t,r){e.exports.Storage.setItem(t,JSON.stringify(r))}}),o("l1TVf",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.UrlConfiguration=void 0;var r=i("ikhuN"),n=i("dlTXI");let o={[n.Endpoint._initialize]:"i",[n.Endpoint._rgstr]:"e",[n.Endpoint._download_config_specs]:"d"};e.exports.UrlConfiguration=class{constructor(e,t,r,i){this.customUrl=null,this.fallbackUrls=null,this.endpoint=e,this.endpointDnsKey=o[e],t&&(this.customUrl=t),!t&&r&&(this.customUrl=r.endsWith("/")?`${r}${e}`:`${r}/${e}`),i&&(this.fallbackUrls=i);let s=n.NetworkDefault[e];this.defaultUrl=`${s}/${e}`}getUrl(){var e;return null!==(e=this.customUrl)&&void 0!==e?e:this.defaultUrl}getChecksum(){var e;let t=(null!==(e=this.fallbackUrls)&&void 0!==e?e:[]).sort().join(",");return(0,r._DJB2)(this.customUrl+t)}}}),o("j7FNz",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports._notifyVisibilityChanged=e.exports._subscribeToVisiblityChanged=e.exports._isUnloading=e.exports._isCurrentlyVisible=void 0;var r=i("4eDfO");let n="foreground",o="background",s=[],a=n,u=!1;e.exports._isCurrentlyVisible=()=>a===n,e.exports._isUnloading=()=>u,e.exports._subscribeToVisiblityChanged=e=>{s.unshift(e)},e.exports._notifyVisibilityChanged=e=>{e!==a&&(a=e,s.forEach(t=>t(e)))},(0,r._addWindowEventListenerSafe)("focus",()=>{u=!1,(0,e.exports._notifyVisibilityChanged)(n)}),(0,r._addWindowEventListenerSafe)("blur",()=>(0,e.exports._notifyVisibilityChanged)(o)),(0,r._addDocumentEventListenerSafe)("visibilitychange",()=>{(0,e.exports._notifyVisibilityChanged)("visible"===document.visibilityState?n:o)}),(0,r._addWindowEventListenerSafe)((0,r._getUnloadEvent)(),()=>{u=!0,(0,e.exports._notifyVisibilityChanged)(o)})}),o("fg8Pm",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.StatsigMetadataProvider=e.exports.SDK_VERSION=void 0,e.exports.SDK_VERSION="3.17.1";let r={sdkVersion:e.exports.SDK_VERSION,sdkType:"js-mono"};e.exports.StatsigMetadataProvider={get:()=>r,add:e=>{r=Object.assign(Object.assign({},r),e)}}}),o("cBIWs",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})}),o("h1LU2",function(e,t){var r=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports._makeDataAdapterResult=e.exports.DataAdapterCore=void 0;var n=i("3PwaX"),o=i("g3HHu"),s=i("geZHh"),a=i("h3ely"),u=i("igC2e");function l(e,t,r,n){return{source:e,data:t,receivedAt:Date.now(),stableID:r,fullUserHash:(0,s._getFullUserHash)(n)}}e.exports.DataAdapterCore=class{constructor(e,t){this._adapterName=e,this._cacheSuffix=t,this._options=null,this._sdkKey=null,this._lastModifiedStoreKey=`statsig.last_modified_time.${t}`,this._inMemoryCache=new c}attach(e,t,r){this._sdkKey=e,this._options=t}getDataSync(e){let t=e&&(0,s._normalizeUser)(e,this._options),r=this._getCacheKey(t),n=this._inMemoryCache.get(r,t);if(n)return n;let i=this._loadFromCache(r);return i?(this._inMemoryCache.add(r,i),this._inMemoryCache.get(r,t)):null}setData(e,t){let r=t&&(0,s._normalizeUser)(t,this._options),n=this._getCacheKey(r);this._inMemoryCache.add(n,l("Bootstrap",e,null,r))}_getDataAsyncImpl(e,t,i){return r(this,void 0,void 0,function*(){a.Storage.isReady()||(yield a.Storage.isReadyResolver());let r=null!=e?e:this.getDataSync(t),o=[this._fetchAndPrepFromNetwork(r,t,i)];return(null==i?void 0:i.timeoutMs)&&o.push(new Promise(e=>setTimeout(e,i.timeoutMs)).then(()=>(n.Log.debug("Fetching latest value timed out"),null))),yield Promise.race(o)})}_prefetchDataImpl(e,t){return r(this,void 0,void 0,function*(){let r=e&&(0,s._normalizeUser)(e,this._options),n=this._getCacheKey(r),i=yield this._getDataAsyncImpl(null,r,t);i&&this._inMemoryCache.add(n,Object.assign(Object.assign({},i),{source:"Prefetch"}))})}_fetchAndPrepFromNetwork(e,t,i){var s;return r(this,void 0,void 0,function*(){let r=null!==(s=null==e?void 0:e.data)&&void 0!==s?s:null,a=null!=e&&this._isCachedResultValidFor204(e,t),c=yield this._fetchFromNetwork(r,t,i,a);if(!c)return n.Log.debug("No response returned for latest value"),null;let f=(0,u._typedJsonParse)(c,"has_updates","Response"),d=this._getSdkKey(),h=o.StableID.get(d),p=null;if((null==f?void 0:f.has_updates)===!0)p=l("Network",c,h,t);else{if(!r||(null==f?void 0:f.has_updates)!==!1)return null;p=l("NetworkNotModified",r,h,t)}let g=this._getCacheKey(t);return this._inMemoryCache.add(g,p),this._writeToCache(g,p),p})}_getSdkKey(){return null!=this._sdkKey?this._sdkKey:(n.Log.error(`${this._adapterName} is not attached to a Client`),"")}_loadFromCache(e){var t;let r=null===(t=a.Storage.getItem)||void 0===t?void 0:t.call(a.Storage,e);if(null==r)return null;let n=(0,u._typedJsonParse)(r,"source","Cached Result");return n?Object.assign(Object.assign({},n),{source:"Cache"}):null}_writeToCache(e,t){a.Storage.setItem(e,JSON.stringify(t)),this._runLocalStorageCacheEviction(e)}_runLocalStorageCacheEviction(e){var t;let r=null!==(t=(0,a._getObjectFromStorage)(this._lastModifiedStoreKey))&&void 0!==t?t:{};r[e]=Date.now();let n=f(r,10);n&&(delete r[n],a.Storage.removeItem(n)),(0,a._setObjectInStorage)(this._lastModifiedStoreKey,r)}},e.exports._makeDataAdapterResult=l;class c{constructor(){this._data={}}get(e,t){var r;let i=this._data[e],o=null==i?void 0:i.stableID,s=null===(r=null==t?void 0:t.customIDs)||void 0===r?void 0:r.stableID;return s&&o&&s!==o?(n.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):i}add(e,t){let r=f(this._data,9);r&&delete this._data[r],this._data[e]=t}merge(e){this._data=Object.assign(Object.assign({},this._data),e)}}function f(e,t){let r=Object.keys(e);return r.length<=t?null:r.reduce((t,r)=>{let n=e[t],i=e[r];return"object"==typeof n&&"object"==typeof i?i.receivedAt<n.receivedAt?r:t:i<n?r:t})}}),o("g3HHu",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.StableID=void 0;var r=i("h0ncH"),n=i("3PwaX"),o=i("4eDfO"),s=i("h3ely"),a=i("6jVRM");let u={},l={},c={};function f(e){return`statsig.stable_id.${(0,r._getStorageKey)(e)}`}function d(e,t){let r=f(t);try{(0,s._setObjectInStorage)(r,e)}catch(e){n.Log.warn("Failed to save StableID to storage")}}function h(e,t){if(!l[t]||!document)return;let r=new Date;r.setFullYear(r.getFullYear()+1),document.cookie=`${p(t)}=${encodeURIComponent(e)}; expires=${r.toUTCString()}; path=/`}function p(e){return`statsig.stable_id.${(0,r._getStorageKey)(e)}`}e.exports.StableID={cookiesEnabled:!1,randomID:Math.random().toString(36),get:e=>{if(c[e])return null;if(null!=u[e])return u[e];let t=null;return null!=(t=function(e){if(!l[e]||null==(0,o._getDocumentSafe)())return null;for(let t of document.cookie.split(";")){let[r,n]=t.trim().split("=");if(r===p(e))return decodeURIComponent(n)}return null}(e))?(u[e]=t,d(t,e)):(null==(t=function(e){let t=f(e);return(0,s._getObjectFromStorage)(t)}(e))&&(t=(0,a.getUUID)()),d(t,e),h(t,e),u[e]=t),t},setOverride:(e,t)=>{u[t]=e,d(e,t),h(e,t)},_setCookiesEnabled:(e,t)=>{l[e]=t},_setDisabled:(e,t)=>{c[e]=t}}}),o("6jVRM",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.getUUID=void 0,e.exports.getUUID=function(){if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();let e=new Date().getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0,r="89ab"[Math.floor(4*Math.random())];return`xxxxxxxx-xxxx-4xxx-${r}xxx-xxxxxxxxxxxx`.replace(/[xy]/g,r=>{let n=16*Math.random();return e>0?(n=(e+n)%16|0,e=Math.floor(e/16)):(n=(t+n)%16|0,t=Math.floor(t/16)),("x"===r?n:7&n|8).toString(16)})}}),o("geZHh",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports._getFullUserHash=e.exports._normalizeUser=void 0;var r=i("ikhuN"),n=i("3PwaX");e.exports._normalizeUser=function(e,t,r){try{let n=JSON.parse(JSON.stringify(e));return null!=t&&null!=t.environment?n.statsigEnvironment=t.environment:null!=r&&(n.statsigEnvironment={tier:r}),n}catch(e){return n.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}},e.exports._getFullUserHash=function(e){return e?(0,r._DJB2Object)(e):null}}),o("igC2e",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports._typedJsonParse=void 0;var r=i("3PwaX");e.exports._typedJsonParse=function(e,t,n){try{let r=JSON.parse(e);if(r&&"object"==typeof r&&t in r)return r}catch(e){}return r.Log.error(`Failed to parse ${n}`),null}}),o("aRkwj",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})}),o("mh7Z7",function(e,t){var r=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ErrorBoundary=e.exports.EXCEPTION_ENDPOINT=void 0;var n=i("3PwaX"),o=i("cyIUp"),s=i("fg8Pm");e.exports.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";let a="[Statsig] UnknownError";function u(e){return e instanceof Error?e:"string"==typeof e?Error(e):Error("An unknown error occurred.")}e.exports.ErrorBoundary=class{constructor(e,t,r,n){this._sdkKey=e,this._options=t,this._emitter=r,this._lastSeenError=n,this._seen=new Set}wrap(e){try{(function(e){let t=new Set,r=Object.getPrototypeOf(e);for(;r&&r!==Object.prototype;)Object.getOwnPropertyNames(r).filter(e=>"function"==typeof(null==r?void 0:r[e])).forEach(e=>t.add(e)),r=Object.getPrototypeOf(r);return Array.from(t)})(e).forEach(t=>{let r=e[t];"$EB"in r||(e[t]=(...n)=>this._capture(t,()=>r.apply(e,n)),e[t].$EB=!0)})}catch(e){this._onError("eb:wrap",e)}}logError(e,t){this._onError(e,t)}getLastSeenErrorAndReset(){let e=this._lastSeenError;return this._lastSeenError=void 0,null!=e?e:null}attachErrorIfNoneExists(e){this._lastSeenError||(this._lastSeenError=u(e))}_capture(e,t){try{let r=t();if(r&&r instanceof Promise)return r.catch(t=>this._onError(e,t));return r}catch(t){return this._onError(e,t),null}}_onError(t,i){try{n.Log.warn(`Caught error in ${t}`,{error:i}),r(this,void 0,void 0,function*(){var r,n,l,c,f,d,h;let p=i||Error(a),g=p instanceof Error,v=g?p.name:"No Name",_=u(p);if(this._lastSeenError=_,this._seen.has(v))return;if(this._seen.add(v),null===(n=null===(r=this._options)||void 0===r?void 0:r.networkConfig)||void 0===n?void 0:n.preventAllNetworkTraffic){null===(l=this._emitter)||void 0===l||l.call(this,{name:"error",error:i,tag:t});return}let y=o.SDKType._get(this._sdkKey),m=s.StatsigMetadataProvider.get(),b=g?p.stack:function(e){try{return JSON.stringify(e)}catch(e){return a}}(p),w=Object.assign({tag:t,exception:v,info:b,statsigOptions:function(e){if(!e)return{};let t={};return Object.entries(e).forEach(([e,r])=>{switch(typeof r){case"number":case"bigint":case"boolean":t[String(e)]=r;break;case"string":r.length<50?t[String(e)]=r:t[String(e)]="set";break;case"object":"environment"===e?t.environment=r:"networkConfig"===e?t.networkConfig=r:t[String(e)]=null!=r?"set":"unset"}}),t}(this._options)},Object.assign(Object.assign({},m),{sdkType:y})),x=null!==(d=null===(f=null===(c=this._options)||void 0===c?void 0:c.networkConfig)||void 0===f?void 0:f.networkOverrideFunc)&&void 0!==d?d:fetch;yield x(e.exports.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(y),"STATSIG-SDK-VERSION":String(m.sdkVersion),"Content-Type":"application/json"},body:JSON.stringify(w)}),null===(h=this._emitter)||void 0===h||h.call(this,{name:"error",error:i,tag:t})}).then(()=>{}).catch(()=>{})}catch(e){}}}}),o("cyIUp",function(e,t){let r;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SDKType=void 0;let n={};e.exports.SDKType={_get:e=>{var t;return(null!==(t=n[e])&&void 0!==t?t:"js-mono")+(null!=r?r:"")},_setClientType(e,t){n[e]=t},_setBindingType(e){r&&"-react"!==r||(r="-"+e)}}}),o("5XNup",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})}),o("4iW9q",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})}),o("8guxu",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})}),o("70dIf",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.createMemoKey=e.exports.MemoPrefix=void 0,e.exports.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_layer:"l",_paramStore:"p"};let r=new Set([]),n=new Set(["userPersistedValues"]);e.exports.createMemoKey=function(e,t,i){let o=`${e}|${t}`;if(!i)return o;for(let e of Object.keys(i)){if(n.has(e))return;r.has(e)?o+=`|${e}=true`:o+=`|${e}=${i[e]}`}return o}}),o("jZBRI",function(e,t){var r=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.NetworkCore=void 0;var n=(i("5wRKw"),i("5wRKw")),o=i("fEJEh"),s=i("3PwaX"),a=i("dlTXI"),u=i("eCEXv"),l=i("6sGO2"),c=i("cyIUp"),f=i("4eDfO"),d=i("akcer"),h=i("g3HHu"),p=i("jJAfe"),g=i("fg8Pm"),v=i("l8JPg"),_=i("j7FNz");let y=new Set([408,500,502,503,504,522,524,599]);e.exports.NetworkCore=class{constructor(e,t){this._emitter=t,this._errorBoundary=null,this._timeout=1e4,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,e&&(this._options=e),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new u.NetworkFallbackResolver(this._options),this.setLogEventCompressionMode(this._getLogEventCompressionMode(e))}setLogEventCompressionMode(e){this._options.logEventCompressionMode=e}setErrorBoundary(e){this._errorBoundary=e,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(e)}isBeaconSupported(){return"undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon}getLastUsedInitUrlAndReset(){let e=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,e}beacon(e){return r(this,void 0,void 0,function*(){if(!m(e))return!1;let t=this._getInternalRequestArgs("POST",e);yield this._tryToCompressBody(t);let r=yield this._getPopulatedURL(t),n=navigator;return n.sendBeacon.bind(n)(r,t.body)})}post(e){return r(this,void 0,void 0,function*(){let t=this._getInternalRequestArgs("POST",e);return this._tryEncodeBody(t),yield this._tryToCompressBody(t),this._sendRequest(t)})}get(e){let t=this._getInternalRequestArgs("GET",e);return this._sendRequest(t)}_sendRequest(e){var t,n,i,u;return r(this,void 0,void 0,function*(){if(!m(e)||this._netConfig.preventAllNetworkTraffic)return null;let{method:l,body:c,retries:f,attempt:d}=e,h=e.urlConfig.endpoint;if(this._isRateLimited(h))return s.Log.warn(`Request to ${h} was blocked because you are making requests too frequently.`),null;let g=null!=d?d:1,v="undefined"!=typeof AbortController?new AbortController:null,b=setTimeout(()=>{null==v||v.abort(`Timeout of ${this._timeout}ms expired.`)},this._timeout),x=yield this._getPopulatedURL(e),E=null,k=(0,_._isUnloading)();try{let r={method:l,body:c,headers:Object.assign({},e.headers),signal:null==v?void 0:v.signal,priority:e.priority,keepalive:k};e.urlConfig.endpoint===a.Endpoint._initialize&&o.Diagnostics._markInitNetworkReqStart(e.sdkKey,{attempt:g});let n=this._leakyBucket[h];n&&(n.lastRequestTime=Date.now(),this._leakyBucket[h]=n);let i=null!==(t=this._netConfig.networkOverrideFunc)&&void 0!==t?t:fetch;if(E=yield i(x,r),clearTimeout(b),!E.ok){let e=yield E.text().catch(()=>"No Text"),t=Error(`NetworkError: ${x} ${e}`);throw t.name="NetworkError",t}let s=yield E.text();return w(e,E,g,s),this._fallbackResolver.tryBumpExpiryTime(e.sdkKey,e.urlConfig),{body:s,code:E.status}}catch(a){let t=(null==v?void 0:v.signal.aborted)&&"string"==typeof v.signal.reason?v.signal.reason:"string"==typeof a?a:a instanceof Error?`${a.name}: ${a.message}`:"Unknown Error",o=(null==v?void 0:v.signal.aborted)&&"string"==typeof v.signal.reason&&v.signal.reason.includes("Timeout")||!1;if(w(e,E,g,"",a),(yield this._fallbackResolver.tryFetchUpdatedFallbackInfo(e.sdkKey,e.urlConfig,t,o))&&(e.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(e.sdkKey,e.urlConfig)),!f||g>f||!y.has(null!==(n=null==E?void 0:E.status)&&void 0!==n?n:500)){null===(i=this._emitter)||void 0===i||i.call(this,{name:"error",error:a,tag:p.ErrorTag.NetworkError,requestArgs:e});let r=`A networking error occurred during ${l} request to ${x}.`;return s.Log.error(r,t,a),null===(u=this._errorBoundary)||void 0===u||u.attachErrorIfNoneExists(r),null}return yield function(e){return r(this,void 0,void 0,function*(){yield new Promise(t=>setTimeout(t,Math.min(e*e*500,3e4)))})}(g),this._sendRequest(Object.assign(Object.assign({},e),{retries:f,attempt:g+1}))}})}_getLogEventCompressionMode(e){let t=null==e?void 0:e.logEventCompressionMode;return t||(null==e?void 0:e.disableCompression)!==!0||(t=v.LogEventCompressionMode.Disabled),t||(t=v.LogEventCompressionMode.Enabled),t}_isRateLimited(e){var t;let r=Date.now(),n=null!==(t=this._leakyBucket[e])&&void 0!==t?t:{count:0,lastRequestTime:r},i=Math.floor((r-n.lastRequestTime)*.05);return n.count=Math.max(0,n.count-i),n.count>=50||(n.count+=1,n.lastRequestTime=r,this._leakyBucket[e]=n,!1)}_getPopulatedURL(e){var t;return r(this,void 0,void 0,function*(){let r=null!==(t=e.fallbackUrl)&&void 0!==t?t:e.urlConfig.getUrl();(e.urlConfig.endpoint===a.Endpoint._initialize||e.urlConfig.endpoint===a.Endpoint._download_config_specs)&&(this._lastUsedInitUrl=r);let n=Object.assign({[a.NetworkParam.SdkKey]:e.sdkKey,[a.NetworkParam.SdkType]:c.SDKType._get(e.sdkKey),[a.NetworkParam.SdkVersion]:g.SDK_VERSION,[a.NetworkParam.Time]:String(Date.now()),[a.NetworkParam.SessionID]:d.SessionID.get(e.sdkKey)},e.params),i=Object.keys(n).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`).join("&");return`${r}${i?`?${i}`:""}`})}_tryEncodeBody(e){var t;let r=(0,f._getWindowSafe)(),i=e.body;if(e.isStatsigEncodable&&!this._options.disableStatsigEncoding&&"string"==typeof i&&null==(0,n._getStatsigGlobalFlag)("no-encode")&&(null==r?void 0:r.btoa))try{e.body=r.btoa(i).split("").reverse().join(""),e.params=Object.assign(Object.assign({},null!==(t=e.params)&&void 0!==t?t:{}),{[a.NetworkParam.StatsigEncoded]:"1"})}catch(t){s.Log.warn(`Request encoding failed for ${e.urlConfig.getUrl()}`,t)}}_tryToCompressBody(e){var t;return r(this,void 0,void 0,function*(){let r=e.body;if("string"==typeof r&&function(e,t){if(!e.isCompressable||null!=(0,n._getStatsigGlobalFlag)("no-compress")||"undefined"==typeof CompressionStream||"undefined"==typeof TextEncoder)return!1;let r=null!=e.urlConfig.customUrl||null!=e.urlConfig.fallbackUrls,i=!0===l.SDKFlags.get(e.sdkKey,"enable_log_event_compression");switch(t.logEventCompressionMode){case v.LogEventCompressionMode.Disabled:return!1;case v.LogEventCompressionMode.Enabled:if(r&&!i)return!1;return!0;case v.LogEventCompressionMode.Forced:return!0;default:return!1}}(e,this._options))try{let n;let i=new TextEncoder().encode(r),o=new CompressionStream("gzip"),u=o.writable.getWriter();u.write(i).catch(s.Log.error),u.close().catch(s.Log.error);let l=o.readable.getReader(),c=[];for(;!(n=yield l.read()).done;)c.push(n.value);let f=c.reduce((e,t)=>e+t.length,0),d=new Uint8Array(f),h=0;for(let e of c)d.set(e,h),h+=e.length;e.body=d,e.params=Object.assign(Object.assign({},null!==(t=e.params)&&void 0!==t?t:{}),{[a.NetworkParam.IsGzipped]:"1"})}catch(t){s.Log.warn(`Request compression failed for ${e.urlConfig.getUrl()}`,t)}})}_getInternalRequestArgs(e,t){let r=this._fallbackResolver.getActiveFallbackUrl(t.sdkKey,t.urlConfig),n=Object.assign(Object.assign({},t),{method:e,fallbackUrl:r});return"data"in t&&b(n,t.data),n}};let m=e=>!!e.sdkKey||(s.Log.warn("Unable to make request without an SDK key"),!1),b=(e,t)=>{let{sdkKey:r,fallbackUrl:n}=e,i=h.StableID.get(r),o=d.SessionID.get(r),s=c.SDKType._get(r);e.body=JSON.stringify(Object.assign(Object.assign({},t),{statsigMetadata:Object.assign(Object.assign({},g.StatsigMetadataProvider.get()),{stableID:i,sessionID:o,sdkType:s,fallbackUrl:n})}))};function w(e,t,r,n,i){e.urlConfig.endpoint===a.Endpoint._initialize&&o.Diagnostics._markInitNetworkReqEnd(e.sdkKey,o.Diagnostics._getDiagnosticsData(t,r,n,i))}}),o("eCEXv",function(e,t){var r=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports._isDomainFailure=e.exports.NetworkFallbackResolver=void 0;var n=i("fku66"),o=i("ikhuN"),s=i("3PwaX"),a=i("h3ely");function u(e,t){var r;let n=null!==(r=null==e?void 0:e.toLowerCase())&&void 0!==r?r:"";return t||n.includes("uncaught exception")||n.includes("failed to fetch")||n.includes("networkerror when attempting to fetch resource")}function l(e){return`statsig.network_fallback.${(0,o._DJB2)(e)}`}function c(e,t){let r=l(e);if(!t||0===Object.keys(t).length){a.Storage.removeItem(r);return}a.Storage.setItem(r,JSON.stringify(t))}e.exports.NetworkFallbackResolver=class{constructor(e){var t;this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=null===(t=e.networkConfig)||void 0===t?void 0:t.networkOverrideFunc}setErrorBoundary(e){this._errorBoundary=e}tryBumpExpiryTime(e,t){var r;let n=null===(r=this._fallbackInfo)||void 0===r?void 0:r[t.endpoint];n&&(n.expiryTime=Date.now()+6048e5,c(e,Object.assign(Object.assign({},this._fallbackInfo),{[t.endpoint]:n})))}getActiveFallbackUrl(e,t){var r,n;if(null!=t.customUrl&&null!=t.fallbackUrls)return null;let i=this._fallbackInfo;null==i&&(i=null!==(r=function(e){let t=l(e),r=a.Storage.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return s.Log.error("Failed to parse FallbackInfo"),null}}(e))&&void 0!==r?r:{},this._fallbackInfo=i);let o=i[t.endpoint];return!o||Date.now()>(null!==(n=o.expiryTime)&&void 0!==n?n:0)||t.getChecksum()!==o.urlConfigChecksum?(delete i[t.endpoint],this._fallbackInfo=i,c(e,this._fallbackInfo),null):o.url?o.url:null}tryFetchUpdatedFallbackInfo(e,t,n,i){var o,s;return r(this,void 0,void 0,function*(){try{if(!u(n,i))return!1;let r=null==t.customUrl&&null==t.fallbackUrls?yield this._tryFetchFallbackUrlsFromNetwork(t):t.fallbackUrls,s=this._pickNewFallbackUrl(null===(o=this._fallbackInfo)||void 0===o?void 0:o[t.endpoint],r);if(!s)return!1;return this._updateFallbackInfoWithNewUrl(e,t,s),!0}catch(e){return null===(s=this._errorBoundary)||void 0===s||s.logError("tryFetchUpdatedFallbackInfo",e),!1}})}_updateFallbackInfoWithNewUrl(e,t,r){var n,i,o;let s={urlConfigChecksum:t.getChecksum(),url:r,expiryTime:Date.now()+6048e5,previous:[]},a=t.endpoint,u=null===(n=this._fallbackInfo)||void 0===n?void 0:n[a];u&&s.previous.push(...u.previous),s.previous.length>10&&(s.previous=[]);let l=null===(o=null===(i=this._fallbackInfo)||void 0===i?void 0:i[a])||void 0===o?void 0:o.url;null!=l&&s.previous.push(l),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),{[a]:s}),c(e,this._fallbackInfo)}_tryFetchFallbackUrlsFromNetwork(e){var t;return r(this,void 0,void 0,function*(){let r=this._dnsQueryCooldowns[e.endpoint];if(r&&Date.now()<r)return null;this._dnsQueryCooldowns[e.endpoint]=Date.now()+144e5;let i=[],o=yield(0,n._fetchTxtRecords)(null!==(t=this._networkOverrideFunc)&&void 0!==t?t:fetch),s=function(e){try{return new URL(e).pathname}catch(e){return null}}(e.defaultUrl);for(let t of o){if(!t.startsWith(e.endpointDnsKey+"="))continue;let r=t.split("=");if(r.length>1){let e=r[1];e.endsWith("/")&&(e=e.slice(0,-1)),i.push(`https://${e}${s}`)}}return i})}_pickNewFallbackUrl(e,t){var r;if(null==t)return null;let n=new Set(null!==(r=null==e?void 0:e.previous)&&void 0!==r?r:[]),i=null==e?void 0:e.url,o=null;for(let e of t){let t=e.endsWith("/")?e.slice(0,-1):e;if(!n.has(e)&&t!==i){o=t;break}}return o}},e.exports._isDomainFailure=u}),o("fku66",function(e,t){var r=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports._fetchTxtRecords=void 0;let n=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),i=["i","e","d"];e.exports._fetchTxtRecords=function(e){return r(this,void 0,void 0,function*(){let t=yield e("https://cloudflare-dns.com/dns-query",{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:n});if(!t.ok){let e=Error("Failed to fetch TXT records from DNS");throw e.name="DnsTxtFetchError",e}return function(e){let t=e.findIndex((t,r)=>r<200&&"="===String.fromCharCode(t)&&i.includes(String.fromCharCode(e[r-1])));if(-1===t){let e=Error("Failed to parse TXT records from DNS");throw e.name="DnsTxtParseError",e}let r="";for(let n=t-1;n<e.length;n++)r+=String.fromCharCode(e[n]);return r.split(",")}(new Uint8Array((yield t.arrayBuffer())))})}}),o("6sGO2",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SDKFlags=void 0;let r={};e.exports.SDKFlags={setFlags:(e,t)=>{r[e]=t},get:(e,t)=>{var n,i;return null!==(i=null===(n=r[e])||void 0===n?void 0:n[t])&&void 0!==i&&i}}}),o("akcer",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.StatsigSession=e.exports.SessionID=void 0;var r=i("5wRKw"),n=i("h0ncH"),o=i("3PwaX"),s=i("h3ely"),a=i("6jVRM");let u={};function l(e,t){return setTimeout(()=>{var t;let n=null===(t=(0,r._getStatsigGlobal)())||void 0===t?void 0:t.instance(e);n&&n.$emt({name:"session_expired"})},t)}function c(e){return`statsig.session_id.${(0,n._getStorageKey)(e)}`}e.exports.SessionID={get:t=>e.exports.StatsigSession.get(t).data.sessionID},e.exports.StatsigSession={get:e=>(null==u[e]&&(u[e]=function(e){let t=function(e){let t=c(e);return(0,s._getObjectFromStorage)(t)}(e),r=Date.now();return t||(t={sessionID:(0,a.getUUID)(),startTime:r,lastUpdate:r}),{data:t,sdkKey:e}}(e)),function(e){let t=Date.now(),r=e.data,n=e.sdkKey;if(function({lastUpdate:e}){return Date.now()-e>18e5}(r)||function({startTime:e}){return Date.now()-e>144e5}(r)){r.sessionID=(0,a.getUUID)(),r.startTime=t;let e=null==__STATSIG__?void 0:__STATSIG__.instance(n);e&&e.$emt({name:"session_expired"})}r.lastUpdate=t,function(e,t){let r=c(t);try{(0,s._setObjectInStorage)(r,e)}catch(e){o.Log.warn("Failed to save SessionID")}}(r,e.sdkKey),clearTimeout(e.idleTimeoutID),clearTimeout(e.ageTimeoutID);let i=t-r.startTime;return e.idleTimeoutID=l(n,18e5),e.ageTimeoutID=l(n,144e5-i),e}(u[e])),overrideInitialSessionID:(e,t)=>{u[t]=function(e,t){let r=Date.now();return{data:{sessionID:e,startTime:r,lastUpdate:r},sdkKey:t}}(e,t)}}}),o("jJAfe",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ErrorTag=void 0,e.exports.ErrorTag={NetworkError:"NetworkError"}}),o("ixWg9",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})}),o("6AJqt",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})}),o("lKWKO",function(e,t){var r=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.StatsigClientBase=void 0;var n=(i("5wRKw"),i("5wRKw")),o=i("mh7Z7"),s=i("fwu8o"),a=i("3PwaX"),u=i("70dIf"),l=i("4eDfO"),c=i("akcer"),f=i("g3HHu"),d=i("l8JPg"),h=i("h3ely");e.exports.StatsigClientBase=class{constructor(e,t,r,i){var u,d,p,g;this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};let v=this.$emt.bind(this);(null==i?void 0:i.logLevel)!=null&&(a.Log.level=i.logLevel),(null==i?void 0:i.disableStorage)&&h.Storage._setDisabled(!0),(null==i?void 0:i.initialSessionID)&&c.StatsigSession.overrideInitialSessionID(i.initialSessionID,e),(null==i?void 0:i.storageProvider)&&h.Storage._setProvider(i.storageProvider),(null==i?void 0:i.enableCookies)&&f.StableID._setCookiesEnabled(e,i.enableCookies),(null==i?void 0:i.disableStableID)&&f.StableID._setDisabled(e,!0),this._sdkKey=e,this._options=null!=i?i:{},this._memoCache={},this.overrideAdapter=null!==(u=null==i?void 0:i.overrideAdapter)&&void 0!==u?u:null,this._logger=new s.EventLogger(e,v,r,i),this._errorBoundary=new o.ErrorBoundary(e,i,v),this._errorBoundary.wrap(this),this._errorBoundary.wrap(t),this._errorBoundary.wrap(this._logger),r.setErrorBoundary(this._errorBoundary),this.dataAdapter=t,this.dataAdapter.attach(e,i,r),this.storageProvider=h.Storage,null===(g=null===(p=null===(d=this.overrideAdapter)||void 0===d?void 0:d.loadFromStorage)||void 0===p?void 0:p.call(d))||void 0===g||g.catch(e=>this._errorBoundary.logError("OA::loadFromStorage",e)),this._primeReadyRipcord(),function(e,t){var r;if((0,l._isServerEnv)())return;let i=(0,n._getStatsigGlobal)(),o=null!==(r=i.instances)&&void 0!==r?r:{};null!=o[e]&&a.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys."),o[e]=t,i.firstInstance||(i.firstInstance=t),i.instances=o,__STATSIG__=i}(e,this)}updateRuntimeOptions(e){e.loggingEnabled?(this._options.loggingEnabled=e.loggingEnabled,this._logger.setLoggingEnabled(e.loggingEnabled)):null!=e.disableLogging&&(this._options.disableLogging=e.disableLogging,this._logger.setLoggingEnabled(e.disableLogging?"disabled":"browser-only")),null!=e.disableStorage&&(this._options.disableStorage=e.disableStorage,h.Storage._setDisabled(e.disableStorage)),null!=e.enableCookies&&(this._options.enableCookies=e.enableCookies,f.StableID._setCookiesEnabled(this._sdkKey,e.enableCookies)),e.logEventCompressionMode?this._logger.setLogEventCompressionMode(e.logEventCompressionMode):e.disableCompression&&this._logger.setLogEventCompressionMode(d.LogEventCompressionMode.Disabled)}flush(){return this._logger.flush()}shutdown(){return r(this,void 0,void 0,function*(){this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,yield this._logger.stop()})}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){if(this._listeners[e]){let r=this._listeners[e].indexOf(t);-1!==r&&this._listeners[e].splice(r,1)}}$on(e,t){t.__isInternal=!0,this.on(e,t)}$emt(e){var t;let r=t=>{try{t(e)}catch(r){if(!0===t.__isInternal){this._errorBoundary.logError(`__emit:${e.name}`,r);return}a.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",e)}};this._listeners[e.name]&&this._listeners[e.name].forEach(e=>r(e)),null===(t=this._listeners["*"])||void 0===t||t.forEach(r)}_setStatus(e,t){this.loadingStatus=e,this._memoCache={},this.$emt({name:"values_updated",status:e,values:t})}_enqueueExposure(e,t,r){if((null==r?void 0:r.disableExposureLog)===!0){this._logger.incrementNonExposureCount(e);return}this._logger.enqueue(t)}_memoize(e,t){return(r,n)=>{if(this._options.disableEvaluationMemoization)return t(r,n);let i=(0,u.createMemoKey)(e,r,n);return i?(i in this._memoCache||(Object.keys(this._memoCache).length>=3e3&&(this._memoCache={}),this._memoCache[i]=t(r,n)),this._memoCache[i]):t(r,n)}}}}),o("01SDe",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.DataAdapterCachePrefix=void 0,e.exports.DataAdapterCachePrefix="statsig.cached"}),o("kbj0k",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})}),o("7SE71",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports._makeTypedGet=e.exports._mergeOverride=e.exports._makeLayer=e.exports._makeExperiment=e.exports._makeDynamicConfig=e.exports._makeFeatureGate=void 0;var r=i("3PwaX"),n=i("7aLiB");function o(e,t,r,n){var i;return{name:e,details:t,ruleID:null!==(i=null==r?void 0:r.rule_id)&&void 0!==i?i:"",__evaluation:r,value:n}}function s(e,t,r){var n;let i=null!==(n=null==r?void 0:r.value)&&void 0!==n?n:{};return Object.assign(Object.assign({},o(e,t,r,i)),{get:a(e,null==r?void 0:r.value)})}function a(e,t,i){return(o,s)=>{var a;let u=null!==(a=null==t?void 0:t[o])&&void 0!==a?a:null;return null==u?null!=s?s:null:null==s||(0,n._isTypeMatch)(u,s)?(null==i||i(o),u):(r.Log.warn(`Parameter type mismatch. '${e}.${o}' was found to be type '${typeof u}' but fallback/return type is '${typeof s}'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters`),null!=s?s:null)}}e.exports._makeFeatureGate=function(e,t,r){var n;return Object.assign(Object.assign({},o(e,t,r,(null==r?void 0:r.value)===!0)),{idType:null!==(n=null==r?void 0:r.id_type)&&void 0!==n?n:null})},e.exports._makeDynamicConfig=s,e.exports._makeExperiment=function(e,t,r){var n;return Object.assign(Object.assign({},s(e,t,r)),{groupName:null!==(n=null==r?void 0:r.group_name)&&void 0!==n?n:null})},e.exports._makeLayer=function(e,t,r,n){var i,s;return Object.assign(Object.assign({},o(e,t,r,void 0)),{get:a(e,null==r?void 0:r.value,n),groupName:null!==(i=null==r?void 0:r.group_name)&&void 0!==i?i:null,__value:null!==(s=null==r?void 0:r.value)&&void 0!==s?s:{}})},e.exports._mergeOverride=function(e,t,r,n){return Object.assign(Object.assign(Object.assign({},e),t),{get:a(e.name,r,n)})},e.exports._makeTypedGet=a}),o("aovvf",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})}),o("g78sM",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.UPDATE_DETAIL_ERROR_MESSAGES=e.exports.createUpdateDetails=void 0,e.exports.createUpdateDetails=(e,t,r,n,i,o)=>({duration:r,source:t,success:e,error:n,sourceUrl:i,warnings:o}),e.exports.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."}}),o("9osPj",function(e,t){var r=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(e.exports,"__esModule",{value:!0});var n=i("64Xml"),o=i("3Z7JN"),s=i("3aLyd"),a=i("8mYvK"),u=i("f8QBL");class l extends n.StatsigClientBase{static instance(e){let t=(0,n._getStatsigGlobal)().instance(e);return t instanceof l?t:(n.Log.warn((0,n._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new l(null!=e?e:"",{}))}constructor(e,t,r=null){var i,a;n.SDKType._setClientType(e,"javascript-client");let l=new s.default(r,e=>{this.$emt(e)});for(let s of(super(e,null!==(i=null==r?void 0:r.dataAdapter)&&void 0!==i?i:new u.StatsigEvaluationsDataAdapter,l,r),this.getFeatureGate=this._memoize(n.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(n.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(n.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getLayer=this._memoize(n.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(n.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new o.default(e),this._network=l,this._user=this._configureUser(t,r),null!==(a=null==r?void 0:r.plugins)&&void 0!==a?a:[]))s.bind(this)}initializeSync(e){var t;return"Uninitialized"!==this.loadingStatus?(0,n.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...null!==(t=this._store.getWarnings())&&void 0!==t?t:[]]):(this._logger.start(),this.updateUserSync(this._user,e))}initializeAsync(e){return r(this,void 0,void 0,function*(){return this._initializePromise||(this._initializePromise=this._initializeAsyncImpl(e)),this._initializePromise})}updateUserSync(e,t){var r;let i=performance.now(),o=[...null!==(r=this._store.getWarnings())&&void 0!==r?r:[]];this._resetForUser(e);let s=this.dataAdapter.getDataSync(this._user);null==s&&o.push("NoCachedValues"),this._store.setValues(s,this._user),this._finalizeUpdate(s);let a=null==t?void 0:t.disableBackgroundCacheRefresh;return!0===a||null==a&&(null==s?void 0:s.source)==="Bootstrap"||this._runPostUpdate(null!=s?s:null,this._user),(0,n.createUpdateDetails)(!0,this._store.getSource(),performance.now()-i,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),o)}updateUserAsync(e,t){return r(this,void 0,void 0,function*(){this._resetForUser(e);let r=this._user;n.Diagnostics._markInitOverallStart(this._sdkKey);let i=this.dataAdapter.getDataSync(r);if(this._store.setValues(i,this._user),this._setStatus("Loading",i),i=yield this.dataAdapter.getDataAsync(i,r,t),r!==this._user)return(0,n.createUpdateDetails)(!1,this._store.getSource(),-1,Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let o=!1;null!=i&&(n.Diagnostics._markInitProcessStart(this._sdkKey),o=this._store.setValues(i,this._user),n.Diagnostics._markInitProcessEnd(this._sdkKey,{success:o})),this._finalizeUpdate(i),o||(this._errorBoundary.attachErrorIfNoneExists(n.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),n.Diagnostics._markInitOverallEnd(this._sdkKey,o,this._store.getCurrentSourceDetails());let s=n.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,n.createUpdateDetails)(o,this._store.getSource(),s,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:n.StatsigSession.get(this._sdkKey),stableID:n.StableID.get(this._sdkKey)}}checkGate(e,t){return this.getFeatureGate(e,t).value}logEvent(e,t,r){let n="string"==typeof e?{eventName:e,value:t,metadata:r}:e;this.$emt({name:"log_event_called",event:n}),this._logger.enqueue(Object.assign(Object.assign({},n),{user:this._user,time:Date.now()}))}_primeReadyRipcord(){this.$on("error",()=>{"Loading"===this.loadingStatus&&this._finalizeUpdate(null)})}_initializeAsyncImpl(e){return r(this,void 0,void 0,function*(){return n.Storage.isReady()||(yield n.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,e)})}_finalizeUpdate(e){this._store.finalize(),this._setStatus("Ready",e)}_runPostUpdate(e,t){this.dataAdapter.getDataAsync(e,t,{priority:"low"}).catch(e=>{n.Log.error("An error occurred after update.",e)})}_resetForUser(e){this._logger.reset(),this._store.reset(),this._user=this._configureUser(e,this._options)}_configureUser(e,t){var r;let i=(0,n._normalizeUser)(e,t),o=null===(r=i.customIDs)||void 0===r?void 0:r.stableID;return o&&n.StableID.setOverride(o,this._sdkKey),i}_getFeatureGateImpl(e,t){var r,i;let{result:o,details:s}=this._store.getGate(e),a=(0,n._makeFeatureGate)(e,s,o),u=null===(i=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getGateOverride)||void 0===i?void 0:i.call(r,a,this._user,t),l=null!=u?u:a;return this._enqueueExposure(e,(0,n._createGateExposure)(this._user,l,this._store.getExposureMapping()),t),this.$emt({name:"gate_evaluation",gate:l}),l}_getDynamicConfigImpl(e,t){var r,i;let{result:o,details:s}=this._store.getConfig(e),a=(0,n._makeDynamicConfig)(e,s,o),u=null===(i=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getDynamicConfigOverride)||void 0===i?void 0:i.call(r,a,this._user,t),l=null!=u?u:a;return this._enqueueExposure(e,(0,n._createConfigExposure)(this._user,l,this._store.getExposureMapping()),t),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:l}),l}_getExperimentImpl(e,t){var r,i,o,s;let{result:a,details:u}=this._store.getConfig(e),l=(0,n._makeExperiment)(e,u,a);null!=l.__evaluation&&(l.__evaluation.secondary_exposures=(0,n._mapExposures)(null!==(i=null===(r=l.__evaluation)||void 0===r?void 0:r.secondary_exposures)&&void 0!==i?i:[],this._store.getExposureMapping()));let c=null===(s=null===(o=this.overrideAdapter)||void 0===o?void 0:o.getExperimentOverride)||void 0===s?void 0:s.call(o,l,this._user,t),f=null!=c?c:l;return this._enqueueExposure(e,(0,n._createConfigExposure)(this._user,f,this._store.getExposureMapping()),t),this.$emt({name:"experiment_evaluation",experiment:f}),f}_getLayerImpl(e,t){var r,i,o;let{result:s,details:a}=this._store.getLayer(e),u=(0,n._makeLayer)(e,a,s),l=null===(i=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getLayerOverride)||void 0===i?void 0:i.call(r,u,this._user,t);(null==t?void 0:t.disableExposureLog)&&this._logger.incrementNonExposureCount(e);let c=(0,n._mergeOverride)(u,l,null!==(o=null==l?void 0:l.__value)&&void 0!==o?o:u.__value,r=>{null!=t&&t.disableExposureLog||this._enqueueExposure(e,(0,n._createLayerParameterExposure)(this._user,c,r,this._store.getExposureMapping()),t)});return this.$emt({name:"layer_evaluation",layer:c}),c}_getParameterStoreImpl(e,t){var r,n;let{result:i,details:o}=this._store.getParamStore(e);this._logger.incrementNonExposureCount(e);let s={name:e,details:o,__configuration:i,get:(0,a._makeParamStoreGetter)(this,i,t)},u=null===(n=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getParamStoreOverride)||void 0===n?void 0:n.call(r,s,t);return null!=u&&(s.__configuration=u.config,s.details=u.details,s.get=(0,a._makeParamStoreGetter)(this,u.config,t)),s}}e.exports.default=l}),o("3Z7JN",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0});var r=i("64Xml");e.exports.default=class{constructor(e){this._sdkKey=e,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,r._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(e,t){var n;if(!e)return!1;let i=(0,r._typedJsonParse)(e.data,"has_updates","EvaluationResponse");return null!=i&&(this._source=e.source,(null==i?void 0:i.has_updates)!==!0||(this._rawValues=e.data,this._lcut=i.time,this._receivedAt=e.receivedAt,this._values=i,this._bootstrapMetadata=this._extractBootstrapMetadata(e.source,i),e.source&&i.user&&this._setWarningState(t,i),r.SDKFlags.setFlags(this._sdkKey,null!==(n=i.sdk_flags)&&void 0!==n?n:{}),!0))}getWarnings(){if(0!==this._warnings.size)return Array.from(this._warnings)}getGate(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.feature_gates,e)}getConfig(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.dynamic_configs,e)}getLayer(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.layer_configs,e)}getParamStore(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.param_stores,e)}getSource(){return this._source}getExposureMapping(){var e;return null===(e=this._values)||void 0===e?void 0:e.exposures}_extractBootstrapMetadata(e,t){if("Bootstrap"!==e)return null;let r={};return t.user&&(r.user=t.user),t.sdkInfo&&(r.generatorSDKInfo=t.sdkInfo),r.lcut=t.time,r}_getDetailedStoreResult(e,t){let n=null;return e&&(n=e[t]?e[t]:e[(0,r._DJB2)(t)]),{result:n,details:this._getDetails(null==n)}}_setWarningState(e,t){var n,i;let o=r.StableID.get(this._sdkKey);if((null===(n=e.customIDs)||void 0===n?void 0:n.stableID)!==o&&((null===(i=e.customIDs)||void 0===i?void 0:i.stableID)||o)){this._warnings.add("StableIDMismatch");return}if("user"in t){let n=t.user;(0,r._getFullUserHash)(e)!==(0,r._getFullUserHash)(n)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if("Uninitialized"===this._source||"NoValues"===this._source)return{reason:this._source};let e={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(e.warnings=Array.from(this._warnings)),e}_getDetails(e){var t,r;let n=this.getCurrentSourceDetails(),i=n.reason,o=null!==(t=n.warnings)&&void 0!==t?t:[];"Bootstrap"===this._source&&o.length>0&&(i+=o[0]),"Uninitialized"!==i&&"NoValues"!==i&&(i=`${i}:${e?"Unrecognized":"Recognized"}`);let s="Bootstrap"===this._source&&null!==(r=this._bootstrapMetadata)&&void 0!==r?r:void 0;return s&&(n.bootstrapMetadata=s),Object.assign(Object.assign({},n),{reason:i})}}}),o("3aLyd",function(e,t){var r=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(e.exports,"__esModule",{value:!0});var n=i("64Xml"),o=i("gNxpy");class s extends n.NetworkCore{constructor(e,t){super(e,t);let r=null==e?void 0:e.networkConfig;this._option=e,this._initializeUrlConfig=new n.UrlConfiguration(n.Endpoint._initialize,null==r?void 0:r.initializeUrl,null==r?void 0:r.api,null==r?void 0:r.initializeFallbackUrls)}fetchEvaluations(e,t,i,o,s){var a,u,l,c,f,d;return r(this,void 0,void 0,function*(){let r=t?(0,n._typedJsonParse)(t,"has_updates","InitializeResponse"):null,h={user:o,hash:null!==(l=null===(u=null===(a=this._option)||void 0===a?void 0:a.networkConfig)||void 0===u?void 0:u.initializeHashAlgorithm)&&void 0!==l?l:"djb2",deltasResponseRequested:!1,full_checksum:null};if(null==r?void 0:r.has_updates){let e=(null==r?void 0:r.hash_used)!==(null!==(d=null===(f=null===(c=this._option)||void 0===c?void 0:c.networkConfig)||void 0===f?void 0:f.initializeHashAlgorithm)&&void 0!==d?d:"djb2");h=Object.assign(Object.assign({},h),{sinceTime:s&&!e?r.time:0,previousDerivedFields:"derived_fields"in r&&s?r.derived_fields:{},deltasResponseRequested:!0,full_checksum:r.full_checksum,partialUserMatchSinceTime:e?0:r.time})}return this._fetchEvaluations(e,r,h,i)})}_fetchEvaluations(e,t,n,i){var s,a;return r(this,void 0,void 0,function*(){let r=yield this.post({sdkKey:e,urlConfig:this._initializeUrlConfig,data:n,retries:2,isStatsigEncodable:!0,priority:i});if((null==r?void 0:r.code)===204)return'{"has_updates": false}';if((null==r?void 0:r.code)!==200)return null!==(s=null==r?void 0:r.body)&&void 0!==s?s:null;if((null==t?void 0:t.has_updates)!==!0||(null===(a=r.body)||void 0===a?void 0:a.includes('"is_delta":true'))!==!0||!0!==n.deltasResponseRequested)return r.body;let u=(0,o._resolveDeltasResponse)(t,r.body);return"string"==typeof u?u:this._fetchEvaluations(e,t,Object.assign(Object.assign(Object.assign({},n),u),{deltasResponseRequested:!1}),i)})}}e.exports.default=s}),o("gNxpy",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports._resolveDeltasResponse=void 0;var r=i("64Xml");function n(e,t){null==e||e.forEach(e=>{delete t[e]})}e.exports._resolveDeltasResponse=function(e,t){var i;let o=(0,r._typedJsonParse)(t,"checksum","DeltasEvaluationResponse");if(!o)return{hadBadDeltaChecksum:!0};let s=(n((i=Object.assign(Object.assign(Object.assign({},e),o),{feature_gates:Object.assign(Object.assign({},e.feature_gates),o.feature_gates),layer_configs:Object.assign(Object.assign({},e.layer_configs),o.layer_configs),dynamic_configs:Object.assign(Object.assign({},e.dynamic_configs),o.dynamic_configs)})).deleted_gates,i.feature_gates),delete i.deleted_gates,n(i.deleted_configs,i.dynamic_configs),delete i.deleted_configs,n(i.deleted_layers,i.layer_configs),delete i.deleted_layers,i),a=(0,r._DJB2Object)({feature_gates:s.feature_gates,dynamic_configs:s.dynamic_configs,layer_configs:s.layer_configs},2);return a!==o.checksumV2?{hadBadDeltaChecksum:!0,badChecksum:a,badMergedConfigs:s,badFullResponse:o.deltas_full_response}:JSON.stringify(s)}}),o("8mYvK",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports._makeParamStoreGetter=void 0;var r=i("64Xml");let n={disableExposureLog:!0};function o(e){return null==e||!1===e.disableExposureLog}function s(e,t){return null!=t&&!(0,r._isTypeMatch)(e,t)}e.exports._makeParamStoreGetter=function(e,t,i){return(a,u)=>{if(null==t)return u;let l=t[a];if(null==l||null!=u&&(0,r._typeOf)(u)!==l.param_type)return u;switch(l.ref_type){case"static":return l.value;case"gate":return e.getFeatureGate(l.gate_name,o(i)?void 0:n).value?l.pass_value:l.fail_value;case"dynamic_config":return function(e,t,r,i){let a=e.getDynamicConfig(t.config_name,o(i)?void 0:n).get(t.param_name);return s(a,r)?r:a}(e,l,u,i);case"experiment":return function(e,t,r,i){let a=e.getExperiment(t.experiment_name,o(i)?void 0:n).get(t.param_name);return s(a,r)?r:a}(e,l,u,i);case"layer":return function(e,t,r,i){let a=e.getLayer(t.layer_name,o(i)?void 0:n).get(t.param_name);return s(a,r)?r:a}(e,l,u,i);default:return u}}}}),o("f8QBL",function(e,t){var r=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.StatsigEvaluationsDataAdapter=void 0;var n=i("64Xml"),o=i("3aLyd");class s extends n.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(e,t,r){super.attach(e,t,r),null!==r&&r instanceof o.default?this._network=r:this._network=new o.default(null!=t?t:{})}getDataAsync(e,t,r){return this._getDataAsyncImpl(e,(0,n._normalizeUser)(t,this._options),r)}prefetchData(e,t){return this._prefetchDataImpl(e,t)}setData(e){let t=(0,n._typedJsonParse)(e,"has_updates","data");t&&"user"in t?super.setData(e,t.user):n.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(e,t){super.setData(e,t)}_fetchFromNetwork(e,t,n,i){var o;return r(this,void 0,void 0,function*(){let r=yield null===(o=this._network)||void 0===o?void 0:o.fetchEvaluations(this._getSdkKey(),e,null==n?void 0:n.priority,t,i);return null!=r?r:null})}_getCacheKey(e){var t;let r=(0,n._getStorageKey)(this._getSdkKey(),e,null===(t=this._options)||void 0===t?void 0:t.customUserCacheKeyFunc);return`${n.DataAdapterCachePrefix}.${this._cacheSuffix}.${r}`}_isCachedResultValidFor204(e,t){return null!=e.fullUserHash&&e.fullUserHash===(0,n._getFullUserHash)(t)}}e.exports.StatsigEvaluationsDataAdapter=s}),i("inGbX")})();
//# sourceMappingURL=background.f765fb96.js.map

//# debugId=2ab1392c-5037-5acf-9955-ed0271439091
